(this["webpackJsonpmfb-admin"]=this["webpackJsonpmfb-admin"]||[]).push([[0],{233:function(e,t,a){},319:function(e,t){},321:function(e,t){},332:function(e,t){},334:function(e,t){},361:function(e,t){},363:function(e,t){},364:function(e,t){},370:function(e,t){},372:function(e,t){},390:function(e,t){},392:function(e,t){},404:function(e,t){},407:function(e,t){},433:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),r=a.n(c),s=a(55),l=a.n(s),i=a(18),o=a(23),u=(a(233),a(2)),d=a.n(u),j=a(4),b=a(11),m=a(7),p=a(3),h=a.p+"static/media/side-img.518dc6bb.png",O=a.p+"static/media/logo-main.a26f2acd.png";function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var f=c.createElement("path",{fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),g=c.createElement("path",{fillRule:"evenodd",d:"M4 8a.5.5 0 0 0 .5.5h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5A.5.5 0 0 0 4 8z"});function N(e,t){var a=e.title,n=e.titleId,r=x(e,["title","titleId"]);return c.createElement("svg",v({width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-arrow-right-circle",fill:"currentColor",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,f,g)}var w=c.forwardRef(N);a.p;function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var k=c.createElement("path",{d:"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"}),A=c.createElement("path",{fillRule:"evenodd",d:"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"});function C(e,t){var a=e.title,n=e.titleId,r=_(e,["title","titleId"]);return c.createElement("svg",y({width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-eye-fill",fill:"currentColor",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,k,A)}var S=c.forwardRef(C);a.p;function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function E(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var I=c.createElement("path",{d:"M10.79 12.912l-1.614-1.615a3.5 3.5 0 0 1-4.474-4.474l-2.06-2.06C.938 6.278 0 8 0 8s3 5.5 8 5.5a7.029 7.029 0 0 0 2.79-.588zM5.21 3.088A7.028 7.028 0 0 1 8 2.5c5 0 8 5.5 8 5.5s-.939 1.721-2.641 3.238l-2.062-2.062a3.5 3.5 0 0 0-4.474-4.474L5.21 3.089z"}),D=c.createElement("path",{d:"M5.525 7.646a2.5 2.5 0 0 0 2.829 2.829l-2.83-2.829zm4.95.708l-2.829-2.83a2.5 2.5 0 0 1 2.829 2.829z"}),R=c.createElement("path",{fillRule:"evenodd",d:"M13.646 14.354l-12-12 .708-.708 12 12-.708.708z"});function L(e,t){var a=e.title,n=e.titleId,r=E(e,["title","titleId"]);return c.createElement("svg",P({width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-eye-slash-fill",fill:"currentColor",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,I,D,R)}var F=c.forwardRef(L);a.p;function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function T(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var B=c.createElement("path",{id:"Icon_metro-spinner5","data-name":"Icon metro-spinner5",d:"M2.574,36.733h0l0,.015a4.341,4.341,0,0,0,.09.769l.046.391q.023.192.049.412l.081.554c.058.389.122.822.2,1.285l.3,1.414c.048.252.12.509.189.773l.214.813c.038.138.07.28.116.421l.135.427.28.88.072.225.083.225.17.455.351.931.407.944.209.481c.071.161.154.319.231.479l.479.971c.167.324.353.645.532.971l.273.49c.093.163.2.322.3.484l.605.972a36.248,36.248,0,0,0,2.86,3.746,35.911,35.911,0,0,0,3.435,3.361A35.576,35.576,0,0,0,18.11,62.41a35.082,35.082,0,0,0,4.024,2.11l1.008.411c.167.066.33.138.5.2l.5.176c.332.114.656.235.982.338l.97.287c.16.046.316.1.475.136l.473.115.922.223.9.173.436.083.215.041.215.03.834.116.4.055c.132.019.265.026.394.039l.757.066c.245.021.481.047.713.05l.046,0A4.336,4.336,0,0,0,37.2,71.319l.11,0h0l.015,0a4.339,4.339,0,0,0,.769-.09l.391-.046.412-.049.554-.081c.389-.058.822-.122,1.285-.2l1.414-.3c.252-.048.509-.12.773-.189l.813-.214c.139-.038.28-.07.421-.116l.427-.135.88-.28.225-.072.225-.083.455-.169.931-.351.944-.407.481-.209c.161-.071.319-.154.479-.231l.971-.479c.324-.167.645-.353.971-.532l.49-.273c.163-.093.322-.2.484-.3l.972-.606a36.272,36.272,0,0,0,3.746-2.86A35.973,35.973,0,0,0,60.2,59.624a35.555,35.555,0,0,0,2.786-3.844,35.028,35.028,0,0,0,2.11-4.024l.411-1.008c.066-.167.138-.33.2-.5l.176-.5c.114-.332.235-.656.338-.982l.287-.97c.046-.16.1-.316.137-.475l.115-.474.223-.922.173-.9.083-.436.04-.214.03-.215.116-.834.056-.4c.019-.132.025-.264.038-.394q.034-.388.066-.757c.021-.245.046-.482.05-.713,0-.036,0-.071,0-.107a4.337,4.337,0,0,0,4.319-4.336c0-.037,0-.073,0-.11h0l0-.015a4.339,4.339,0,0,0-.09-.769l-.046-.391q-.023-.192-.049-.412l-.081-.554c-.058-.389-.122-.822-.2-1.285l-.3-1.414c-.048-.252-.12-.509-.189-.773l-.214-.813c-.038-.139-.07-.28-.116-.421l-.135-.427-.28-.88-.072-.225-.083-.225-.17-.455-.351-.931-.407-.944-.209-.481c-.071-.161-.154-.319-.231-.48l-.479-.971c-.167-.324-.353-.645-.532-.971l-.273-.49c-.093-.163-.2-.322-.3-.484l-.605-.972a36.277,36.277,0,0,0-2.86-3.746,35.928,35.928,0,0,0-3.435-3.361,35.554,35.554,0,0,0-3.844-2.786A35.039,35.039,0,0,0,52.4,8.727l-1.008-.411c-.167-.066-.33-.138-.5-.2l-.5-.176c-.332-.114-.656-.235-.982-.338l-.97-.287c-.16-.046-.316-.1-.475-.136l-.473-.115-.922-.223-.9-.173-.436-.083-.215-.04-.215-.03L43.975,6.4l-.4-.056c-.132-.019-.265-.025-.394-.039l-.757-.066c-.245-.021-.481-.046-.713-.05l-.17-.006A4.336,4.336,0,0,0,37.2,1.928l-.11,0h0l-.015,0a4.341,4.341,0,0,0-.769.09l-.391.046-.412.049-.554.081c-.389.058-.822.122-1.285.2l-1.414.3c-.252.048-.509.12-.773.189l-.813.214c-.139.038-.28.07-.421.116l-.427.135-.88.28-.225.072-.225.083-.455.169L27.1,4.3,26.16,4.7l-.481.209c-.161.071-.319.154-.479.231l-.971.479c-.324.167-.645.353-.971.532l-.49.273c-.163.093-.322.2-.484.3l-.972.606a36.272,36.272,0,0,0-3.746,2.86A35.975,35.975,0,0,0,14.2,13.624a35.555,35.555,0,0,0-2.786,3.844,35.027,35.027,0,0,0-2.11,4.024L8.9,22.5c-.066.167-.138.33-.2.5l-.176.5c-.114.332-.235.656-.338.982l-.287.97c-.046.16-.1.316-.137.475l-.115.474-.223.922-.173.9-.083.436-.04.214-.03.215-.116.834-.056.4c-.019.132-.025.264-.038.394q-.034.388-.066.757c-.021.245-.046.482-.05.713,0,.037,0,.073,0,.11a4.336,4.336,0,0,0-4.195,4.333c0,.037,0,.073,0,.11Zm4.979-4.4.009-.039c.044-.22.111-.443.173-.674l.2-.708c.035-.121.063-.244.1-.366l.123-.371.253-.765.065-.2.075-.195.153-.4.315-.808L9.384,27l.186-.417c.063-.14.138-.276.207-.415l.427-.841c.149-.281.315-.557.474-.84l.242-.424c.082-.141.175-.278.263-.418l.537-.84a31.951,31.951,0,0,1,2.53-3.228,31.618,31.618,0,0,1,3.022-2.883,31.234,31.234,0,0,1,3.366-2.373,30.737,30.737,0,0,1,3.506-1.779l.876-.342c.145-.055.286-.116.431-.166l.434-.145c.288-.094.568-.2.85-.281l.84-.235c.138-.037.273-.081.41-.113l.41-.093.8-.182.777-.137.376-.066.185-.033.185-.022.719-.089.346-.044c.113-.015.228-.018.34-.028l.652-.047c.211-.015.414-.036.614-.034l1.11-.025.869.031.368.011.4.026.394.026a4.372,4.372,0,0,0,.677.053l.095,0h.015a4.337,4.337,0,0,0,4.171-3.643l.109.024c.22.044.443.111.674.173l.708.2c.12.035.244.063.366.1l.371.123.765.253.2.065.195.075.4.153.809.315.819.365.417.186c.14.063.276.138.415.207l.841.427c.281.149.557.315.84.474l.424.242c.141.082.278.175.418.263l.84.537a31.948,31.948,0,0,1,3.228,2.53A31.619,31.619,0,0,1,57.2,16.69a31.232,31.232,0,0,1,2.373,3.366,30.709,30.709,0,0,1,1.78,3.506l.342.876c.055.145.116.286.166.431L62,25.3c.094.288.2.568.281.85l.235.84c.037.138.081.273.112.41l.093.41.182.8.137.777.066.376.033.185.022.185.089.719.044.346c.015.113.018.228.028.339q.024.335.047.652c.015.211.036.414.034.614.009.4.017.767.025,1.11-.011.316-.022.606-.031.869l-.011.368-.026.4c-.009.144-.018.275-.026.394a4.476,4.476,0,0,0-.052.677c0,.032,0,.063,0,.095,0,.009,0,.015,0,.015h0a4.337,4.337,0,0,0,3.57,4.159l-.013.06c-.044.22-.111.443-.173.674l-.2.708c-.035.121-.063.244-.1.366l-.123.371L66,43.837l-.065.2-.075.195-.153.4-.315.808-.365.819-.186.417c-.063.14-.138.276-.207.415l-.427.841c-.149.281-.315.557-.474.84l-.242.424c-.082.141-.175.278-.263.418l-.537.84a31.95,31.95,0,0,1-2.53,3.228,31.619,31.619,0,0,1-3.022,2.883,31.234,31.234,0,0,1-3.366,2.373,30.737,30.737,0,0,1-3.506,1.779l-.876.342c-.145.055-.286.116-.431.166l-.434.145c-.288.094-.568.2-.85.281l-.84.235c-.138.037-.273.081-.41.113l-.41.093-.8.182-.777.137-.376.066-.185.033-.185.022-.719.089-.346.044c-.113.015-.228.018-.34.028l-.652.047c-.211.015-.414.036-.614.034l-1.11.025-.869-.031-.368-.011-.4-.026-.394-.026a4.372,4.372,0,0,0-.677-.053l-.095,0H37.1a4.337,4.337,0,0,0-4.167,3.616c-.217-.043-.437-.109-.664-.171l-.708-.2c-.12-.035-.244-.064-.366-.1l-.371-.123-.765-.253-.2-.065-.195-.075-.4-.153-.809-.315-.819-.365-.417-.186c-.14-.063-.276-.138-.415-.207l-.841-.427c-.281-.149-.557-.315-.84-.474l-.424-.242c-.141-.082-.278-.175-.418-.263l-.84-.537a31.929,31.929,0,0,1-3.228-2.53,31.619,31.619,0,0,1-2.883-3.022,31.205,31.205,0,0,1-2.373-3.366,30.716,30.716,0,0,1-1.78-3.506l-.342-.876c-.055-.145-.116-.286-.166-.431l-.145-.434c-.094-.288-.2-.568-.281-.85l-.235-.84c-.037-.138-.081-.273-.112-.41l-.093-.409-.182-.8-.137-.777-.066-.376-.033-.185-.022-.185-.089-.718-.044-.346c-.015-.114-.018-.228-.028-.34q-.024-.334-.047-.651c-.015-.211-.036-.414-.034-.614-.009-.4-.017-.767-.025-1.11.011-.316.022-.606.031-.868q.005-.195.011-.368l.026-.4c.009-.144.018-.275.026-.394a4.5,4.5,0,0,0,.052-.677c0-.032,0-.063,0-.095,0-.009,0-.015,0-.015h0a4.337,4.337,0,0,0-3.689-4.179Z",transform:"translate(-2.571 -1.928)"});function V(e,t){var a=e.title,n=e.titleId,r=T(e,["title","titleId"]);return c.createElement("svg",M({width:"1em",height:"1em",viewBox:"0 0 69.391 69.391",fill:"currentColor",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,B)}var U=c.forwardRef(V),Y=(a.p,a(225)),z=a(24),H=a.n(z),G=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"/api/v1",REACT_APP_ACCESS_STORAGE_TOKEN:"admin_token",REACT_APP_API_PROXY_URL:"https://ibank.npfmicrofinancebank.com",REACT_APP_LOAN_API_BASE_URL:"/api/loan/v1",REACT_APP_ACCESS_LOAN_STORAGE_TOKEN:"loan_admin_token",REACT_APP_LOAN_API_PROXY_URL:"http://23.100.7.199:3001",REACT_APP_SECRET_KEY:"LFVFJ1V8N7DOQAJ9LF8JVCX0KMWIXI90T21EN0NX1XCGF22HR0CR9CE1KH00FXFTIR9MM1RAY2P0LT7OF7CAFQKCIYS8OTTXJCS3I0T9D06LD5NF0XIL0YK8HC8UUGCDSYNSF6V0S8JX54PKN8JDBWX1TV0IGJIQTNIUXEH7D3L1Y0V0BW9AUUER5KR2PI4VYSUAS7J7",REACT_APP_ADMIN_ROLE:"admin_role",REACT_APP_TRANSFER_LIMIT:"5000000",REACT_APP_LOAN_WEB_PROXY_URL:"http://23.100.7.199:3001",REACT_APP_LOAN_ROLE:"loan_role",REACT_APP_BRANCH_ID:"branch_id",REACT_APP_ADMIN_EMAIL:"admin_email",REACT_APP_ADMIN_NAME:"admin_name",REACT_APP_HQ_ID:"7",REACT_APP_WQ_ID:"8",REACT_APP_NQ_ID:"9",REACT_APP_EQ_ID:"11"}),W=G.REACT_APP_ACCESS_STORAGE_TOKEN,q=G.REACT_APP_ACCESS_LOAN_STORAGE_TOKEN,X=G.REACT_APP_ADMIN_ROLE,J=G.REACT_APP_LOAN_ROLE,K=G.REACT_APP_BRANCH_ID,Q=G.REACT_APP_ADMIN_EMAIL,Z=G.REACT_APP_ADMIN_NAME,$=function(e){return localStorage.setItem(W,e)},ee=function(){return localStorage.getItem(W)},te=function(){return localStorage.removeItem(W)},ae=function(e){return localStorage.setItem(Q,e)},ne=function(){return localStorage.removeItem(Q)},ce=function(){return localStorage.getItem(Z)},re=function(e){return localStorage.setItem(q,e)},se=function(e){return localStorage.setItem(X,e)},le=function(){return localStorage.getItem(X)},ie=function(){return localStorage.removeItem(X)},oe=function(e){return localStorage.setItem(J,e)},ue=function(){return localStorage.getItem(J)},de=function(){return localStorage.removeItem(J)},je=function(){return localStorage.removeItem(K)},be=function(){return localStorage.removeItem(q)&&te()&&ie()&&de()&&je()&&ne()},me=Object(c.createContext)(),pe=function(e){return Object(c.useContext)(me)},he=function(e){var t=function(){function e(){var e=ee();return e?JSON.parse(atob(e.split(".")[1])).roles:null}var t=Object(c.useState)((function(){return e()})),a=Object(p.a)(t,2),n=a[0],r=a[1];return{user:n,signin:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};r(e()),t()},signout:function(){r(null),te(),ie(),de(),je(),ne(),be()}}}();return Object(n.jsx)(me.Provider,{value:t,children:e.children})},Oe=function(e){var t=e.children,a=Object(Y.a)(e,["children"]),c=pe();return Object(n.jsx)(o.b,Object(m.a)(Object(m.a)({},a),{},{render:function(e){var a=e.location;return c.user?t:Object(n.jsx)(o.a,{to:{pathname:"/login",state:{from:a}}})}}))};var ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return document.$(e).modal("show").on("hidden.bs.modal",t)},xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return document.$(e).modal("hide").on("hidden.bs.modal",t)},fe=function(e){return console.log(e),!(!e||"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e))},ge=function(e){return H()(e).format("0,0.00")},Ne=a(218),we=a.n(Ne),ye=function(e,t,a){new we.a({type:t,layout:"topRight",theme:"nest",text:e,timeout:"5000",progressBar:!0,closeWith:["click"],killer:!0,callbacks:{beforeShow:function(){},onShow:function(){},onHover:function(){},onClick:function(){},onClose:function(){if(a)return a.call()}}}).show()},_e=a(21),ke=a(133),Ae=a.n(ke),Ce=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"/api/v1",REACT_APP_ACCESS_STORAGE_TOKEN:"admin_token",REACT_APP_API_PROXY_URL:"https://ibank.npfmicrofinancebank.com",REACT_APP_LOAN_API_BASE_URL:"/api/loan/v1",REACT_APP_ACCESS_LOAN_STORAGE_TOKEN:"loan_admin_token",REACT_APP_LOAN_API_PROXY_URL:"http://23.100.7.199:3001",REACT_APP_SECRET_KEY:"LFVFJ1V8N7DOQAJ9LF8JVCX0KMWIXI90T21EN0NX1XCGF22HR0CR9CE1KH00FXFTIR9MM1RAY2P0LT7OF7CAFQKCIYS8OTTXJCS3I0T9D06LD5NF0XIL0YK8HC8UUGCDSYNSF6V0S8JX54PKN8JDBWX1TV0IGJIQTNIUXEH7D3L1Y0V0BW9AUUER5KR2PI4VYSUAS7J7",REACT_APP_ADMIN_ROLE:"admin_role",REACT_APP_TRANSFER_LIMIT:"5000000",REACT_APP_LOAN_WEB_PROXY_URL:"http://23.100.7.199:3001",REACT_APP_LOAN_ROLE:"loan_role",REACT_APP_BRANCH_ID:"branch_id",REACT_APP_ADMIN_EMAIL:"admin_email",REACT_APP_ADMIN_NAME:"admin_name",REACT_APP_HQ_ID:"7",REACT_APP_WQ_ID:"8",REACT_APP_NQ_ID:"9",REACT_APP_EQ_ID:"11"}),Se=Ce.REACT_APP_API_BASE_URL,Pe=Ce.REACT_APP_LOAN_API_BASE_URL,Ee=function(e,t,a){var n=Ae.a.create({baseURL:e,timeout:4e4});return n.interceptors.request.use((function(e){var a=t(),n=e.headers.Authorization;return Object(m.a)(Object(m.a)({},e),{},{headers:Object(m.a)(Object(m.a)({},e.headers),{},{Authorization:n||a||""}),validateStatus:function(e){return!0}})}),(function(e){return Promise.reject(e)})),n.interceptors.response.use((function(e){return e}),(function(e){var t,n,c,r;return 401!==(null===(t=e.response)||void 0===t?void 0:t.status)&&400!==(null===(n=e.response)||void 0===n?void 0:n.status)||a(),(null===(c=e.response)||void 0===c?void 0:c.data)?Promise.reject(null===(r=e.response)||void 0===r?void 0:r.data):Promise.reject(e)})),n},Ie=Ee(Se,(function(){return"Bearer ".concat(ee())}),be),De=Ee(Pe,(function(){return localStorage.getItem(q)}),be),Re=(Ee(Pe,ee,be),Ie),Le=function(){var e=Object(j.a)(d.a.mark((function e(t,a){var n,c,r,s,l,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.post("/auth/admin_sign_in",{email:t,password:a});case 3:if(n=e.sent,c=n.data,r=c.token,s=c.roles,l=c.loanRoles,i=c.branch,o=c.adminName,console.log(n),!n.data.statusCode||401!==n.data.statusCode){e.next=9;break}return ye(n.data.message,"error"),e.abrupt("return");case 9:return $(r),se(Object(_e.a)(s)),re(r),oe(Object(_e.a)(l)),d=i,localStorage.setItem(K,d),ae(t),u=o,localStorage.setItem(Z,u),e.abrupt("return",n.data);case 19:return e.prev=19,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 22:case"end":return e.stop()}var u,d}),e,null,[[0,19]])})));return function(t,a){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(j.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.post("/auth/change_admin_password",{old_password:t,new_password:a});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),Me=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.post("/auth/user_admin_auth",{customer_id:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Te=function(e){var t=pe(),a=Object(c.useState)(!1),r=Object(p.a)(a,2),s=r[0],l=r[1],i=Object(c.useState)({email:!1,password:!1}),u=Object(p.a)(i,2),v=u[0],x=u[1],f=Object(c.useState)({email:"",password:""}),g=Object(p.a)(f,2),N=g[0],y=g[1],_=Object(c.useState)(!1),k=Object(p.a)(_,2),A=k[0],C=k[1],P=Object(c.useState)(""),E=Object(p.a)(P,2),I=E[0],D=E[1],R=Object(o.g)(),L=Object(o.h)();Object(c.useEffect)((function(){var e=document.querySelector("body");e.classList.remove("modal-open"),e.style.paddingRight="";var t=document.querySelector(".modal-backdrop");t&&t.remove()}),[]),Object(c.useEffect)((function(){t.user&&t.user.includes("LOAN OFFICER")?R.push("/pages/loanMan"):t.user&&t.user.includes("CSO")||t.user&&t.user.includes("AUDIT")?R.push("/pages/customers"):t.user&&t.user.includes("SUPER ADMIN")&&R.push("/pages/superAdmin")}),[t.user,R]),console.log(t);var M=function(e){var t=e.target,a=t.name,n=t.value;D(""),y((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(b.a)({},a,n))}))},T=function(e){var t=e.target.name;x((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(b.a)({},t,!0))}))},B=function(e){var t=e.target.name;x((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(b.a)({},t,!1))}))},V=function(){var e=Object(j.a)(d.a.mark((function e(a){var n,c,r,s,l,i,o,u,j,b,m,p,h,O,v;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),C(!0),D(""),n=L.state||{from:{pathname:"/pages"}},c=n.from,e.prev=4,e.next=7,Le(N.email,N.password);case 7:if(r=e.sent,C(!1),r.token){e.next=11;break}return e.abrupt("return",D("Incorrect email or password."));case 11:ye(r.message,"success"),t.signin((function(){return t.user&&t.user.includes("LOAN OFFICER")?void R.push("/pages/loanMan"):t.user&&t.user.includes("CSO")||t.user&&t.user.includes("AUDIT")?void R.push("/pages/customers"):t.user&&t.user.includes("SUPER ADMIN")?void R.push("/pages/superAdmin"):void R.replace(c)})),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(4),C(!1),v=(null===e.t0||void 0===e.t0||null===(s=e.t0.toLowerCase)||void 0===s||null===(l=(i=s.call(e.t0)).includes)||void 0===l?void 0:l.call(i,"unauth"))?"Incorrect email or password.":(null===e.t0||void 0===e.t0||null===(o=e.t0.message)||void 0===o||null===(u=o.toLowerCase)||void 0===u||null===(j=(b=u.call(o)).includes)||void 0===j?void 0:j.call(b,"network"))?"Network Error":(null===e.t0||void 0===e.t0||null===(m=e.t0.message)||void 0===m||null===(p=m.toLowerCase)||void 0===p||null===(h=(O=p.call(m)).includes)||void 0===h?void 0:h.call(O,"timeout"))?"Service Timeout, Try Again.":"Something went wrong!",D(v);case 20:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("article",{className:"animated fadeIn delay-05s",children:Object(n.jsx)("section",{className:"mx-auto",children:Object(n.jsxs)("div",{className:"login-wrapper",children:[Object(n.jsx)("div",{className:"left-img-holder",children:Object(n.jsx)("img",{src:h,alt:""})}),Object(n.jsx)("div",{className:"login-form-container mx-auto",children:Object(n.jsxs)("form",{className:"mx-auto",onSubmit:V,children:[Object(n.jsxs)("div",{className:"form-header",children:[Object(n.jsx)("div",{className:"logo-holder",children:Object(n.jsx)("img",{src:O,alt:"logo"})}),Object(n.jsx)("h3",{className:"font-weight-bold",children:"Admin Back Office"}),Object(n.jsx)("p",{children:"Kindly provide admin login details to proceed"})]}),Object(n.jsxs)("div",{className:"form-group".concat(v.email?" input-focused":""),children:[Object(n.jsx)("label",{htmlFor:"email",children:"Email"}),Object(n.jsx)("input",{type:"email",name:"email",id:"email",className:"form-control",required:!0,onBlur:B,onFocus:T,onChange:M,value:N.email})]}),Object(n.jsxs)("div",{className:"form-group".concat(v.password?" input-focused":""),children:[Object(n.jsx)("label",{htmlFor:"password",children:"Password"}),Object(n.jsx)("input",{type:s?"text":"password",name:"password",id:"password",className:"form-control",required:!0,onBlur:B,onFocus:T,onChange:M,value:N.password}),Object(n.jsx)("button",{type:"button",className:"show-password-btn",onClick:function(e){return l((function(e){return!e}))},children:s?Object(n.jsx)(F,{}):Object(n.jsx)(S,{})})]}),I&&Object(n.jsx)("div",{className:"custom invalid-feedback",children:I}),Object(n.jsxs)("button",{className:"signin-btn btn",type:"submit",children:["Sign In",Object(n.jsx)("span",{className:"".concat(A?"loading":""),children:A?Object(n.jsx)(U,{className:"rotating"}):Object(n.jsx)(w,{})}),Object(n.jsx)("div",{className:"overlay-div"})]})]})})]})})})},Be=function(e){var t=Object(o.h)();return Object(n.jsx)("div",{children:Object(n.jsxs)("h3",{children:["No match for ",Object(n.jsx)("code",{children:t.pathname})]})})},Ve=a(26),Ue=a(16),Ye=a.n(Ue),ze=a.p+"static/media/placeholder-img.14a29197.png";function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ge(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var We=c.createElement("path",{fillRule:"evenodd",d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"});function qe(e,t){var a=e.title,n=e.titleId,r=Ge(e,["title","titleId"]);return c.createElement("svg",He({width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-x",fill:"currentColor",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,We)}var Xe=c.forwardRef(qe);a.p;function Je(){return(Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ke(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var Qe=c.createElement("path",{fillRule:"evenodd",d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"});function Ze(e,t){var a=e.title,n=e.titleId,r=Ke(e,["title","titleId"]);return c.createElement("svg",Je({width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-check-circle-fill",fill:"currentColor",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,Qe)}var $e=c.forwardRef(Ze);a.p;function et(){return(et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function tt(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var at=c.createElement("path",{fillRule:"evenodd",d:"M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"}),nt=c.createElement("path",{fillRule:"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"});function ct(e,t){var a=e.title,n=e.titleId,r=tt(e,["title","titleId"]);return c.createElement("svg",et({width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-search",fill:"currentColor",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,at,nt)}var rt=c.forwardRef(ct);a.p;function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function lt(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var it=c.createElement("g",{id:"XMLID_221_"},c.createElement("path",{id:"XMLID_222_",d:"M175,252.501c-8.285,0-15-6.716-15-15c0-8.284,6.716-15,15-15l65,0.001h30v-16V158.5h-30h-21.213H145 c-8.283,0-15-6.716-15-15V69.713V48.5v-30H15c-8.283,0-15,6.716-15,15v300c0,8.284,6.717,15,15,15h240c8.285,0,15-6.716,15-15 v-50.332v-30.666h-30L175,252.501z"}),c.createElement("path",{id:"XMLID_223_",d:"M366.925,236.023c-0.022-0.225-0.064-0.442-0.096-0.664c-0.038-0.263-0.068-0.526-0.12-0.786 c-0.051-0.254-0.119-0.499-0.182-0.747c-0.058-0.226-0.107-0.453-0.175-0.677c-0.073-0.242-0.164-0.477-0.249-0.713 c-0.081-0.225-0.155-0.452-0.246-0.674c-0.092-0.221-0.199-0.432-0.301-0.646c-0.107-0.23-0.209-0.46-0.329-0.684 c-0.11-0.205-0.235-0.4-0.355-0.6c-0.132-0.221-0.257-0.443-0.4-0.658c-0.146-0.219-0.31-0.425-0.467-0.635 c-0.136-0.182-0.262-0.368-0.406-0.544c-0.3-0.365-0.616-0.714-0.948-1.049c-0.016-0.016-0.028-0.033-0.045-0.05l-37.499-37.501 c-5.857-5.857-15.355-5.857-21.213,0c-5.858,5.857-5.858,15.355-0.001,21.213l11.893,11.895h-19.641H270v30h12.813h32.974 l-11.893,11.893c-5.858,5.858-5.858,15.355,0,21.213c2.928,2.93,6.768,4.394,10.606,4.394c3.84,0,7.678-1.464,10.607-4.394 l37.498-37.499c0.008-0.008,0.014-0.017,0.022-0.023c0.342-0.343,0.665-0.701,0.972-1.075c0.146-0.177,0.272-0.364,0.409-0.547 c0.156-0.209,0.318-0.414,0.465-0.632c0.145-0.216,0.27-0.441,0.402-0.662c0.117-0.198,0.242-0.392,0.352-0.596 c0.121-0.225,0.223-0.458,0.332-0.688c0.101-0.213,0.207-0.423,0.298-0.643c0.093-0.223,0.167-0.451,0.248-0.678 c0.085-0.234,0.175-0.467,0.247-0.708c0.068-0.225,0.119-0.454,0.176-0.683c0.063-0.246,0.132-0.49,0.182-0.741 c0.052-0.261,0.082-0.524,0.12-0.788c0.032-0.221,0.073-0.438,0.096-0.663c0.048-0.485,0.073-0.973,0.073-1.46 c0-0.007,0.002-0.014,0.002-0.02c0-0.008-0.002-0.017-0.002-0.025C366.998,236.991,366.973,236.506,366.925,236.023z"}),c.createElement("polygon",{id:"XMLID_224_",points:"261.214,128.5 160,27.287 160,69.713 160,128.5 218.787,128.5  "})),ot=c.createElement("g",null),ut=c.createElement("g",null),dt=c.createElement("g",null),jt=c.createElement("g",null),bt=c.createElement("g",null),mt=c.createElement("g",null),pt=c.createElement("g",null),ht=c.createElement("g",null),Ot=c.createElement("g",null),vt=c.createElement("g",null),xt=c.createElement("g",null),ft=c.createElement("g",null),gt=c.createElement("g",null),Nt=c.createElement("g",null),wt=c.createElement("g",null);function yt(e,t){var a=e.title,n=e.titleId,r=lt(e,["title","titleId"]);return c.createElement("svg",st({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 367 367",style:{enableBackground:"new 0 0 367 367"},xmlSpace:"preserve",fill:"currentColor",height:"1em",width:"1em",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,it,ot,ut,dt,jt,bt,mt,pt,ht,Ot,vt,xt,ft,gt,Nt,wt)}var _t=c.forwardRef(yt);a.p;function kt(){return(kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function At(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var Ct=c.createElement("path",{fillRule:"evenodd",d:"M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2h-11z"});function St(e,t){var a=e.title,n=e.titleId,r=At(e,["title","titleId"]);return c.createElement("svg",kt({width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-funnel",fill:"currentColor",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,Ct)}var Pt=c.forwardRef(St);a.p;function Et(){return(Et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function It(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var Dt=c.createElement("g",null,c.createElement("path",{d:"M11.812,0C5.289,0,0,5.289,0,11.812s5.289,11.813,11.812,11.813s11.813-5.29,11.813-11.813 S18.335,0,11.812,0z M17.812,13.812c0,0.551-0.448,1-1,1h-5c0,1.196,0,2.155,0,2.531c0,1.344-1,0.969-1,0.969l-6.5-6.5l6.5-6.5 c0,0,1-0.281,1,1c0,0.29,0,1.257,0,2.5h5c0.552,0,1,0.449,1,1V13.812z"})),Rt=c.createElement("g",null),Lt=c.createElement("g",null),Ft=c.createElement("g",null),Mt=c.createElement("g",null),Tt=c.createElement("g",null),Bt=c.createElement("g",null),Vt=c.createElement("g",null),Ut=c.createElement("g",null),Yt=c.createElement("g",null),zt=c.createElement("g",null),Ht=c.createElement("g",null),Gt=c.createElement("g",null),Wt=c.createElement("g",null),qt=c.createElement("g",null),Xt=c.createElement("g",null);function Jt(e,t){var a=e.title,n=e.titleId,r=It(e,["title","titleId"]);return c.createElement("svg",Et({id:"Capa_2",width:"1em",height:"1em",fill:"currentColor",x:"0px",y:"0px",viewBox:"0 0 23.625 23.625",style:{enableBackground:"new 0 0 23.625 23.625"},xmlSpace:"preserve",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,Dt,Rt,Lt,Ft,Mt,Tt,Bt,Vt,Ut,Yt,zt,Ht,Gt,Wt,qt,Xt)}var Kt=c.forwardRef(Jt);a.p;function Qt(){return(Qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Zt(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var $t=c.createElement("g",{fillRule:"evenodd"},c.createElement("path",{d:"m248.953125 61.273438c-5.367187-1.238282-10.722656 2.101562-11.964844 7.46875-1.242187 5.367187 2.105469 10.726562 7.472657 11.96875 24.8125 5.734374 47.492187 18.332031 65.582031 36.421874 53.183593 53.183594 53.183593 139.726563 0 192.910157-53.183594 53.1875-139.726563 53.1875-192.910157 0-53.1875-53.183594-53.1875-139.726563 0-192.910157 15.269532-15.269531 33.339844-26.40625 53.710938-33.109374 5.230469-1.71875 8.078125-7.355469 6.359375-12.589844-1.722656-5.234375-7.363281-8.082032-12.59375-6.359375-23.367187 7.683593-44.085937 20.453125-61.582031 37.953125-60.964844 60.964844-60.964844 160.160156 0 221.125 30.480468 30.480468 70.519531 45.722656 110.5625 45.722656 40.039062-.003906 80.078125-15.242188 110.5625-45.722656 60.960937-60.964844 60.960937-160.160156 0-221.125-20.738282-20.734375-46.738282-35.175782-75.199219-41.753906zm0 0"}),c.createElement("path",{d:"m498.414062 432.707031-104.53125-104.53125c53.601563-84.054687 41.863282-194.484375-29.265624-265.617187-40.339844-40.339844-93.976563-62.558594-151.027344-62.558594-57.054688 0-110.691406 22.21875-151.03125 62.558594-40.34375 40.339844-62.558594 93.976562-62.558594 151.03125 0 57.050781 22.214844 110.6875 62.558594 151.027344 40.339844 40.339843 93.972656 62.554687 151.023437 62.554687 40.945313 0 80.386719-11.484375 114.59375-33.289063l104.53125 104.53125c8.746094 8.75 20.414063 13.566407 32.855469 13.566407 12.4375 0 24.105469-4.816407 32.855469-13.566407 18.109375-18.117187 18.109375-47.589843-.003907-65.707031zm-14.105468 51.601563c-4.980469 4.976562-11.636719 7.71875-18.746094 7.71875-7.113281 0-13.769531-2.742188-18.75-7.71875l-110.304688-110.304688c-1.929687-1.933594-4.484374-2.921875-7.054687-2.921875-1.976563 0-3.960937.582031-5.683594 1.777344-32.410156 22.480469-70.515625 34.363281-110.1875 34.363281-51.722656 0-100.347656-20.140625-136.917969-56.710937-75.5-75.5-75.5-198.347657 0-273.847657 36.574219-36.574218 85.199219-56.714843 136.925782-56.714843 51.722656 0 100.347656 20.140625 136.921875 56.714843 66.28125 66.285157 75.683593 170.207032 22.347656 247.105469-2.75 3.964844-2.269531 9.324219 1.144531 12.738281l110.304688 110.304688c10.335937 10.335938 10.335937 27.15625 0 37.496094zm0 0"}),c.createElement("path",{d:"m273.804688 153.371094c-3.894532-3.894532-10.207032-3.894532-14.105469 0l-46.109375 46.109375-46.113282-46.109375c-3.894531-3.894532-10.210937-3.894532-14.105468 0-3.894532 3.894531-3.894532 10.210937 0 14.105468l46.109375 46.113282-46.109375 46.109375c-3.894532 3.894531-3.894532 10.210937 0 14.105469 1.945312 1.949218 4.5 2.921874 7.050781 2.921874 2.554687 0 5.105469-.972656 7.054687-2.921874l46.109376-46.109376 46.109374 46.109376c1.949219 1.949218 4.503907 2.921874 7.054688 2.921874 2.554688 0 5.105469-.972656 7.054688-2.921874 3.894531-3.894532 3.894531-10.210938 0-14.105469l-46.113282-46.109375 46.113282-46.113282c3.894531-3.894531 3.894531-10.210937 0-14.105468zm0 0"}),c.createElement("path",{d:"m206.976562 77.328125c5.492188 0 9.972657-4.480469 9.972657-9.976563 0-5.492187-4.480469-9.972656-9.972657-9.972656-5.496093 0-9.976562 4.480469-9.976562 9.972656 0 5.496094 4.480469 9.976563 9.976562 9.976563zm0 0"}));function ea(e,t){var a=e.title,n=e.titleId,r=Zt(e,["title","titleId"]);return c.createElement("svg",Qt({height:"1em",viewBox:"0 0 512.00037 512",width:"1em",fill:"currentColor",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,$t)}var ta=c.forwardRef(ea);a.p;function aa(){return(aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function na(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var ca=c.createElement("path",{fillRule:"evenodd",d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"});function ra(e,t){var a=e.title,n=e.titleId,r=na(e,["title","titleId"]);return c.createElement("svg",aa({width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-x-circle-fill",fill:"currentColor",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,ca)}var sa=c.forwardRef(ra);a.p;function la(){return(la=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ia(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var oa=c.createElement("path",{fillRule:"evenodd",d:"M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z"});function ua(e,t){var a=e.title,n=e.titleId,r=ia(e,["title","titleId"]);return c.createElement("svg",la({width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-arrow-left-short",fill:"currentColor",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,oa)}var da=c.forwardRef(ua);a.p;function ja(){return(ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ba(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var ma=c.createElement("path",{d:"M6.502 7a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"}),pa=c.createElement("path",{d:"M14 14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5V14zM4 1a1 1 0 0 0-1 1v10l2.224-2.224a.5.5 0 0 1 .61-.075L8 11l2.157-3.02a.5.5 0 0 1 .76-.063L13 10V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4z"});function ha(e,t){var a=e.title,n=e.titleId,r=ba(e,["title","titleId"]);return c.createElement("svg",ja({width:"1em",height:"1em",fill:"currentColor",className:"bi bi-file-earmark-image",viewBox:"0 0 16 16",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,ma,pa)}var Oa=c.forwardRef(ha);a.p;function va(){return(va=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function xa(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var fa=c.createElement("g",null,c.createElement("g",null,c.createElement("g",null,c.createElement("path",{d:"M426.635,164.217C402.969,69.94,307.358,12.698,213.08,36.364C139.404,54.858,85.907,118.535,80.395,194.297 c-52.313,8.627-87.728,58.028-79.101,110.341c7.669,46.507,47.967,80.566,95.101,80.379h64v-32h-64c-35.346,0-64-28.654-64-64 c0-35.346,28.654-64,64-64c8.837,0,16-7.163,16-16c-0.08-79.529,64.327-144.065,143.856-144.144 c68.844-0.069,128.107,48.601,141.424,116.144c1.315,6.744,6.788,11.896,13.6,12.8c43.742,6.229,74.151,46.738,67.923,90.479 c-5.593,39.278-39.129,68.523-78.803,68.721h-48v32h48c61.856-0.187,111.848-50.483,111.66-112.339 C511.899,221.187,476.655,176.437,426.635,164.217z"}),c.createElement("path",{d:"M272.395,426.457v-153.44h-32v153.44l-36.64-36.64l-22.56,22.56l64,64c6.241,6.204,16.319,6.204,22.56,0l64-64 l-22.56-22.56L272.395,426.457z"})))),ga=c.createElement("g",null),Na=c.createElement("g",null),wa=c.createElement("g",null),ya=c.createElement("g",null),_a=c.createElement("g",null),ka=c.createElement("g",null),Aa=c.createElement("g",null),Ca=c.createElement("g",null),Sa=c.createElement("g",null),Pa=c.createElement("g",null),Ea=c.createElement("g",null),Ia=c.createElement("g",null),Da=c.createElement("g",null),Ra=c.createElement("g",null),La=c.createElement("g",null);function Fa(e,t){var a=e.title,n=e.titleId,r=xa(e,["title","titleId"]);return c.createElement("svg",va({width:"1em",height:"1em",fill:"currentColor",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 512.056 512.056",style:{enableBackground:"new 0 0 512.056 512.056"},xmlSpace:"preserve",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,fa,ga,Na,wa,ya,_a,ka,Aa,Ca,Sa,Pa,Ea,Ia,Da,Ra,La)}var Ma=c.forwardRef(Fa);a.p;function Ta(){return(Ta=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ba(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var Va=c.createElement("g",null,c.createElement("g",null,c.createElement("g",null,c.createElement("path",{d:"M426.635,188.224C402.969,93.946,307.358,36.704,213.08,60.37C139.404,78.865,85.907,142.542,80.395,218.303 C28.082,226.93-7.333,276.331,1.294,328.644c7.669,46.507,47.967,80.566,95.101,80.379h80v-32h-80c-35.346,0-64-28.654-64-64 c0-35.346,28.654-64,64-64c8.837,0,16-7.163,16-16c-0.08-79.529,64.327-144.065,143.856-144.144 c68.844-0.069,128.107,48.601,141.424,116.144c1.315,6.744,6.788,11.896,13.6,12.8c43.742,6.229,74.151,46.738,67.923,90.479 c-5.593,39.278-39.129,68.523-78.803,68.721h-64v32h64c61.856-0.187,111.848-50.483,111.66-112.339 C511.899,245.194,476.655,200.443,426.635,188.224z"}),c.createElement("path",{d:"M245.035,253.664l-64,64l22.56,22.56l36.8-36.64v153.44h32v-153.44l36.64,36.64l22.56-22.56l-64-64 C261.354,247.46,251.276,247.46,245.035,253.664z"})))),Ua=c.createElement("g",null),Ya=c.createElement("g",null),za=c.createElement("g",null),Ha=c.createElement("g",null),Ga=c.createElement("g",null),Wa=c.createElement("g",null),qa=c.createElement("g",null),Xa=c.createElement("g",null),Ja=c.createElement("g",null),Ka=c.createElement("g",null),Qa=c.createElement("g",null),Za=c.createElement("g",null),$a=c.createElement("g",null),en=c.createElement("g",null),tn=c.createElement("g",null);function an(e,t){var a=e.title,n=e.titleId,r=Ba(e,["title","titleId"]);return c.createElement("svg",Ta({width:"1em",height:"1em",fill:"currentColor",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 512.056 512.056",style:{enableBackground:"new 0 0 512.056 512.056"},xmlSpace:"preserve",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,Va,Ua,Ya,za,Ha,Ga,Wa,qa,Xa,Ja,Ka,Qa,Za,$a,en,tn)}var nn=c.forwardRef(an);a.p;function cn(){return(cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function rn(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var sn=c.createElement("path",{fillRule:"evenodd",d:"M15.354 2.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L8 9.293l6.646-6.647a.5.5 0 0 1 .708 0z"}),ln=c.createElement("path",{fillRule:"evenodd",d:"M8 2.5A5.5 5.5 0 1 0 13.5 8a.5.5 0 0 1 1 0 6.5 6.5 0 1 1-3.25-5.63.5.5 0 1 1-.5.865A5.472 5.472 0 0 0 8 2.5z"});function on(e,t){var a=e.title,n=e.titleId,r=rn(e,["title","titleId"]);return c.createElement("svg",cn({width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-check2-circle",fill:"currentColor",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,sn,ln)}var un=c.forwardRef(on),dn=(a.p,function(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"modal fade","data-backdrop":!!e.closeWithBackDrop||"static","data-keyboard":"false",id:e.id,tabIndex:"-1","aria-labelledby":"".concat(e.id,"Label"),"aria-hidden":"true",role:"dialog",children:Object(n.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(n.jsxs)("div",{className:"modal-content text-center",children:[e.showCloseX&&Object(n.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(n.jsx)("span",{"aria-hidden":"true",children:Object(n.jsx)(Xe,{})})}),e.children?e.children:Object(n.jsxs)("div",{className:"modal-body",children:[!e.imgSrc&&!e.resBodyText&&Object(n.jsx)("div",{className:"modal-icon",children:Object(n.jsx)(un,{})}),Object(n.jsx)("h5",{className:"modal-title",id:"".concat(e.id,"Label"),children:e.title}),e.imgSrc?Object(n.jsx)("div",{className:"modal-img",children:Object(n.jsx)("img",{className:"w-100",src:e.imgSrc,alt:""})}):Object(n.jsxs)("div",{className:"modal-text",children:[e.modalText,e.resBodyText&&Object(n.jsx)("pre",{className:"res-body-pre"})]}),e.replaceButton?e.newButton:Object(n.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Alright"})]})]})})})})}),jn=a(97),bn=a.n(jn),mn=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.get("/signup/get_doc_types");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),pn=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",a=c.length>1&&void 0!==c[1]?c[1]:"",e.prev=2,e.next=5,Re.get("/support/view_customers?channel=".concat(t,"&reg_complete=").concat(a));case 5:return n=e.sent,e.abrupt("return",n.data);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),hn=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.get("/support/search_customers?searchPhrase=".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),On=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.get("/support/view_customer?customer_id=".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),vn=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.get("/support/view_customer_bank_accounts?customer_id=".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),xn=function(){var e=Object(j.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.get("/support/view_customer_logs?page=".concat(t,"&limit=").concat(a));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),fn=function(){var e=Object(j.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.get("/support/view_loan_logs?page=".concat(t,"&limit=").concat(a));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),gn=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.post("/support/liveliness_check",{customer_id:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Nn=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.post("/support/liveliness_uncheck",{customer_id:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),wn=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.post("/support/documents_check",{customer_id:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),yn=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.post("/support/documents_uncheck",{customer_id:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),_n=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.post("/support/signature_check",{customer_id:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),kn=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.post("/support/signature_uncheck",{customer_id:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),An=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.post("/support/photo_check",{customer_id:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Cn=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.post("/support/photo_uncheck",{customer_id:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Sn=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.post("/support/enable_customer",{customer_id:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Pn=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.post("/support/disable_customer",{customer_id:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),En=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.post("/support/enforce_pnd",{customer_id:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),In=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.post("/support/remove_pnd",{customer_id:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Dn=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.post("/support/reset_password",{customer_id:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Rn=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.post("/support/unlock_account",{customer_id:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Ln=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.post("/support/reset_device",{customer_id:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Fn=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.post("/support/reset_pin",{customer_id:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Mn=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.post("/support/update_customer_info",{customer_id:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Tn=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.post("/support/create_signature",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Bn=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.post("/support/create_photo",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Vn=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.post("/support/create_document",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Un=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.post("/support/create_video",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Yn=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.post("/support/complete_user_signup",{customer_id:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),zn=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c,r,s,l,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.customer_ids,n=void 0===a?[]:a,c=t.start_date,r=void 0===c?"":c,s=t.end_date,l=void 0===s?"":s,e.prev=1,r=fe(r)?r.toISOString():r,l=fe(l)?l.toISOString():l,n="".concat(n),e.next=7,Re.get("/analytics/export_customers?".concat(n?"customer_ids=".concat(n,"&"):"").concat(r?"start_date=".concat(r,"&"):"").concat(l?"end_date=".concat(l):""),{responseType:"blob"});case 7:return i=e.sent,e.abrupt("return",i.data);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),Hn=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c,r,s,l,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.customer_ids,n=void 0===a?[]:a,c=t.start_date,r=void 0===c?"":c,s=t.end_date,l=void 0===s?"":s,e.prev=1,r=fe(r)?r.toISOString():r,l=fe(l)?l.toISOString():l,n="".concat(n),e.next=7,Re.get("/analytics/export_transactions?".concat(n?"customer_ids=".concat(n,"&"):"").concat(r?"start_date=".concat(r,"&"):"").concat(l?"end_date=".concat(l):""),{responseType:"blob"});case 7:return i=e.sent,e.abrupt("return",i.data);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),Gn=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.get("/biller_support/bill_payments?customer_id=".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Wn=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.get("/biller_support/transaction_status?rrr=".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),qn=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.get("/biller_support/failed_transactions");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Xn=function(){var e=Object(j.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.post("/support/transfer_limit",{customer_id:t,transfer_limit:a});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}();function Jn(e){return function(t,a){var n,c,r,s,l,i,o,u,d,j,b,m,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},h=t.message,O=(null===t||void 0===t||null===(n=t.toLowerCase)||void 0===n||null===(c=(r=n.call(t)).includes)||void 0===c?void 0:c.call(r,"unauth"))?"Session Expired, please log in.":(null===h||void 0===h||null===(s=h.toLowerCase)||void 0===s||null===(l=(i=s.call(h)).includes)||void 0===l?void 0:l.call(i,"timeout"))?"Service Timeout, Please Retry":(null===h||void 0===h||null===(o=h.toLowerCase)||void 0===o||null===(u=(d=o.call(h)).includes)||void 0===u?void 0:u.call(d,"network"))?"Network Error!":"Something went wrong!";console.error(t),p(),a(O,"error",(function(){return console.log("complete")})),(null===t||void 0===t||null===(j=t.toLowerCase)||void 0===j||null===(b=(m=j.call(t)).includes)||void 0===b?void 0:b.call(m,"unauth"))&&e.signout()}}function Kn(e,t,a,n,c){if(e&&""!==e){var r=a(e),s=new Date;if(1e3*r.exp<s.getTime())return c("Session expired","error"),t.push("/login"),void n.signout()}else t.push("/login")}var Qn=a(27),Zn=a.n(Qn),$n=["obalende","ikeja","osogbo","akure","tejuoso","ikorodu","ibadan","abeokuta","aswani","ado-ekiti","ilorin"],ec=["abuja main","kano","sokoto","lokoja","yola","abuja 2","bauchi","lafia","kaduna","minna","jos","makurdi","maiduguri","abuja 3"],tc=["port harcourt 1","benin","onitsha","enugu","oji","asaba","port harcourt 2","calabar","awka","aba","uyo","owerri"],ac=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a="",c=(n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789").length,r=0;r<t;r++)a+=n.charAt(Math.floor(Math.random()*c));return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nc=function(){var e=Object(j.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t,8);case 2:return n=e.sent,e.abrupt("return",n.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),cc=function(){var e=Object(j.a)(d.a.mark((function e(t,a,n){var c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.selected+1,e.next=3,nc(c,n);case 3:r=e.sent,a(r);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),rc=function(e){var t=Object(c.useState)(Array(1).fill("a").map((function(e,t){return{createdAt:"2020-11-24T09:46:08.757Z",customerId:"65",endpoint:"/api/v1/auth/sign_in",id:5,ip:"8.35.57.9",requestBody:'{"phone":"2348067465112","password":"897$312game"}',requestHeaders:'{"content-length":"50","total-route-time":"6","x-request-start":"1606211168313","connect-time":"0","via":"1.1 vegur","x-forwarded-port":"443","x-forwarded-proto":"https","x-forwarded-for":"8.35.57.9","x-request-id":"08682b02-f276-4ae7-a5e0-da1e3f177047","accept-language":"en-GB,en-US;q=0.9,en;q=0.8","accept-encoding":"gzip, deflate, br","referer":"https://npf-web.herokuapp.com/","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","origin":"https://npf-web.herokuapp.com","content-type":"application/json","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.67 Safari/537.36","accept":"application/json","connection":"close","host":"20.42.119.47:8282"}',requestMethod:"POST",responseBody:'{"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NjAsImN1c3RvbWVyTnVtYmVyIjoiMTAwMjE4NDg1IiwiY29tcGFueUNvZGUiOm51bGwsImVtYWlsIjoiZnJhbmtvcmppMTYxQGdtYWlsLmNvbSIsImZpcnN0bmFtZSI6IkZyYW5rIiwibGFzdG5hbWUiOiJPcmppIiwicGhvbmUiOiIyMzQ4MDY3NDY1MTEyIiwiaWF0IjoxNjA2MjExMTY4LCJleHAiOjE2MDYyMTgzNjh9.j_SnIj4PMaFD6rTNzUUsx36OvSVOe5gF-bhuBQc3D6A","message":"Login successful","password_change_required":false}',responseCode:"200",responseHeaders:'{"x-powered-by":"Express","access-control-allow-origin":"*"}',updatedAt:"2020-11-24T09:46:08.757Z"}}))),a=Object(p.a)(t,2),r=a[0],s=a[1],l=pe(),i=Object(c.useState)(5),o=Object(p.a)(i,2),u=o[0],b=o[1],m=Jn(l),h=Object(c.useState)(1),O=Object(p.a)(h,2),v=O[0],x=(O[1],Object(c.useState)(0)),f=Object(p.a)(x,2),g=f[0],N=f[1],w=Object(c.useState)(null),y=Object(p.a)(w,2),_=y[0],k=y[1],A=Object(c.useState)(!1),C=Object(p.a)(A,2),S=C[0],P=C[1];e.userId;Object(c.useEffect)((function(){E()}),[]);var E=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.prev=1,e.next=4,xn(1,8);case 4:if(t=e.sent,P(!1),!t.error){e.next=8;break}return e.abrupt("return",ye(t.message,"error"));case 8:s(t.data.data),N(t.data.totalPages-1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),m(e.t0,ye,(function(){return P(!1)}));case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),I=function(e){var t=e.target;if(t.classList.contains("action-btn")){var a=t.dataset.entryId,n=r[a],c=JSON.parse(n.responseBody);if("string"!==typeof c){var s=function(e){"string"!=typeof e&&(e=JSON.stringify(e,void 0,2));return(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)/g,(function(e){var t="number";return/^"/.test(e)?t=/:$/.test(e)?"key":"string":/true|false/.test(e)?t="boolean":/null/.test(e)&&(t="null"),'<span class="'+t+'">'+e+"</span>"}))}(JSON.stringify(c,null,2));console.log(c,typeof c,s),k(s),ve("#resBodyModal")}else ye(c,"error")}};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("main",{className:"customers-page",children:[(S||0===r.length)&&Object(n.jsxs)("div",{className:"searching-block",children:[Object(n.jsx)("div",{className:"svg-holder "+(S?"":"not-loading"),children:S?Object(n.jsx)(U,{className:"rotating"}):Object(n.jsx)(ta,{})}),!S&&Object(n.jsx)("p",{children:"NOTHING FOUND!"})]}),!S&&0!==r.length&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{children:["Entries per page:"," ",Object(n.jsx)("div",{className:"form-group",style:{display:"inline-block"},children:Object(n.jsxs)("select",{className:"form-control",onChange:function(e){return b(e.target.value)},value:u,children:[Object(n.jsx)("option",{value:5,children:"5"}),Object(n.jsx)("option",{value:10,children:"10"}),Object(n.jsx)("option",{value:20,children:"20"}),Object(n.jsx)("option",{value:50,children:"50"}),Object(n.jsx)("option",{value:100,children:"100"}),Object(n.jsx)("option",{value:150,children:"150"}),Object(n.jsx)("option",{value:200,children:"200"})]})})]}),Object(n.jsxs)("table",{className:"table table-borderless",children:[Object(n.jsx)("thead",{className:"color-dark-text-blue",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Source IP"}),Object(n.jsx)("th",{scope:"col",children:"Created At"}),Object(n.jsx)("th",{scope:"col-3",children:"URL"}),Object(n.jsx)("th",{scope:"col",children:"Response Status"}),Object(n.jsx)("th",{scope:"col",children:"Response Body"})]})}),Object(n.jsxs)("tbody",{onClick:I,children:[Object(n.jsx)("tr",{className:"spacer"}),r&&r.map((function(e,t){var a,s,l=t+1;if(l<(v-1)*u+1||l>v*u)return null;try{s=JSON.parse(e.responseBody)}catch(i){console.log("There was an error"),s={hideButton:!0}}return Object(n.jsxs)(c.Fragment,{children:[Object(n.jsxs)("tr",{className:"audit-history-card",children:[Object(n.jsx)("td",{className:"",children:e.ip}),Object(n.jsx)("td",{className:"col-2",children:Ye()(e.createdAt).format("DD/MM/YYYY, h:mm:ss a")}),Object(n.jsx)("td",{className:"col-2",children:e.endpoint}),Object(n.jsx)("td",{className:"",children:e.responseCode}),Object(n.jsxs)("td",{className:"res-body",children:[Object(n.jsxs)("p",{children:["error:"," ",(null===(a=s.error)||void 0===a?void 0:a.toString())||"false"]}),!s.hideButton&&Object(n.jsx)("button",{onClick:I,"data-entry-id":t,className:"btn btn-success action-btn",children:"View Response Body"})]})]}),t!==r.length-1&&Object(n.jsx)("tr",{className:"spacer"})]},t)}))]})]}),Object(n.jsx)("div",{className:"audit-history-footer",children:Object(n.jsx)(Zn.a,{pageCount:g,marginPagesDisplayed:2,pageRangeDisplayed:3,forcePage:v-1,onPageChange:function(e){return cc(e,s,xn)},containerClassName:"pagination-btns",activeLinkClassName:"active",pageLinkClassName:"btn",previousLabel:Object(n.jsx)(Kt,{}),previousLinkClassName:"btn icon",nextLabel:Object(n.jsx)(Kt,{style:{transform:"rotateY(180deg)"}}),nextLinkClassName:"btn icon",disabledClassName:"disabled"})})]})]}),Object(n.jsx)(dn,{id:"resBodyModal",showCloseX:!0,children:Object(n.jsx)("pre",{className:"res-body-pre",dangerouslySetInnerHTML:{__html:bn.a.sanitize(_)}})})]})},sc=function(e){var t,a,c,r,s,l,i,o,u,d,j,b,m,p,h=e.billingStatus;return Object(n.jsx)(dn,{id:"billingStatusModal",showCloseX:!0,children:Object(n.jsxs)("div",{className:"modal-body",children:[Object(n.jsx)("h5",{className:"modal-title",id:"billingStatusModalLabel",children:"Billing Status"}),Object(n.jsxs)("div",{className:"billing-status-container text-left ml-5",children:[Object(n.jsxs)("div",{className:"row font-weight-bold",children:[Object(n.jsx)("div",{className:"col-3",children:"Message:"}),Object(n.jsx)("div",{className:"col",children:null!==(t=h.message)&&void 0!==t?t:"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-3",children:"RRR:"}),Object(n.jsx)("div",{className:"col",children:null!==(a=h.rrr)&&void 0!==a?a:"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-3",children:"Payer Email:"}),Object(n.jsx)("div",{className:"col",children:null!==(c=h.payerEmail)&&void 0!==c?c:"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-3",children:"Payer Name:"}),Object(n.jsx)("div",{className:"col",children:null!==(r=h.payerName)&&void 0!==r?r:"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-3",children:"Payer Phone:"}),Object(n.jsx)("div",{className:"col",children:null!==(s=h.payerPhone)&&void 0!==s?s:"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-3",children:"Description:"}),Object(n.jsx)("div",{className:"col",children:null!==(l=h.description)&&void 0!==l?l:"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-3",children:"Currency:"}),Object(n.jsx)("div",{className:"col",children:null!==(i=h.currency)&&void 0!==i?i:"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-3",children:"Amount:"}),Object(n.jsx)("div",{className:"col",children:null!==(o=h.rrrAmount)&&void 0!==o?o:"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-3",children:"Charge Fee:"}),Object(n.jsx)("div",{className:"col",children:null!==(u=h.chargeFee)&&void 0!==u?u:"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-3",children:"Amount Due:"}),Object(n.jsx)("div",{className:"col",children:null!==(d=h.amountDue)&&void 0!==d?d:"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-3",children:"Type:"}),Object(n.jsx)("div",{className:"col",children:null!==(j=h.type)&&void 0!==j?j:"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-3",children:"Accept Part Payment:"}),Object(n.jsx)("div",{className:"col",children:null!==(b=null===(m=h.acceptPartPayment)||void 0===m||null===(p=m.toString)||void 0===p?void 0:p.call(m))&&void 0!==b?b:"N/A"})]})]})]})})},lc=function(e){var t=Object(c.useState)(Array(0).fill("a").map((function(e,t){return{amountDue:"200.00",rrr:"000000",status:"FAILED",date:"2021-04-14T08:54:08.181Z",description:"Eko Prepaid Bills",funds_deduction:""}}))),a=Object(p.a)(t,2),r=a[0],s=a[1],l=Object(c.useState)({rrr:"",amountDue:200,chargeFee:100,rrrAmount:100,payerEmail:"",payerName:"",payerPhone:"",description:"",currency:"",type:"",acceptPartPayment:!1,message:""}),i=Object(p.a)(l,2),o=i[0],u=i[1],b=pe(),h=Object(c.useState)(5),O=Object(p.a)(h,2),v=O[0],x=O[1],f=Jn(b),g=Object(c.useState)(1),N=Object(p.a)(g,2),w=N[0],y=N[1],_=Object(c.useState)(!1),k=Object(p.a)(_,2),A=k[0],C=k[1],S=Object(c.useState)(""),P=Object(p.a)(S,2),E=P[0],I=P[1],D=e.userId;Object(c.useEffect)((function(){R()}),[]);var R=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:D,C(!0),e.prev=2,e.next=5,Gn(t);case 5:if(a=e.sent,C(!1),!a.error){e.next=9;break}return e.abrupt("return",ye(a.message,"error"));case 9:s(a.result),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),f(e.t0,ye,(function(){return C(!1)}));case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=t.target).classList.contains("action-btn")){e.next=3;break}return e.abrupt("return");case 3:return n=a.dataset.rrr,e.prev=4,I(n),e.next=8,Wn(n);case 8:if(c=e.sent,I(""),!c.error){e.next=12;break}return e.abrupt("return",ye(c.message,"error"));case 12:u(Object(m.a)(Object(m.a)({},c.result),{},{message:c.message})),ve("#billingStatusModal"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),f(e.t0,ye,(function(){return I("")}));case 19:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[(A||0===r.length)&&Object(n.jsxs)("div",{className:"searching-block",children:[Object(n.jsx)("div",{className:"svg-holder "+(A?"":"not-loading"),children:A?Object(n.jsx)(U,{className:"rotating"}):Object(n.jsx)(ta,{})}),!A&&Object(n.jsx)("p",{children:"NOTHING FOUND!"})]}),!A&&0!==r.length&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{children:["Entries per page:"," ",Object(n.jsx)("div",{className:"form-group",style:{display:"inline-block"},children:Object(n.jsxs)("select",{className:"form-control",onChange:function(e){return x(e.target.value)},value:v,children:[Object(n.jsx)("option",{value:5,children:"5"}),Object(n.jsx)("option",{value:10,children:"10"}),Object(n.jsx)("option",{value:20,children:"20"}),Object(n.jsx)("option",{value:50,children:"50"}),Object(n.jsx)("option",{value:100,children:"100"}),Object(n.jsx)("option",{value:150,children:"150"}),Object(n.jsx)("option",{value:200,children:"200"})]})})]}),Object(n.jsxs)("table",{className:"table table-borderless",children:[Object(n.jsx)("thead",{className:"color-dark-text-blue",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Date"}),Object(n.jsx)("th",{scope:"col",children:"Description"}),Object(n.jsx)("th",{scope:"col-3",children:"RRR"}),Object(n.jsx)("th",{scope:"col",children:"Amount Due"}),Object(n.jsx)("th",{scope:"col",children:"Funds Deduction"}),Object(n.jsx)("th",{scope:"col",children:"Status"}),Object(n.jsx)("th",{scope:"col",className:"text-center",children:"Actions"})]})}),Object(n.jsxs)("tbody",{onClick:L,children:[Object(n.jsx)("tr",{className:"spacer"}),r.map((function(e,t){var a=t+1;return a<(w-1)*v+1||a>w*v?null:Object(n.jsxs)(c.Fragment,{children:[Object(n.jsxs)("tr",{className:"billing-history-card",children:[Object(n.jsx)("td",{className:"",children:Ye()(e.date).format("MMMM Do, YYYY")}),Object(n.jsx)("td",{className:"",children:e.description}),Object(n.jsx)("td",{className:"",children:e.rrr}),Object(n.jsxs)("td",{className:"",children:["\u20a6",H()(e.amountDue).format("0,0.00")]}),Object(n.jsx)("td",{className:"",children:e.funds_deduction||"N/A"}),Object(n.jsx)("td",{className:"".concat("SUCCESSFUL"===e.status?"text-success":"FAILED"===e.status?"text-danger":""),children:e.status}),Object(n.jsx)("td",{className:"text-center",children:Object(n.jsx)("button",{"data-rrr":e.rrr,className:"btn btn-success action-btn",disabled:E,children:E===e.rrr?Object(n.jsx)(U,{className:"rotating"}):"View"})})]}),t!==r.length-1&&Object(n.jsx)("tr",{className:"spacer"})]},t)}))]})]}),Object(n.jsx)("div",{className:"audit-history-footer",children:Object(n.jsx)(Zn.a,{pageCount:Math.ceil(r.length/v)||1,marginPagesDisplayed:2,pageRangeDisplayed:3,forcePage:w-1,onPageChange:function(e){return y(e.selected+1)},containerClassName:"pagination-btns",activeLinkClassName:"active",pageLinkClassName:"btn",previousLabel:Object(n.jsx)(Kt,{}),previousLinkClassName:"btn icon",nextLabel:Object(n.jsx)(Kt,{style:{transform:"rotateY(180deg)"}}),nextLinkClassName:"btn icon",disabledClassName:"disabled"})})]}),Object(n.jsx)(sc,{billingStatus:o})]})},ic=function(e){var t=Object(o.g)(),a=Object(o.i)(),r=a.url,s=a.params,l=Object(o.h)(),i=l.state,u=l.pathname,h=pe(),O=ce(),v=Object(c.useCallback)((function(e,t,a){return Jn(h)(e,t,a)}),[h]),x=Object(c.useState)({PND:!1,account_status:null,address:"N/A",bucket:"npf-mfb",bvnhash:"",companyCode:null,createdAt:"",customerNumber:"",dob:"",document_key:"",document_location:"",document_number:"",document_type_id:0,email:"",enabled:!0,firstname:"",force_number:"",has_pin:!1,id:0,ippis_number:"",isnewbankcustomer:null,document_issue_date:"",document_expiry_date:"",photostatus:"PENDING",documentstatus:"PENDING",signaturestatus:"PENDING",livelinesschecked:"PENDING",isotpverified:!0,lastname:"",middlename:"N/A",otpstatus:null,phone:"",photo_key:"",photo_location:"",photo_number:null,pob:null,registration_channel:"",salary_officer:!0,signature_key:"",signature_location:"",simswapstatus:null,updatedAt:"",user:0,video_key:"",video_location:"",signup_incomplete:!0,accounts:[]}),f=Object(p.a)(x,2),g=f[0],N=f[1],y=Object(c.useState)([{id:0,name:"Unknown Type"}]),_=Object(p.a)(y,2),k=_[0],A=_[1],C=Object(c.useState)("all"),S=Object(p.a)(C,2),P=S[0],E=S[1],I=Object(c.useState)({resetPassword:!1,confirmCustomer:!1,restrictCustomer:!1,enforcePND:!1,removePND:!1,confirmDocuments:!1,rejectDocuments:!1,confirmLiveliness:!1,rejectLiveliness:!1,confirmPhoto:!1,rejectPhoto:!1,confirmSignature:!1,rejectSignature:!1,userFull:!1,resetTxnPIN:!1,unlockAccount:!1,unlinkDevice:!1,syncInfo:!1,uploadSignature:!1,uploadIdDocument:!1,uploadUserPhoto:!1,uploadLivelinessVideo:!1,completeCustomerSignup:!1}),D=Object(p.a)(I,2),R=D[0],L=D[1],F=Object(c.useState)({document_type_id:0,document_number:"",document_issue_date:"",document_expiry_date:""}),M=Object(p.a)(F,2),T=M[0],B=M[1],V=Object(c.useState)(!1),Y=Object(p.a)(V,2),z=Y[0],H=Y[1],G=Object(c.useState)((function(){return{signature:"",idDocument:"",livelinessVideo:"",userPhoto:""}})),W=Object(p.a)(G,2),q=W[0],X=W[1],J=Object(c.useState)((function(){return{signature:"",idDocument:"",livelinessVideo:"",userPhoto:""}})),K=Object(p.a)(J,2),Q=K[0],Z=K[1],$=Object(c.useState)((function(){return{signature:"",idDocument:"",livelinessVideo:"",userPhoto:""}})),ee=Object(p.a)($,2),te=ee[0],ae=ee[1],ne=Object(c.useRef)(null);Object(c.useEffect)((function(){var e;function a(e){return n.apply(this,arguments)}function n(){return(n=Object(j.a)(d.a.mark((function e(a){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re("userFull",!0),e.prev=1,e.next=4,vn(a);case 4:if(n=e.sent,re("userFull",!1),!n.error){e.next=10;break}return ye(n.message,"error"),n.message.toLowerCase().includes("not found")&&t.push("/pages/customers"),e.abrupt("return");case 10:c=n.result.map((function(e){return e.accountnumber})),N((function(e){return Object(m.a)(Object(m.a)({},e),{},{accounts:c})})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),v(e.t0,ye,(function(){return re("userFull",!1)}));case 17:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}function c(){return(c=Object(j.a)(d.a.mark((function e(a){var n,c,r,l,i=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:function(e){},re("userFull",!0),e.prev=2,e.next=5,On(a);case 5:return r=e.sent,e.next=8,mn();case 8:if(l=e.sent,re("userFull",!1),!r.error){e.next=12;break}return e.abrupt("return",ye(r.message,"error"));case 12:if(null!==r.result){e.next=16;break}return ye("Customer Not Found","error"),t.push("/pages/customers"),e.abrupt("return");case 16:!(null===l||void 0===l?void 0:l.error)&&(null===l||void 0===l||null===(c=l.result)||void 0===c?void 0:c.length)>0&&A((function(e){return[].concat(Object(_e.a)(e),Object(_e.a)(l.result))})),N((function(e){return Object(m.a)(Object(m.a)({},e),r.result)})),n(s.userId),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(2),v(e.t0,ye,(function(){return re("userFull",!1)}));case 24:case"end":return e.stop()}}),e,null,[[2,21]])})))).apply(this,arguments)}(null===i||void 0===i||null===(e=i.requestedCustomer)||void 0===e?void 0:e.id.toString())===s.userId?(N((function(e){return Object(m.a)(Object(m.a)({},e),i.requestedCustomer)})),a(s.userId)):function(e){c.apply(this,arguments)}(s.userId,a)}),[i,s.userId,t,v]);var re=function(e,t){return L((function(a){return Object(m.a)(Object(m.a)({},a),{},Object(b.a)({},e,t))}))},se=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re("resetPassword",!0),e.prev=1,e.next=4,Dn(g.id);case 4:if(a=e.sent,re("resetPassword",!1),!a.error){e.next=8;break}return e.abrupt("return",ye(a.message,"error"));case 8:ve("#resetPasswordModal"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),v(e.t0,ye,(function(){return re("resetPassword",!1)}));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re("resetTxnPIN",!0),e.prev=1,e.next=4,Fn(g.id);case 4:if(a=e.sent,re("resetTxnPIN",!1),!a.error){e.next=8;break}return e.abrupt("return",ye(a.message,"error"));case 8:ve("#resetTxnPINModal"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),v(e.t0,ye,(function(){return re("resetTxnPIN",!1)}));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re("unlockAccount",!0),e.prev=1,e.next=4,Rn(g.id);case 4:if(a=e.sent,re("unlockAccount",!1),!a.error){e.next=8;break}return e.abrupt("return",ye(a.message,"error"));case 8:ve("#unlockAccountModal"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),v(e.t0,ye,(function(){return re("unlockAccount",!1)}));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re("unlinkDevice",!0),e.prev=1,e.next=4,Ln(g.id);case 4:if(a=e.sent,re("unlinkDevice",!1),!a.error){e.next=8;break}return e.abrupt("return",ye(a.message,"error"));case 8:ve("#unlinkDeviceModal"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),v(e.t0,ye,(function(){return re("unlinkDevice",!1)}));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re("syncInfo",!0),e.prev=1,e.next=4,Mn(g.id);case 4:if(a=e.sent,re("syncInfo",!1),!a.error){e.next=8;break}return e.abrupt("return",ye(a.message,"error"));case 8:ve("#syncInfoModal"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),v(e.t0,ye,(function(){return re("syncInfo",!1)}));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(j.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re("confirmCustomer",!0),e.prev=1,e.next=4,Sn(g.id);case 4:if(n=e.sent,re("confirmCustomer",!1),!n.error){e.next=8;break}return e.abrupt("return",ye(n.message,"error"));case 8:N((function(e){return Object(m.a)(Object(m.a)({},e),{},{enabled:!0})})),ve("#confirmModal",(function(e){t.push("/pages/customers")})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),v(e.t0,ye,(function(){return re("confirmCustomer",!1)}));case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(j.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re("restrictCustomer",!0),e.prev=1,e.next=4,Pn(g.id);case 4:if(n=e.sent,re("restrictCustomer",!1),!n.error){e.next=8;break}return e.abrupt("return",ye(n.message,"error"));case 8:N((function(e){return Object(m.a)(Object(m.a)({},e),{},{enabled:!1})})),ve("#rejectModal",(function(e){t.push("/pages/customers")})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),v(e.t0,ye,(function(){return re("restrictCustomer",!1)}));case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re("enforcePND",!0),e.prev=1,e.next=4,En(g.id);case 4:if(a=e.sent,re("enforcePND",!1),!a.error){e.next=8;break}return e.abrupt("return",ye(a.message,"error"));case 8:N((function(e){return Object(m.a)(Object(m.a)({},e),{},{PND:!0})})),ye(a.message,"success"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),v(e.t0,ye,(function(){return re("enforcePND",!1)}));case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re("removePND",!0),e.prev=1,e.next=4,In(g.id);case 4:if(a=e.sent,re("removePND",!1),!a.error){e.next=8;break}return e.abrupt("return",ye(a.message,"error"));case 8:N((function(e){return Object(m.a)(Object(m.a)({},e),{},{PND:!1})})),ye(a.message,"success"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),v(e.t0,ye,(function(){return re("removePND",!1)}));case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re("confirmDocuments",!0),e.prev=1,e.next=4,wn(g.id);case 4:if(a=e.sent,re("confirmDocuments",!1),!a.error){e.next=8;break}return e.abrupt("return",ye(a.message,"error"));case 8:N((function(e){return Object(m.a)(Object(m.a)({},e),{},{documentstatus:"APPROVED"})})),ye(a.message,"success"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),v(e.t0,ye,(function(){return re("confirmDocuments",!1)}));case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re("rejectDocuments",!0),e.prev=1,e.next=4,yn(g.id);case 4:if(a=e.sent,re("rejectDocuments",!1),!a.error){e.next=8;break}return e.abrupt("return",ye(a.message,"error"));case 8:N((function(e){return Object(m.a)(Object(m.a)({},e),{},{documentstatus:"DISAPPROVED",PND:!0})})),ye(a.message,"success"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),v(e.t0,ye,(function(){return re("rejectDocuments",!1)}));case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re("confirmSignature",!0),e.prev=1,e.next=4,_n(g.id);case 4:if(a=e.sent,re("confirmSignature",!1),!a.error){e.next=8;break}return e.abrupt("return",ye(a.message,"error"));case 8:console.log(a),N((function(e){return Object(m.a)(Object(m.a)({},e),{},{signaturestatus:"APPROVED"})})),ye(a.message,"success"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),v(e.t0,ye,(function(){return re("confirmSignature",!1)}));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re("rejectSignature",!0),e.prev=1,e.next=4,kn(g.id);case 4:if(a=e.sent,re("rejectSignature",!1),!a.error){e.next=8;break}return e.abrupt("return",ye(a.message,"error"));case 8:console.log(a),N((function(e){return Object(m.a)(Object(m.a)({},e),{},{signaturestatus:"DISAPPROVED",PND:!0})})),ye(a.message,"success"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),v(e.t0,ye,(function(){return re("rejectSignature",!1)}));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re("confirmLiveliness",!0),e.prev=1,e.next=4,gn(g.id);case 4:if(a=e.sent,re("confirmLiveliness",!1),!a.error){e.next=8;break}return e.abrupt("return",ye(a.message,"error"));case 8:N((function(e){return Object(m.a)(Object(m.a)({},e),{},{livelinesschecked:"APPROVED"})})),ye(a.message,"success"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),v(e.t0,ye,(function(){return re("confirmLiveliness",!1)}));case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re("rejectLiveliness",!0),e.prev=1,e.next=4,Nn(g.id);case 4:if(a=e.sent,re("rejectLiveliness",!1),!a.error){e.next=8;break}return e.abrupt("return",ye(a.message,"error"));case 8:N((function(e){return Object(m.a)(Object(m.a)({},e),{},{livelinesschecked:"DISAPPROVED",PND:!0})})),ye(a.message,"success"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),v(e.t0,ye,(function(){return re("rejectLiveliness",!1)}));case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re("confirmPhoto",!0),e.prev=1,e.next=4,An(g.id);case 4:if(a=e.sent,re("confirmPhoto",!1),!a.error){e.next=8;break}return e.abrupt("return",ye(a.message,"error"));case 8:console.log(a),N((function(e){return Object(m.a)(Object(m.a)({},e),{},{photostatus:"APPROVED"})})),ye(a.message,"success"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),v(e.t0,ye,(function(){return re("confirmPhoto",!1)}));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re("rejectPhoto",!0),e.prev=1,e.next=4,Cn(g.id);case 4:if(a=e.sent,re("rejectPhoto",!1),!a.error){e.next=8;break}return e.abrupt("return",ye(a.message,"error"));case 8:console.log(a),N((function(e){return Object(m.a)(Object(m.a)({},e),{},{photostatus:"DISAPPROVED",PND:!0})})),ye(a.message,"success"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),v(e.t0,ye,(function(){return re("rejectPhoto",!1)}));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),Se=function(e){var t,a=k.findIndex((function(t){return t.id===e}));return(null===(t=k[a])||void 0===t?void 0:t.name)||"Unknown Type"},Pe=function(e){var t=e.target,a=t.name,n=t.value;B((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(b.a)({},a,"document_number"===a?n.trim():n))}))},Ee=function(e){var t=e.target,a=t.name,n=t.files,c=n[0].type,r=("signature"===a||"idDocument"===a||"userPhoto"===a)&&!["image/jpeg","image/jpg","image/png"].includes(c)||"livelinessVideo"===a&&"video/mp4"!==c,s="signature"===a||"idDocument"===a||"userPhoto"===a?"Supported file types: .jpg, .png, .jpeg":"livelinessVideo"===a?"Supported file types: .mp4":"";Z((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(b.a)({},a,r?s:""))})),X((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(b.a)({},a,r?"":n[0]))})),Re(a,n[0],r)},Ie=function(e){Z((function(t){return Object(m.a)(Object(m.a)({},t),{},Object(b.a)({},e,""))})),X((function(t){return Object(m.a)(Object(m.a)({},t),{},Object(b.a)({},e,""))})),ae((function(t){return Object(m.a)(Object(m.a)({},t),{},Object(b.a)({},e,""))}))},De=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c,r,s,l,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("idDocument"!==t){e.next=5;break}if(!(!T.document_number||T.document_number&&T.document_number.length<5||T.document_number&&T.document_number.length>19||!T.document_type_id||!T.document_issue_date||!T.document_expiry_date)){e.next=4;break}return e.abrupt("return",H(!0));case 4:H(!1);case 5:return re(a="signature"===t?"uploadSignature":"idDocument"===t?"uploadIdDocument":"userPhoto"===t?"uploadUserPhoto":"livelinessVideo"===t?"uploadLivelinessVideo":"",!0),e.prev=7,n="signature"===t?t:"idDocument"===t?"document":"userPhoto"===t?"photo":"livelinessVideo"===t?"video":"",c="signature"===t?"signature.png":"idDocument"===t?"IdentityDoc.png":"userPhoto"===t?"livelinesscheck.png":"livelinessVideo"===t?"livevideo.mp4":"",r="signature"===t?Tn:"idDocument"===t?Vn:"userPhoto"===t?Bn:"livelinessVideo"===t?Un:function(){},s="signature"===t?"signature_location":"idDocument"===t?"document_location":"userPhoto"===t?"photo_location":"livelinessVideo"===t?"video_location":"",l=Le(te[t],c),(i=new FormData).append(n,l),i.append("customer_id",g.id),"idDocument"===t&&(i.append("document_number",T.document_number),i.append("document_type_id",T.document_type_id),i.append("document_issue_date",T.document_issue_date),i.append("document_expiry_date",T.document_expiry_date)),e.next=19,r(i);case 19:if(o=e.sent,re(a,!1),ye(o.message,o.error?"error":"success"),o.error){e.next=26;break}return N((function(e){var a;return Object(m.a)(Object(m.a)({},e),{},(a={},Object(b.a)(a,s,te[t]),Object(b.a)(a,"document_number","idDocument"===t?T.document_number:e.document_number),Object(b.a)(a,"document_type_id","idDocument"===t?parseInt(T.document_type_id):e.document_type_id),Object(b.a)(a,"document_issue_date","idDocument"===t?T.document_issue_date:e.document_issue_date),Object(b.a)(a,"document_expiry_date","idDocument"===t?T.document_expiry_date:e.document_expiry_date),a))})),"livelinessVideo"===t&&setTimeout((function(){return ne.current.load()}),2e3),e.abrupt("return",xe("#".concat(a,"Modal")));case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(7),v(e.t0,ye,(function(){return re(a,!1)}));case 31:case"end":return e.stop()}}),e,null,[[7,28]])})));return function(t){return e.apply(this,arguments)}}(),Re=function(e,t,a){if(a)return ae((function(t){return Object(m.a)(Object(m.a)({},t),{},Object(b.a)({},e,""))}));var n=new FileReader;n.readAsDataURL(t),n.onload=function(t){ae((function(t){return Object(m.a)(Object(m.a)({},t),{},Object(b.a)({},e,n.result))}))}},Le=function(e,t){for(var a=e.split(","),n=a[0].match(/:(.*?);/)[1],c=atob(a[1]),r=c.length,s=new Uint8Array(r);r--;)s[r]=c.charCodeAt(r);return new File([s],t,{type:n})},Fe=function(){var e=Object(j.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re("completeCustomerSignup",!0),e.prev=1,e.next=4,Yn(g.id);case 4:if(n=e.sent,re("completeCustomerSignup",!1),!n.error){e.next=8;break}return e.abrupt("return",ye(n.message,"error"));case 8:ve("#completeSignupModal",(function(e){t.go(0)})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),v(e.t0,ye,(function(){return re("completeCustomerSignup",!1)}));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),Me=le(),Te=Object(c.useState)(),Be=Object(p.a)(Te,2),Ve=Be[0],Ue=Be[1],He=Object(c.useState)(!1),Ge=Object(p.a)(He,2),We=Ge[0],qe=Ge[1],Xe=Object(c.useState)(),Je=Object(p.a)(Xe,2),Ke=Je[0],Qe=Je[1],Ze=Object(c.useState)(!1),et=Object(p.a)(Ze,2),tt=et[0],at=et[1],nt=function(){qe(!We),Qe("")},ct=Object(c.useRef)(),rt=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ct.current.focus(),t=g.id,!((a=ct.current.value)>parseInt("5000000"))){e.next=7;break}return Qe("Transfer limit cannot exceed 5 million"),qe(!0),e.abrupt("return");case 7:return Qe(""),at(!0),e.next=11,Xn(t,a);case 11:if(!(n=e.sent).error){e.next=16;break}return Qe(n.message),qe(!0),e.abrupt("return");case 16:Qe(""),qe(!1),Ue(a),at(!1);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){Ue(g.transfer_limit)}),[g.transfer_limit]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("header",{children:[Object(n.jsxs)("div",{children:[Object(n.jsxs)("h1",{children:[Object(n.jsx)("button",{onClick:function(e){return t.goBack()},className:"btn btn-primary back-btn",children:Object(n.jsx)(da,{})}),"Customer"," ",u.includes("auditHistory")?"Audit History":u.includes("billingHistory")?"Billing History":"Profile"]}),u.includes("auditHistory")||u.includes("billingHistory")?null:Object(n.jsxs)("nav",{children:[Object(n.jsx)("a",{className:"all"===P?"active":"",onClick:function(e){return E("all")},children:"Customer Details"}),Object(n.jsx)("a",{className:"documents"===P?"active":"",onClick:function(e){return E("documents")},children:"Customer Documents"}),Object(n.jsx)("a",{className:"liveliness"===P?"active":"",onClick:function(e){return E("liveliness")},children:"Facial Liveliness Check"})]})]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"small-admin-details",children:[Object(n.jsx)("img",{src:ze,alt:""}),O||"NPF Admin",Object(n.jsx)("i",{className:"arrow down"})]}),Object(n.jsxs)("div",{className:"some-container",children:[Object(n.jsx)("button",{onClick:je,disabled:"APPROVED"!==g.livelinesschecked||"APPROVED"!==g.documentstatus||"APPROVED"!==g.signaturestatus||"APPROVED"!==g.photostatus,className:"btn confirm-user-btn ".concat(R.confirmCustomer?"loading disabled":""),children:R.confirmCustomer?Object(n.jsx)(U,{className:"rotating"}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)($e,{})," Enable"]})}),Object(n.jsx)("button",{onClick:be,className:"btn restrict-user-btn ".concat(R.restrictCustomer?"loading disabled":""),children:R.restrictCustomer?Object(n.jsx)(U,{className:"rotating"}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(sa,{})," Restrict"]})})]})]})]}),Object(n.jsxs)("main",{className:"customers-page",children:[R.userFull&&Object(n.jsx)("div",{className:"searching-block",children:Object(n.jsx)("div",{className:"svg-holder",children:Object(n.jsx)(U,{className:"rotating"})})}),!R.userFull&&!u.includes("auditHistory")&&!u.includes("billingHistory")&&"all"===P&&Object(n.jsxs)("div",{className:"customer-details row animated fadeIn delay-05s",children:[Object(n.jsxs)("div",{className:"left-side col-3",children:[Object(n.jsx)("div",{className:"img-holder",children:Object(n.jsx)("img",{src:g.photo_location||ze,alt:g.firstname})}),Object(n.jsxs)("button",{className:"audit-history-btn btn",onClick:function(e){return t.push("".concat(r,"/auditHistory"),i)},type:"button",children:["Audit History",Object(n.jsx)("span",{children:Object(n.jsx)(w,{})}),Object(n.jsx)("div",{className:"overlay-div"})]}),Object(n.jsxs)("button",{className:"audit-history-btn billing-history-btn btn",onClick:function(e){return t.push("".concat(r,"/billingHistory"),i)},type:"button",children:["Billing History",Object(n.jsx)("span",{children:Object(n.jsx)(w,{})}),Object(n.jsx)("div",{className:"overlay-div"})]}),Object(n.jsx)("button",{onClick:se,className:"btn btn-outline-danger reset-password-btn d-block ".concat(R.resetPassword?"loading disabled":""),children:R.resetPassword?Object(n.jsx)(U,{className:"rotating"}):"Reset Password"}),Object(n.jsx)("button",{onClick:ie,className:"btn btn-outline-danger reset-password-btn d-block ".concat(R.resetTxnPIN?"loading disabled":""),children:R.resetTxnPIN?Object(n.jsx)(U,{className:"rotating"}):"Reset Txn PIN"}),Object(n.jsx)("button",{onClick:oe,className:"btn btn-outline-danger reset-password-btn d-block ".concat(R.unlockAccount?"loading disabled":""),children:R.unlockAccount?Object(n.jsx)(U,{className:"rotating"}):"Unlock Account"}),Object(n.jsx)("button",{onClick:ue,className:"btn btn-outline-danger reset-password-btn d-block ".concat(R.unlinkDevice?"loading disabled":""),children:R.unlinkDevice?Object(n.jsx)(U,{className:"rotating"}):"Unlink Device"}),Object(n.jsx)("button",{onClick:de,className:"btn btn-outline-danger reset-password-btn d-block ".concat(R.syncInfo?"loading disabled":""),children:R.syncInfo?Object(n.jsx)(U,{className:"rotating"}):"Sync Info"}),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"divider",style:{borderBottom:"1px solid #c1c1c1",width:"100%"},children:"\xa0"}),Object(n.jsxs)("div",{className:"mt-3 mb-3 ".concat(g.signup_incomplete?"color-red":"color-green"),children:["SignUp"," ",g.signup_incomplete?"Incomplete":"Completed"]}),Object(n.jsx)("button",{onClick:Fe,className:"btn btn-outline-danger reset-password-btn d-block ".concat(R.completeCustomerSignup?"loading disabled":""),disabled:!g.signup_incomplete,children:R.completeCustomerSignup?Object(n.jsx)(U,{className:"rotating"}):"Complete Signup"})]}),Object(n.jsxs)("div",{className:"pnd-div mt-5",children:[Object(n.jsx)("p",{className:"color-dark-text-blue",children:Object(n.jsx)("b",{children:"Post No Debit"})}),Object(n.jsxs)("p",{className:"color-".concat(g.PND?"red":"green"),children:["Status: ",g.PND?"Active":"Inactive"]}),Object(n.jsx)("div",{className:"btn-group",role:"group","aria-label":"Post No Debit",children:R.enforcePND||R.removePND?Object(n.jsx)("button",{type:"button",className:"btn disabled loading ".concat(R.removePND&&"reject"),children:Object(n.jsx)(U,{className:"rotating"})}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{type:"button",disabled:g.PND,className:"btn btn-primary",onClick:me,children:"Enforce"}),Object(n.jsx)("button",{type:"button",disabled:!g.PND,className:"btn btn-danger",onClick:he,children:"Remove"})]})})]})]}),Object(n.jsxs)("div",{className:"right-side col row",children:[Object(n.jsxs)("div",{className:"personal-details col",children:[Object(n.jsx)("div",{className:"details-header",children:"Personal Details"}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Customer Name:"}),Object(n.jsx)("div",{className:"col",children:"".concat(g.firstname," ").concat(g.lastname)||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Customer Email:"}),Object(n.jsx)("div",{className:"col",children:g.email||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Customer phone:"}),Object(n.jsx)("div",{className:"col",children:g.phone||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Date of birth:"}),Object(n.jsx)("div",{className:"col",children:Ye()(g.dob).format("DD/MM/YYYY")||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Marital Status:"}),Object(n.jsx)("div",{className:"col",children:g.marital_status||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Residential Addr:"}),Object(n.jsx)("div",{className:"col",children:g.address||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Length of Stay in Address:"}),Object(n.jsx)("div",{className:"col",children:g.length_of_stay||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"State of Origin:"}),Object(n.jsx)("div",{className:"col",children:g.state||"N/A"})]})]}),Object(n.jsxs)("div",{className:"other-details col",children:[Object(n.jsxs)("div",{className:"bank-details",children:[Object(n.jsx)("div",{className:"details-header",children:"Bank Details"}),Object(n.jsx)("div",{className:"row",children:g.accounts.map((function(e,t){return Object(n.jsxs)(c.Fragment,{children:[Object(n.jsxs)("div",{className:"col-5",children:["Bank Account No",t+1,":"]}),Object(n.jsx)("div",{className:"col",children:e||"N/A"})]},t)}))}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"BVN Number:"}),Object(n.jsx)("div",{className:"col",children:g.bvnhash||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Customer branch:"}),Object(n.jsx)("div",{className:"col",children:g.branch||"E-channels"})]}),-1!==Me.indexOf("ADMIN")?Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Transfer Limit:"}),We?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{className:"limit-input",type:"number",defaultValue:Ve,ref:ct}),Object(n.jsx)("button",{className:"limit-cancel-btn",onClick:nt,children:Object(n.jsx)(sa,{className:"limit-cancel-icon"})}),tt?Object(n.jsx)(U,{className:"limit-loading rotating"}):Object(n.jsx)("button",{className:"limit-check-btn",onClick:rt,children:Object(n.jsx)(w,{className:"limit-check-icon"})})]}),Object(n.jsx)("p",{className:"limit-error",children:Ke})]}):Object(n.jsx)("div",{className:"col",onClick:nt,children:Ve||"N/A"})]}):Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Transfer Limit:"}),Ve||"N/A"]})]}),Object(n.jsxs)("div",{className:"kin-details",children:[Object(n.jsx)("div",{className:"details-header",children:"Next of Kin Details"}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Next of Kin:"}),Object(n.jsx)("div",{className:"col",children:g.kin_name||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Relationship:"}),Object(n.jsx)("div",{className:"col",children:g.kin_relationship||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Phone Number:"}),Object(n.jsx)("div",{className:"col",children:g.kin_phone||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Business:"}),Object(n.jsx)("div",{className:"col",children:g.kin_business||"N/A"})]})]})]})]})]}),!R.userFull&&!u.includes("auditHistory")&&!u.includes("billingHistory")&&"liveliness"===P&&Object(n.jsxs)("div",{className:"liveliness-check-page row animated fadeIn delay-05s",children:[Object(n.jsxs)("div",{className:"left-side col",children:[Object(n.jsx)("div",{className:"details-header",children:"Verification Video"}),Object(n.jsx)("div",{className:"verification-vid-holder",children:g.video_location?Object(n.jsxs)("video",{width:"783",ref:ne,controls:!0,children:[Object(n.jsx)("source",{src:g.video_location}),"Your browser does not support the video tag."]}):Object(n.jsx)("img",{src:"https://via.placeholder.com/728x427.png?text=Not+Provided",alt:"Not Provided"})})]}),Object(n.jsxs)("div",{className:"right-side col",children:[Object(n.jsx)("div",{className:"details-header",children:"Verification Photo"}),Object(n.jsx)("div",{className:"verification-photo-holder",children:Object(n.jsx)("img",{src:g.photo_location||ze,alt:"".concat(g.firstname," ").concat(g.lastname)})}),Object(n.jsxs)("div",{className:"liveliness-opt-div",children:[Object(n.jsxs)("p",{className:"color-dark-text-blue",children:["Photo Verification Status:"," ",Object(n.jsx)("span",{className:"col color-".concat("APPROVED"===g.photostatus?"green":"DISAPPROVED"===g.photostatus?"red":"yellow"),children:g.photostatus})]}),Object(n.jsx)("div",{className:"btn-group",role:"group","aria-label":"Photo Check Options",children:R.confirmPhoto||R.rejectPhoto?Object(n.jsx)("button",{type:"button",className:"btn disabled loading ".concat(R.rejectPhoto&&"reject"),children:Object(n.jsx)(U,{className:"rotating"})}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:Ae,disabled:"APPROVED"===g.photostatus,children:"Confirm Photo"}),Object(n.jsx)("button",{type:"button",className:"btn btn-danger",onClick:Ce,disabled:"DISAPPROVED"===g.photostatus,children:"Reject Photo"})]})}),Object(n.jsxs)("p",{className:"color-dark-text-blue mt-3",children:["Video Verification Status:"," ",Object(n.jsx)("span",{className:"col color-".concat("APPROVED"===g.livelinesschecked?"green":"DISAPPROVED"===g.livelinesschecked?"red":"yellow"),children:g.livelinesschecked})]}),Object(n.jsx)("div",{className:"btn-group",role:"group","aria-label":"Liveliness Check Options",children:R.confirmLiveliness||R.rejectLiveliness?Object(n.jsx)("button",{type:"button",className:"btn disabled loading ".concat(R.rejectLiveliness&&"reject"),children:Object(n.jsx)(U,{className:"rotating"})}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:we,disabled:"APPROVED"===g.livelinesschecked,children:"Confirm Video"}),Object(n.jsx)("button",{type:"button",className:"btn btn-danger",onClick:ke,disabled:"DISAPPROVED"===g.livelinesschecked,children:"Reject Video"})]})}),Object(n.jsxs)("div",{className:"btn-group mt-4 d-flex",role:"group","aria-label":"Liveliness Check Upload Options",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary mr-2",onClick:function(e){return ve("#uploadLivelinessVideoModal",(function(){return Ie("livelinessVideo")}))},children:"Upload Video"}),Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(e){return ve("#uploadUserPhotoModal",(function(){return Ie("userPhoto")}))},children:"Upload Photo"})]})]})]})]}),!R.userFull&&!u.includes("auditHistory")&&!u.includes("billingHistory")&&"documents"===P&&Object(n.jsxs)("div",{className:"customer-documents-page animated fadeIn delay-05s",children:[Object(n.jsxs)("div",{className:"id-document-container",children:[Object(n.jsx)("div",{className:"details-header",children:"Identification (ID)"}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-4 document-card",children:[Object(n.jsx)("img",{src:g.document_location,alt:"",onClick:function(e){return ve("#idDocModal")}}),Object(n.jsxs)("div",{className:"document-info",children:[Object(n.jsx)("span",{children:Object(n.jsx)(Oa,{})}),Object(n.jsx)("b",{children:Se(g.document_type_id)}),Object(n.jsxs)("div",{className:"file-action-icons",children:[Object(n.jsx)("span",{"data-toggle":"tooltip","data-placement":"bottom",title:"Upload ID",onClick:function(e){return ve("#uploadIdDocumentModal",(function(){H(!1),B((function(e){return Object(m.a)(Object(m.a)({},e),{},{document_type_id:0,document_expiry_date:"",document_issue_date:"",document_number:""})})),Ie("idDocument")}))},children:Object(n.jsx)("a",{children:Object(n.jsx)(nn,{})})}),Object(n.jsx)("span",{"data-toggle":"tooltip","data-placement":"bottom",title:"Download ID",children:Object(n.jsx)("a",{href:g.document_location,download:"".concat(g.firstname,"-ID"),children:Object(n.jsx)(Ma,{})})})]})]})]}),Object(n.jsxs)("div",{className:"col id-document-details",children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-3",children:"Id Type:"}),Object(n.jsx)("div",{className:"col",children:Se(g.document_type_id)})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-3",children:"Id Number:"}),Object(n.jsx)("div",{className:"col",children:g.document_number})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-3",children:"Issue Date:"}),Object(n.jsx)("div",{className:"col",children:g.document_issue_date?Ye()(g.document_issue_date).format("DD/MM/YYYY"):"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-3",children:"Expiry Date:"}),Object(n.jsx)("div",{className:"col",children:g.document_expiry_date?Ye()(g.document_expiry_date).format("DD/MM/YYYY"):"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-3",children:"Issuing Country:"}),Object(n.jsx)("div",{className:"col",children:g.document_issue_country||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-3",children:"Verification Status:"}),Object(n.jsx)("div",{className:"col color-".concat("APPROVED"===g.documentstatus?"green":"PENDING"===g.documentstatus?"yellow":"red"),children:g.documentstatus})]}),Object(n.jsx)("div",{className:"doc-opt-div",children:Object(n.jsx)("div",{className:"btn-group",role:"group","aria-label":"Document operations",children:R.confirmDocuments||R.rejectDocuments?Object(n.jsx)("button",{type:"button",className:"btn disabled loading ".concat(R.rejectDocuments&&"reject"),children:Object(n.jsx)(U,{className:"rotating"})}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:Oe,disabled:"APPROVED"===g.documentstatus,children:"Confirm ID Document"}),Object(n.jsx)("button",{type:"button",className:"btn btn-danger",disabled:"DISAPPROVED"===g.documentstatus,onClick:fe,children:"Reject ID Document"})]})})})]})]})]}),Object(n.jsxs)("div",{className:"other-documents",children:[Object(n.jsx)("div",{className:"details-header",children:"Other Documents"}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-4 document-card",children:[Object(n.jsx)("img",{src:g.signature_location,alt:"",onClick:function(e){return ve("#signatureModal")}}),Object(n.jsxs)("div",{className:"document-info",children:[Object(n.jsx)("span",{children:Object(n.jsx)(Oa,{})}),Object(n.jsx)("b",{children:"Signature"}),Object(n.jsxs)("div",{className:"file-action-icons",children:[Object(n.jsx)("span",{"data-toggle":"tooltip","data-placement":"bottom",title:"Upload signature",onClick:function(e){return ve("#uploadSignatureModal",(function(){return Ie("signature")}))},children:Object(n.jsx)("a",{children:Object(n.jsx)(nn,{})})}),Object(n.jsx)("span",{"data-toggle":"tooltip","data-placement":"bottom",title:"Download signature",children:Object(n.jsx)("a",{href:g.signature_location,download:"".concat(g.firstname,"-signature"),children:Object(n.jsx)(Ma,{})})})]})]})]}),Object(n.jsxs)("div",{className:"col",children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-3",children:"Verification Status:"}),Object(n.jsx)("div",{className:"col color-".concat("APPROVED"===g.signaturestatus?"green":"PENDING"===g.signaturestatus?"yellow":"red"),children:g.signaturestatus})]}),Object(n.jsx)("div",{className:"doc-opt-div",children:Object(n.jsx)("div",{className:"btn-group",role:"group","aria-label":"Signature operations",children:R.confirmSignature||R.rejectSignature?Object(n.jsx)("button",{type:"button",className:"btn disabled loading ".concat(R.rejectSignature&&"reject"),children:Object(n.jsx)(U,{className:"rotating"})}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:ge,disabled:"APPROVED"===g.signaturestatus,children:"Confirm Signature"}),Object(n.jsx)("button",{type:"button",className:"btn btn-danger",disabled:"DISAPPROVED"===g.signaturestatus,onClick:Ne,children:"Reject Signature"})]})})})]})]})]})]}),!R.userFull&&u.includes("auditHistory")&&Object(n.jsx)(rc,{userId:s.userId}),!R.userFull&&u.includes("billingHistory")&&Object(n.jsx)(lc,{userId:s.userId})]}),Object(n.jsx)(dn,{title:"Confirmed Successfully",id:"confirmModal",modalText:"You have successfully confirmed this customer\u2019s account."}),Object(n.jsx)(dn,{title:"Restricted Successfully",id:"rejectModal",modalText:"You have successfully placed this customer on restriction. The customer Has been duly notified of this action."}),Object(n.jsx)(dn,{title:"Transaction PIN reset successful",id:"resetTxnPINModal",modalText:"You have successfully reset this customer's transaction PIN. The customer has been duly notified of this action."}),Object(n.jsx)(dn,{title:"Account Unlocked Successfully",id:"unlockAccountModal",modalText:"You have successfully unlocked this account. The customer has been duly notified of this action."}),Object(n.jsx)(dn,{title:"Device Unlinked Successfully",id:"unlinkDeviceModal",modalText:"You have successfully unlinked the device tied to this account. The customer has been duly notified of this action."}),Object(n.jsx)(dn,{title:"Info Synced Successfully",id:"syncInfoModal",modalText:"You have successfully synchronized this customer's info from the core banking to our platform."}),Object(n.jsx)(dn,{title:"Completed Process Successfully",id:"completeSignupModal",modalText:"You have successfully completed the signup process unbehalf of this customer. The customer has been duly notified of this action."}),Object(n.jsx)(dn,{title:"Password reset successful",id:"resetPasswordModal",modalText:"Temporary password generated and sent to customer's mailbox.",showCloseX:!0}),Object(n.jsx)(dn,{title:"ID Document",id:"idDocModal",showCloseX:!0,closeWithBackDrop:!0,replaceButton:!0,imgSrc:g.document_location}),Object(n.jsx)(dn,{title:"Signature",id:"signatureModal",showCloseX:!0,closeWithBackDrop:!0,replaceButton:!0,imgSrc:g.signature_location}),Object(n.jsx)(dn,{title:"Response Body",id:"resBodyModal",closeWithBackDrop:!0,showCloseX:!0,replaceButton:!0,resBodyText:!0}),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(dn,{id:"uploadSignatureModal",closeWithBackDrop:!0,showCloseX:!0,children:Object(n.jsxs)("div",{className:"modal-body",children:[Object(n.jsx)("h5",{className:"modal-title",id:"uploadSignatureModalLabel",children:"Upload Signature"}),Object(n.jsx)("div",{className:"input-group mt-5",children:Object(n.jsxs)("div",{className:"custom-file",children:[Object(n.jsx)("input",{type:"file",className:"custom-file-input",id:"inputGroupFile01",name:"signature",onChange:Ee,accept:"image/jpeg,image/jpg,image/png,.jpg,.png,.jpeg"}),Object(n.jsx)("label",{className:"custom-file-label",htmlFor:"inputGroupFile01",children:q.signature.name||"Choose file"})]})}),Object(n.jsx)("div",{className:"text-small mb-5 text-danger",children:Q.signature}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(e){return De("signature")},disabled:!q.signature||Q.signature||!te.signature||R.uploadSignature,children:R.uploadSignature?Object(n.jsx)(U,{className:"rotating"}):"Confirm Upload"})})]})}),Object(n.jsx)(dn,{id:"uploadIdDocumentModal",closeWithBackDrop:!0,showCloseX:!0,children:Object(n.jsxs)("div",{className:"modal-body",children:[Object(n.jsx)("h5",{className:"modal-title",id:"uploadIdDocumentModalLabel",children:"Upload ID Document"}),Object(n.jsxs)("div",{className:"form-row mt-5 mb-3",children:[Object(n.jsxs)("div",{className:"form-group col",children:[Object(n.jsx)("label",{htmlFor:"exampleFormControlInput1",children:"ID Number"}),Object(n.jsx)("input",{type:"text",name:"document_number",onChange:Pe,value:T.document_number,className:"form-control ".concat(z&&(!T.document_number||T.document_number&&T.document_number.length<5||T.document_number&&T.document_number.length>19)?"is-invalid":""),"aria-describedby":"validationFeedback01",id:"exampleFormControlInput1"}),Object(n.jsxs)("div",{id:"validationFeedback01",className:"invalid-feedback",children:[!T.document_number&&"Required",T.document_number&&T.document_number.length<5&&"ID number must not be below 5 characters.",T.document_number&&T.document_number.length>19&&"ID number must not exceed 19 characters."]})]}),Object(n.jsxs)("div",{className:"form-group col",children:[Object(n.jsx)("label",{htmlFor:"exampleFormControlSelect2",children:"Document Type"}),Object(n.jsx)("select",{className:"form-control ".concat(z&&!T.document_type_id?"is-invalid":""),name:"document_type_id",onChange:Pe,value:T.document_type_id,id:"exampleFormControlSelect2","aria-describedby":"validationFeedback02",children:k.map((function(e,t){var a=e.id,c=e.name;return Object(n.jsx)("option",{className:0===parseInt(a)?"d-none":"",value:a,children:0===parseInt(a)?"Select Type":c},t)}))}),Object(n.jsx)("div",{id:"validationFeedback02",className:"invalid-feedback",children:!T.document_type_id&&"Select a valid type."})]})]}),Object(n.jsxs)("div",{className:"form-row",children:[Object(n.jsxs)("div",{className:"form-group col",children:[Object(n.jsx)("label",{htmlFor:"exampleFormControlInput3",children:"Issue Date"}),Object(n.jsx)("input",{type:"date",value:T.document_issue_date,name:"document_issue_date",onChange:Pe,className:"form-control ".concat(z&&!T.document_issue_date?"is-invalid":""),id:"exampleFormControlInput3","aria-describedby":"validationFeedback03"}),Object(n.jsx)("div",{id:"validationFeedback03",className:"invalid-feedback",children:!T.document_issue_date&&"Required"})]}),Object(n.jsxs)("div",{className:"form-group col",children:[Object(n.jsx)("label",{htmlFor:"exampleFormControlInput4",children:"Expiry Date"}),Object(n.jsx)("input",{type:"date",value:T.document_expiry_date,className:"form-control ".concat(z&&!T.document_expiry_date?"is-invalid":""),id:"exampleFormControlInput4",name:"document_expiry_date",onChange:Pe,"aria-describedby":"validationFeedback04"}),Object(n.jsx)("div",{id:"validationFeedback03",className:"invalid-feedback",children:!T.document_expiry_date&&"Required"})]})]}),Object(n.jsx)("div",{className:"input-group mt-5",children:Object(n.jsxs)("div",{className:"custom-file",children:[Object(n.jsx)("input",{type:"file",className:"custom-file-input",id:"inputGroupFile02",name:"idDocument",onChange:Ee,accept:"image/jpeg,image/jpg,image/png,.jpg,.png,.jpeg"}),Object(n.jsx)("label",{className:"custom-file-label",htmlFor:"inputGroupFile02",children:q.idDocument.name||"Choose file"})]})}),Object(n.jsx)("div",{className:"text-small mb-5 text-danger",children:Q.idDocument}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(e){return De("idDocument")},disabled:!q.idDocument||Q.idDocument||!te.idDocument||R.uploadIdDocument,children:R.uploadIdDocument?Object(n.jsx)(U,{className:"rotating"}):"Confirm Upload"})})]})}),Object(n.jsx)(dn,{id:"uploadUserPhotoModal",closeWithBackDrop:!0,showCloseX:!0,children:Object(n.jsxs)("div",{className:"modal-body",children:[Object(n.jsx)("h5",{className:"modal-title",id:"uploadUserPhotoModalLabel",children:"Upload Photo"}),Object(n.jsx)("div",{className:"input-group mt-5",children:Object(n.jsxs)("div",{className:"custom-file",children:[Object(n.jsx)("input",{type:"file",className:"custom-file-input",id:"inputGroupFile03",name:"userPhoto",onChange:Ee,accept:"image/jpeg,image/jpg,image/png,.jpg,.png,.jpeg"}),Object(n.jsx)("label",{className:"custom-file-label",htmlFor:"inputGroupFile03",children:q.userPhoto.name||"Choose file"})]})}),Object(n.jsx)("div",{className:"text-small mb-5 text-danger",children:Q.userPhoto}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(e){return De("userPhoto")},disabled:!q.userPhoto||Q.userPhoto||!te.userPhoto||R.uploadUserPhoto,children:R.uploadUserPhoto?Object(n.jsx)(U,{className:"rotating"}):"Confirm Upload"})})]})}),Object(n.jsx)(dn,{id:"uploadLivelinessVideoModal",closeWithBackDrop:!0,showCloseX:!0,children:Object(n.jsxs)("div",{className:"modal-body",children:[Object(n.jsx)("h5",{className:"modal-title",id:"uploadLivelinessVideoModalLabel",children:"Upload Liveliness Check Video"}),Object(n.jsx)("div",{className:"input-group mt-5",children:Object(n.jsxs)("div",{className:"custom-file",children:[Object(n.jsx)("input",{type:"file",className:"custom-file-input",id:"inputGroupFile04",name:"livelinessVideo",onChange:Ee,accept:"video/mp4,.mp4"}),Object(n.jsx)("label",{className:"custom-file-label",htmlFor:"inputGroupFile04",children:q.livelinessVideo.name||"Choose file"})]})}),Object(n.jsx)("div",{className:"text-small mb-5 text-danger",children:Q.livelinessVideo}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(e){return De("livelinessVideo")},disabled:!q.livelinessVideo||Q.livelinessVideo||!te.livelinessVideo||R.uploadLivelinessVideo,children:R.uploadLivelinessVideo?Object(n.jsx)(U,{className:"rotating"}):"Confirm Upload"})})]})})]})]})},oc=a(57),uc=a.n(oc),dc=(a(158),function(e){var t=Object(o.i)().path,a=Object(o.g)(),r=pe(),s=ce(),l=Object(c.useCallback)((function(e,t,a){return Jn(r)(e,t,a)}),[r]),i=Object(c.useState)((function(){return Array(0).fill("").map((function(e,t){return{id:"40".concat(t),bvnhash:"",firstname:"",lastname:"",middlename:null,phone:"",simswapstatus:null,otpstatus:null,email:"",dob:"1999-06-30T00:00:00.000Z",pob:null,bucket:"npf-mfb",photo_location:"",photo_key:"40/photo/livelinesscheck.png",photo_number:null,video_location:"",video_key:"",signature_location:"",signature_key:"",document_location:"",document_key:"",document_number:"",document_type_id:2,documentschecked:null,isnewbankcustomer:null,document_issue_date:"",document_expiry_date:"",isotpverified:!0,livelinesschecked:null,salary_officer:!1,force_number:"N/A",ippis_number:"N/A",address:"N/A",has_pin:!0,transfer_limit:"",createdAt:"2020-11-04T15:11:59.904Z",updatedAt:"2020-11-06T09:11:40.700Z",user:62,accountNumber:"0209525729",bvn:"",accountStatus:0!==t&&2!==t,liveliness:0!==t&&2!==t,PND:1===e.accountStatus,signup_incomplete:!1}}))})),u=Object(p.a)(i,2),h=u[0],O=u[1],v=Object(c.useState)([]),x=Object(p.a)(v,2),f=x[0],g=x[1],N=Object(c.useState)({search:"",start_date:"",end_date:""}),w=Object(p.a)(N,2),y=w[0],_=w[1],k=Object(c.useState)(1),A=Object(p.a)(k,2),C=A[0],S=A[1],P=Object(c.useState)("all"),E=Object(p.a)(P,2),I=E[0],D=E[1],R=Object(c.useState)(!1),L=Object(p.a)(R,2),F=L[0],M=L[1],T=Object(c.useState)({method:"",param:""}),B=Object(p.a)(T,2),V=B[0],Y=B[1],z=Object(c.useState)(5),H=Object(p.a)(z,2),G=H[0],W=H[1],q=Object(c.useState)([]),X=Object(p.a)(q,2),J=X[0],K=X[1],Q=Object(c.useState)(!1),Z=Object(p.a)(Q,2),$=Z[0],te=Z[1],ae=Object(c.useRef)(!1),ne=ee();Object(c.useEffect)((function(){Kn(ne,a,Ve.a,r,ye)}),[r,a,ne]);var re=Object(c.useCallback)(function(){var e=Object(j.a)(d.a.mark((function e(t,a){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),n=["channel"===t?a:"","reg_complete"===t?a:""],e.prev=2,e.next=5,pn.apply(void 0,n);case 5:if(c=e.sent,M(!1),!c.error){e.next=9;break}return e.abrupt("return",ye(c.message,"error"));case 9:O((function(e){return Object(_e.a)(null===c||void 0===c?void 0:c.result)})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),l(e.t0,ye,(function(){return M(!1)}));case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,a){return e.apply(this,arguments)}}(),[l]);Object(c.useEffect)((function(){re()}),[re]),Object(c.useEffect)((function(){g(h)}),[h]),Object(c.useEffect)((function(){var e;S(1),"all"===I&&(e=h),"active"!==I&&"restricted"!==I||(e=h.filter((function(e){var t=e.PND;return"active"===I&&!t||"restricted"===I&&t}))),"pending"===I&&(e=h.filter((function(e){var t=e.isnewbankcustomer,a=e.livelinesschecked,n=e.documentschecked;return"pending"===I&&(null===t||"PENDING"===a||null===n)}))),g(e)}),[I,h]);var se=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D("all"),S(1),t){e.next=7;break}return ae.current=!1,M(!1),g(h),e.abrupt("return");case 7:return ae.current=!0,M(!0),e.prev=9,e.next=12,hn(t);case 12:if(a=e.sent,M(!1),!a.error){e.next=16;break}return e.abrupt("return",ye(a.message,"error"));case 16:ae.current&&g(a.result),ae.current=!1,e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),l(e.t0,ye,(function(){return M(!1)}));case 23:case"end":return e.stop()}}),e,null,[[9,20]])})));return function(t){return e.apply(this,arguments)}}(),le=function(e,t){Y({method:e,param:t}),re(e,t),S(1),D("all"),_((function(e){return Object(m.a)(Object(m.a)({},e),{},{search:""})}))},ie=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,c,r,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return te(!0),xe("#exportCustomersDataModal"),e.prev=2,t=J.includes("all")?[]:J,a=y.start_date?y.start_date.toISOString():"",n=y.end_date?y.end_date.toISOString():"",c=Ye()().format("DD-MM-YY"),e.next=9,zn({customer_ids:t,start_date:a,end_date:n});case 9:r=e.sent,te(!1),s=window.URL.createObjectURL(r),(i=document.createElement("a")).href=s,i.setAttribute("download","Customers ".concat(c,".xlsx")),document.body.appendChild(i),i.click(),setTimeout((function(){document.body.removeChild(i),window.URL.revokeObjectURL(s),_((function(e){return Object(m.a)(Object(m.a)({},e),{},{start_date:null,end_date:null})}))}),500),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(2),l(e.t0,ye,(function(){return te(!1)}));case 23:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.b,{exact:!0,path:t,children:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("header",{children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"Customer Accounts Management"}),Object(n.jsxs)("nav",{children:[Object(n.jsx)("a",{className:"all"===I?"active":"",onClick:function(e){return D("all")},children:"All Customers"}),Object(n.jsx)("a",{className:"active"===I?"active":"",onClick:function(e){return D("active")},children:"Active"}),Object(n.jsx)("a",{className:"pending"===I?"active":"",onClick:function(e){return D("pending")},children:"Pending"}),Object(n.jsx)("a",{className:"restricted"===I?"active":"",onClick:function(e){return D("restricted")},children:"Restricted"})]})]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"small-admin-details",children:[Object(n.jsx)("img",{src:ze,alt:""}),s||"NPF Admin",Object(n.jsx)("i",{className:"arrow down"})]}),Object(n.jsxs)("div",{className:"some-container",children:[Object(n.jsxs)("div",{className:"search-div",children:[Object(n.jsx)("label",{htmlFor:"search",children:Object(n.jsx)(rt,{})}),Object(n.jsx)("input",{type:"search",className:"form-control",name:"search",id:"search","aria-label":"Search for customers",value:y.search,onChange:function(e){var t=e.target,a=t.name,n=t.value,c=t.checked;if(a.includes("selCustomer")){var r,s=a.replace("selCustomer-","");if(s="all"===s?s:parseInt(s),c)r="all"===s?["all"]:[].concat(Object(_e.a)(J),[s]);else{var l=(r=J.includes("all")&&"all"!==s?Object(_e.a)(f.map((function(e){return e.id}))):Object(_e.a)(J)).findIndex((function(e){return e===s}));r.splice(l,1)}K(r)}else _((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(b.a)({},a,"search"===a?n.trim():n))})),"search"===a&&se(n)}})]}),Object(n.jsx)("button",{onClick:function(e){return ve("#exportCustomersDataModal")},id:"exportCustomersData",className:"btn export-data-btn d-block ".concat($?"loading disabled":""),children:$?Object(n.jsx)(U,{className:"rotating"}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(_t,{})," Export Data"]})}),Object(n.jsx)("button",{className:"btn filter-btn dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"bvn"===V.param?"BVN":"phone"===V.param?"Phone":"bank"===V.param?"Bank":"true"===V.param?"Completed":"false"===V.param?"InComplete":Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Pt,{})," Filter"]})}),Object(n.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton",children:[Object(n.jsx)("h5",{className:"dropdown-header",children:"Filter Customers"}),Object(n.jsx)("div",{className:"dropdown-divider"}),Object(n.jsx)("h6",{className:"dropdown-header",children:"By Registration Mode"}),Object(n.jsx)("button",{className:"dropdown-item ".concat("bvn"===V.param?"active":""),onClick:function(e){return le("channel","bvn")},children:"BVN"}),Object(n.jsx)("button",{className:"dropdown-item ".concat("phone"===V.param?"active":""),onClick:function(e){return le("channel","phone")},children:"Phone number"}),Object(n.jsx)("button",{className:"dropdown-item ".concat("bank"===V.param?"active":""),onClick:function(e){return le("channel","bank")},children:"Bank"}),Object(n.jsx)("div",{className:"dropdown-divider"}),Object(n.jsx)("h6",{className:"dropdown-header",children:"By Registration Completion"}),Object(n.jsx)("button",{className:"dropdown-item ".concat("true"===V.param?"active":""),onClick:function(e){return le("reg_complete","true")},children:"Completed"}),Object(n.jsx)("button",{className:"dropdown-item ".concat("false"===V.param?"active":""),onClick:function(e){return le("reg_complete","false")},children:"Incomplete"}),V.param&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"dropdown-divider"}),Object(n.jsx)("button",{className:"dropdown-item",onClick:function(e){return le("","")},children:"Clear"})]})]})]})]})]}),Object(n.jsxs)("main",{className:"customers-page",children:[(F||0===f.length)&&Object(n.jsxs)("div",{className:"searching-block",children:[Object(n.jsx)("div",{className:"svg-holder "+(F?"":"not-loading"),children:F?Object(n.jsx)(U,{className:"rotating"}):Object(n.jsx)(ta,{})}),!F&&Object(n.jsx)("p",{children:"NOTHING FOUND!"})]}),!F&&0!==f.length&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"color-dark-text-blue",children:["Customers per page:"," ",Object(n.jsx)("div",{className:"form-group",style:{display:"inline-block"},children:Object(n.jsxs)("select",{className:"form-control",onChange:function(e){W(e.target.value),S(1)},value:G,children:[Object(n.jsx)("option",{value:5,children:"5"}),Object(n.jsx)("option",{value:10,children:"10"}),Object(n.jsx)("option",{value:20,children:"20"}),Object(n.jsx)("option",{value:50,children:"50"}),Object(n.jsx)("option",{value:100,children:"100"}),Object(n.jsx)("option",{value:150,children:"150"}),Object(n.jsx)("option",{value:200,children:"200"})]})})]}),Object(n.jsxs)("table",{className:"table table-borderless table-hover",children:[Object(n.jsx)("thead",{className:"color-dark-text-blue",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Customer"}),Object(n.jsx)("th",{scope:"col",children:"BVN"}),Object(n.jsx)("th",{scope:"col",children:"Phone"}),Object(n.jsx)("th",{scope:"col",children:"PND Status"}),Object(n.jsx)("th",{scope:"col",children:"Facial Liveliness Check"}),Object(n.jsx)("th",{scope:"col",children:"Registration Date"}),Object(n.jsx)("th",{scope:"col",children:"Action"})]})}),Object(n.jsxs)("tbody",{onClick:function(e){var n=e.target;if(n.classList.contains("action-btn")){var c=n.dataset.userId;a.push("".concat(t,"/").concat(c))}},children:[Object(n.jsx)("tr",{className:"spacer"}),f.map((function(e,t){var a=t+1;if(a<(C-1)*G+1||a>C*G)return null;var r=!e.PND,s=e.signup_incomplete&&("reg_complete"!==V.method||"false"!==V.param);return Object(n.jsxs)(c.Fragment,{children:[Object(n.jsxs)("tr",{className:"customer-card",children:[Object(n.jsx)("td",{className:"major-details",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"customer-img",children:Object(n.jsx)("img",{src:e.photo_location||ze,className:"",alt:""})}),Object(n.jsxs)("div",{className:"col",children:[Object(n.jsxs)("div",{className:"name font-weight-bold",children:[e.firstname," ",e.lastname,s&&" (Incomplete)"]}),Object(n.jsx)("div",{className:"email font-weight-light",children:e.email})]})]})}),Object(n.jsx)("td",{className:"bvn font-weight-light",children:e.bvnhash||"N/A"}),Object(n.jsxs)("td",{className:"phone font-weight-light",children:["(234) ",e.phone.replace("234","0")]}),Object(n.jsx)("td",{children:Object(n.jsx)("span",{className:"account-status ".concat(r?"active":"pending"),children:r?"INACTIVE":"ACTIVE"})}),Object(n.jsx)("td",{children:Object(n.jsxs)("span",{className:"liveliness ".concat(e.video_location?"provided":""),children:[e.video_location?Object(n.jsx)($e,{}):Object(n.jsx)(Xe,{}),e.video_location?" P":"Not p","rovided"]})}),Object(n.jsx)("td",{children:Ye()(e.createdAt).format("Do MMMM YYYY")}),Object(n.jsx)("td",{children:Object(n.jsx)("button",{"data-user-id":e.id,className:"btn btn-success action-btn",children:"View"})})]}),t!==f.length-1&&Object(n.jsx)("tr",{className:"spacer"})]},"".concat(e.user," + ").concat(t))}))]})]}),Object(n.jsx)("div",{className:"audit-history-footer",children:Object(n.jsx)(Zn.a,{pageCount:Math.ceil(f.length/G)||1,marginPagesDisplayed:2,pageRangeDisplayed:3,forcePage:C-1,onPageChange:function(e){return S(e.selected+1)},containerClassName:"pagination-btns",activeLinkClassName:"active",pageLinkClassName:"btn",previousLabel:Object(n.jsx)(Kt,{}),previousLinkClassName:"btn icon",nextLabel:Object(n.jsx)(Kt,{style:{transform:"rotateY(180deg)"}}),nextLinkClassName:"btn icon",disabledClassName:"disabled"})})," "]})]}),Object(n.jsx)(dn,{id:"exportCustomersDataModal",showCloseX:!0,children:Object(n.jsxs)("div",{className:"modal-body",children:[Object(n.jsx)("h5",{className:"modal-title color-dark-text-blue",id:"exportCustomersDataModalLabel",children:"Export Customers Data"}),Object(n.jsxs)("div",{className:"",children:[Object(n.jsx)("p",{className:"color-dark-text-blue",children:"Select date range"}),Object(n.jsxs)("div",{className:"date-range-container row my-5",children:[Object(n.jsx)("div",{className:"col-6",children:Object(n.jsx)(uc.a,{selected:y.start_date,value:y.start_date,onChange:function(e){return _((function(t){return Object(m.a)(Object(m.a)({},t),{},{start_date:e})}))},name:"start_date",dateFormat:"dd/MM/yyyy",placeholderText:"Start Date",className:"start_date form-control",peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",locale:"en-GB",isClearable:!0})}),Object(n.jsx)("div",{className:"col-6",children:Object(n.jsx)(uc.a,{selected:y.end_date,value:y.end_date,onChange:function(e){return _((function(t){return Object(m.a)(Object(m.a)({},t),{},{end_date:e})}))},name:"end_date",dateFormat:"dd/MM/yyyy",placeholderText:"End date",className:"end_date form-control",minDate:y.start_date,peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",locale:"en-GB",isClearable:!0})})]}),Object(n.jsxs)("div",{className:"mt-4",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:ie,disabled:!y.start_date||!y.end_date||y.start_date&&y.end_date&&Ye()(y.start_date).isAfter(y.end_date),children:"Continue"}),Object(n.jsx)("small",{className:"text-danger d-block",children:y.start_date&&y.end_date&&Ye()(y.start_date).isAfter(y.end_date)&&"Please select an end date that comes after the start date."})]})]})]})})]})}),Object(n.jsx)(o.b,{path:"".concat(t,"/:userId"),component:ic})]})}),jc=function(e){var t=pe(),a=Object(c.useCallback)((function(e,a,n){return Jn(t)(e,a,n)}),[t]),r=Object(c.useState)((function(){return Array(0).fill("").map((function(e,t){return{user:54,amountDue:"100.00",rrr:"",status:"INCOMPLETE",date:"2021-04-21T09:22:39.830Z",responseObject:null,description:"",funds_deduction:"",CustomerUser:{locked:!1,CustomerInfos:[{id:54,firstname:"",lastname:"",email:"",phone:""}]}}}))})),s=Object(p.a)(r,2),l=s[0],u=s[1],b=Object(c.useState)({rrr:"",amountDue:0,chargeFee:0,rrrAmount:0,payerEmail:"",payerName:"",payerPhone:"",description:"",currency:"",type:"",acceptPartPayment:!1,message:""}),h=Object(p.a)(b,2),O=h[0],v=h[1],x=Object(c.useState)(""),f=Object(p.a)(x,2),g=f[0],N=f[1],w=Object(c.useState)(1),y=Object(p.a)(w,2),_=y[0],k=y[1],A=Object(c.useState)(!1),C=Object(p.a)(A,2),S=C[0],P=C[1],E=Object(c.useState)(5),I=Object(p.a)(E,2),D=I[0],R=I[1],L=Object(c.useState)(!1),F=Object(p.a)(L,2),M=F[0],T=F[1],B=Object(c.useState)([]),V=Object(p.a)(B,2),Y=V[0],z=(V[1],Object(c.useState)({search:"",start_date:"",end_date:""})),G=Object(p.a)(z,2),W=G[0],q=G[1],X=ee(),J=Object(o.g)();Object(c.useEffect)((function(){Kn(X,J,Ve.a,t,ye)}),[t,J,X]);var K=Object(c.useCallback)(function(){var e=Object(j.a)(d.a.mark((function e(t,n){var c,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.prev=1,e.next=4,qn();case 4:if(r=e.sent,P(!1),!r.error){e.next=8;break}return e.abrupt("return",ye(r.message,"error"));case 8:s=null===r||void 0===r||null===(c=r.result)||void 0===c?void 0:c.filter((function(e){return null!==e.user})),u(null!==s&&void 0!==s?s:[]),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),a(e.t0,ye,(function(){return P(!1)}));case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,a){return e.apply(this,arguments)}}(),[a]);Object(c.useEffect)((function(){K()}),[K]);var Q=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.target).classList.contains("action-btn")){e.next=3;break}return e.abrupt("return");case 3:return c=n.dataset.rrr,e.prev=4,N(c),e.next=8,Wn(c);case 8:if(r=e.sent,N(""),!r.error){e.next=12;break}return e.abrupt("return",ye(r.message,"error"));case 12:v(Object(m.a)(Object(m.a)({},r.result),{},{message:r.message})),ve("#billingStatusModal"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),a(e.t0,ye,(function(){return N("")}));case 19:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,c,r,s,l,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),xe("#exportCustomersDataModal"),e.prev=2,t=Y.includes("all")?[]:Y,n=W.start_date?W.start_date.toISOString():"",c=W.end_date?W.end_date.toISOString():"",r=Ye()().format("DD-MM-YY"),e.next=9,Hn({customer_ids:t,start_date:n,end_date:c});case 9:s=e.sent,T(!1),l=window.URL.createObjectURL(s),(i=document.createElement("a")).href=l,i.setAttribute("download","Transactions ".concat(r,".xlsx")),document.body.appendChild(i),i.click(),setTimeout((function(){document.body.removeChild(i),window.URL.revokeObjectURL(l),q((function(e){return Object(m.a)(Object(m.a)({},e),{},{start_date:null,end_date:null})}))}),500),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(2),a(e.t0,ye,(function(){return T(!1)}));case 23:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("header",{children:[Object(n.jsx)("div",{children:Object(n.jsx)("h1",{children:"Failed Billing History"})}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"small-admin-details",children:[Object(n.jsx)("img",{src:ze,alt:""}),"NPF Admin",Object(n.jsx)("i",{className:"arrow down"})]}),Object(n.jsx)("div",{className:"some-container",children:Object(n.jsx)("button",{onClick:function(e){return ve("#exportCustomersDataModal")},id:"exportCustomersData",className:"btn export-data-btn d-block ".concat(M?"loading disabled":""),children:M?Object(n.jsx)(U,{className:"rotating"}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(_t,{})," Export Data"]})})})]})]}),Object(n.jsxs)("main",{className:"customers-page",children:[(S||0===l.length)&&Object(n.jsxs)("div",{className:"searching-block",children:[Object(n.jsx)("div",{className:"svg-holder "+(S?"":"not-loading"),children:S?Object(n.jsx)(U,{className:"rotating"}):Object(n.jsx)(ta,{})}),!S&&Object(n.jsx)("p",{children:"NOTHING FOUND!"})]}),!S&&0!==l.length&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"color-dark-text-blue",children:["Customers per page:"," ",Object(n.jsx)("div",{className:"form-group",style:{display:"inline-block"},children:Object(n.jsxs)("select",{className:"form-control",onChange:function(e){R(e.target.value),k(1)},value:D,children:[Object(n.jsx)("option",{value:5,children:"5"}),Object(n.jsx)("option",{value:10,children:"10"}),Object(n.jsx)("option",{value:20,children:"20"}),Object(n.jsx)("option",{value:50,children:"50"}),Object(n.jsx)("option",{value:100,children:"100"}),Object(n.jsx)("option",{value:150,children:"150"}),Object(n.jsx)("option",{value:200,children:"200"})]})})]}),Object(n.jsxs)("table",{className:"table table-borderless table-hover",children:[Object(n.jsx)("thead",{className:"color-dark-text-blue",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Customer"}),Object(n.jsx)("th",{scope:"col",children:"Date"}),Object(n.jsx)("th",{scope:"col",children:"Description"}),Object(n.jsx)("th",{scope:"col-3",children:"RRR"}),Object(n.jsx)("th",{scope:"col",children:"Amount Due"}),Object(n.jsx)("th",{scope:"col",children:"Funds Deduction"}),Object(n.jsx)("th",{scope:"col",children:"Status"}),Object(n.jsx)("th",{scope:"col",className:"text-center",children:"Actions"})]})}),Object(n.jsxs)("tbody",{onClick:Q,children:[Object(n.jsx)("tr",{className:"spacer"}),l.map((function(e,t){var a=t+1;if(a<(_-1)*D+1||a>_*D)return null;if(null===e.user)return null;var r=Object(p.a)(e.CustomerUser.CustomerInfos,1)[0];return Object(n.jsxs)(c.Fragment,{children:[Object(n.jsxs)("tr",{className:"customer-card",children:[Object(n.jsx)("td",{className:"major-details",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"customer-img",children:Object(n.jsx)("img",{src:e.photo_location||ze,className:"",alt:""})}),Object(n.jsxs)("div",{className:"col",children:[Object(n.jsxs)("div",{className:"name font-weight-bold",children:[null===r||void 0===r?void 0:r.firstname," ",null===r||void 0===r?void 0:r.lastname]}),Object(n.jsx)("div",{className:"email font-weight-light",children:null===r||void 0===r?void 0:r.email}),Object(n.jsx)("div",{className:"acc-number",children:Object(n.jsx)(i.b,{to:"/pages/customers/".concat(e.user),children:"View Customer"})})]})]})}),Object(n.jsx)("td",{className:"",children:Ye()(e.date).format("MMMM Do, YYYY")}),Object(n.jsx)("td",{className:"",children:e.description}),Object(n.jsx)("td",{className:"",children:e.rrr}),Object(n.jsxs)("td",{className:"",children:["\u20a6",H()(e.amountDue).format("0,0.00")]}),Object(n.jsx)("td",{className:"",children:e.funds_deduction||"N/A"}),Object(n.jsx)("td",{className:"".concat("SUCCESSFUL"===e.status?"text-success":"FAILED"===e.status?"text-danger":""),children:e.status}),Object(n.jsx)("td",{className:"text-center",children:Object(n.jsx)("button",{"data-rrr":e.rrr,className:"btn btn-success action-btn",disabled:g,children:g===e.rrr?Object(n.jsx)(U,{className:"rotating"}):"View"})})]}),t!==l.length-1&&Object(n.jsx)("tr",{className:"spacer"})]},"".concat(e.user," + ").concat(t))}))]})]}),Object(n.jsx)("div",{className:"audit-history-footer",children:Object(n.jsx)(Zn.a,{pageCount:Math.ceil(l.length/D)||1,marginPagesDisplayed:2,pageRangeDisplayed:3,forcePage:_-1,onPageChange:function(e){return k(e.selected+1)},containerClassName:"pagination-btns",activeLinkClassName:"active",pageLinkClassName:"btn",previousLabel:Object(n.jsx)(Kt,{}),previousLinkClassName:"btn icon",nextLabel:Object(n.jsx)(Kt,{style:{transform:"rotateY(180deg)"}}),nextLinkClassName:"btn icon",disabledClassName:"disabled"})})," "]})]}),Object(n.jsx)(dn,{id:"exportCustomersDataModal",showCloseX:!0,children:Object(n.jsxs)("div",{className:"modal-body",children:[Object(n.jsx)("h5",{className:"modal-title color-dark-text-blue",id:"exportCustomersDataModalLabel",children:"Export Transactions Data"}),Object(n.jsxs)("div",{className:"",children:[Object(n.jsx)("p",{className:"color-dark-text-blue",children:"Select date range"}),Object(n.jsxs)("div",{className:"date-range-container row my-5",children:[Object(n.jsx)("div",{className:"col-6",children:Object(n.jsx)(uc.a,{selected:W.start_date,value:W.start_date,onChange:function(e){return q((function(t){return Object(m.a)(Object(m.a)({},t),{},{start_date:e})}))},name:"start_date",dateFormat:"dd/MM/yyyy",placeholderText:"Start Date",className:"start_date form-control",peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",locale:"en-GB",isClearable:!0})}),Object(n.jsx)("div",{className:"col-6",children:Object(n.jsx)(uc.a,{selected:W.end_date,value:W.end_date,onChange:function(e){return q((function(t){return Object(m.a)(Object(m.a)({},t),{},{end_date:e})}))},name:"end_date",dateFormat:"dd/MM/yyyy",placeholderText:"End date",className:"end_date form-control",peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",locale:"en-GB",isClearable:!0})})]}),Object(n.jsxs)("div",{className:"mt-4",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:Z,disabled:!W.start_date||!W.end_date||W.start_date&&W.end_date&&Ye()(W.start_date).isAfter(W.end_date),children:"Continue"}),Object(n.jsx)("small",{className:"text-danger d-block",children:W.start_date&&W.end_date&&Ye()(W.start_date).isAfter(W.end_date)&&"Please select an end date that comes after the start date."})]})]})]})}),Object(n.jsx)(sc,{billingStatus:O})]})};function bc(){return(bc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function mc(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var pc=c.createElement("path",{d:"M12,2C6.477,2,2,6.477,2,12s4.477,10,10,10s10-4.477,10-10S17.523,2,12,2z M17,13h-4v4h-2v-4H7v-2h4V7h2v4h4V13z"});function hc(e,t){var a=e.title,n=e.titleId,r=mc(e,["title","titleId"]);return c.createElement("svg",bc({fill:"currentColor",viewBox:"0 0 24 24",width:"1em",height:"1em",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,pc)}var Oc=c.forwardRef(hc);a.p;function vc(){return(vc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function xc(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var fc=c.createElement("g",null,c.createElement("g",null,c.createElement("path",{d:"M467,61H165c-24.82,0-45,20.19-45,45c0,24.82,20.18,45,45,45h302c24.81,0,45-20.18,45-45C512,81.19,491.81,61,467,61z"}))),gc=c.createElement("g",null,c.createElement("g",null,c.createElement("path",{d:"M467,211H165c-24.82,0-45,20.19-45,45c0,24.82,20.18,45,45,45h302c24.81,0,45-20.18,45-45C512,231.19,491.81,211,467,211z "}))),Nc=c.createElement("g",null,c.createElement("g",null,c.createElement("path",{d:"M467,361H165c-24.82,0-45,20.19-45,45c0,24.82,20.18,45,45,45h302c24.81,0,45-20.18,45-45C512,381.19,491.81,361,467,361z "}))),wc=c.createElement("g",null,c.createElement("g",null,c.createElement("path",{d:"M45,61C20.18,61,0,81.19,0,106c0,24.82,20.18,45,45,45c24.81,0,45-20.18,45-45C90,81.19,69.81,61,45,61z"}))),yc=c.createElement("g",null,c.createElement("g",null,c.createElement("path",{d:"M45,211c-24.82,0-45,20.19-45,45c0,24.82,20.18,45,45,45c24.81,0,45-20.18,45-45C90,231.19,69.81,211,45,211z"}))),_c=c.createElement("g",null,c.createElement("g",null,c.createElement("path",{d:"M45,361c-24.82,0-45,20.19-45,45c0,24.82,20.18,45,45,45c24.81,0,45-20.18,45-45C90,381.19,69.81,361,45,361z"}))),kc=c.createElement("g",null),Ac=c.createElement("g",null),Cc=c.createElement("g",null),Sc=c.createElement("g",null),Pc=c.createElement("g",null),Ec=c.createElement("g",null),Ic=c.createElement("g",null),Dc=c.createElement("g",null),Rc=c.createElement("g",null),Lc=c.createElement("g",null),Fc=c.createElement("g",null),Mc=c.createElement("g",null),Tc=c.createElement("g",null),Bc=c.createElement("g",null),Vc=c.createElement("g",null);function Uc(e,t){var a=e.title,n=e.titleId,r=xc(e,["title","titleId"]);return c.createElement("svg",vc({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",width:"1em",height:"1em",fill:"currentColor",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,fc,gc,Nc,wc,yc,_c,kc,Ac,Cc,Sc,Pc,Ec,Ic,Dc,Rc,Lc,Fc,Mc,Tc,Bc,Vc)}var Yc=c.forwardRef(Uc);a.p;function zc(){return(zc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Hc(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var Gc=c.createElement("path",{d:"M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"}),Wc=c.createElement("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"});function qc(e,t){var a=e.title,n=e.titleId,r=Hc(e,["title","titleId"]);return c.createElement("svg",zc({width:"1em",height:"1em",fill:"currentColor",className:"bi bi-clock",viewBox:"0 0 16 16",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,Gc,Wc)}var Xc=c.forwardRef(qc),Jc=(a.p,function(e){var t=e.customerDetails,a=e.showMajorDetails,c=e.shownCustomerCategory,r=e.roles,s=e.children;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("tr",{className:"customer-card font-weight-600",children:[a&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("th",{scope:"row",style:{verticalAlign:"middle"},children:Object(n.jsx)("input",{type:"checkbox",name:"selCustomer-".concat(t.id)})}),Object(n.jsx)("td",{className:"major-details",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"customer-img col-3",children:Object(n.jsx)("img",{src:t.photo_location,className:"",alt:""})}),Object(n.jsxs)("div",{className:"pl-2",children:[Object(n.jsx)("div",{className:"name font-weight-bold",children:t.name}),Object(n.jsx)("div",{className:"email font-weight-light",children:t.email})]})]})})]}),("submitted"===c||"inProcess"===c||"running"===c)&&Object(n.jsxs)("td",{className:"card-loan-details",children:[Object(n.jsx)("p",{children:t.loan_name}),Object(n.jsxs)("p",{children:["\u20a6 ",H()(t.loan_amount).format("0,0.00")]})]}),"submitted"!==c&&"inProcess"!==c&&"running"!==c&&Object(n.jsxs)("td",{className:"repay-method",children:[Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{className:"font-weight-bold",children:"Amount: \xa0\xa0"}),"\u20a6",H()(t.loan_amount).format("0,0.00")]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{className:"font-weight-bold",children:"Tenure: \xa0\xa0"}),Object(n.jsx)("span",{children:Object(n.jsx)(Xc,{})}),"\xa0\xa0",t.loan_repayment_tenure]})]}),("approved"===c||"paid"===c)&&Object(n.jsxs)("td",{className:"repay-method",children:[Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{className:"font-weight-bold",children:"Amount: \xa0\xa0"}),"\u20a6",H()(t.approved_amount).format("0,0.00")]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{className:"font-weight-bold",children:"Tenure: \xa0\xa0"}),Object(n.jsx)("span",{children:Object(n.jsx)(Xc,{})}),"\xa0\xa0",t.approved_tenure]})]}),Object(n.jsxs)("td",{className:"repay-method",children:[Object(n.jsx)("p",{children:t.loan_repayment_method}),Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{children:Object(n.jsx)(Xc,{})}),"\xa0\xa0",t.loan_repayment_tenure]})]}),"inProcess"===c&&Object(n.jsx)("td",{className:"loan-status ".concat("APPROVE"===t.status?"color-green":""),children:t.status}),"declined"!==c&&"paid"!==c&&Object(n.jsx)("td",{children:Object(n.jsxs)("span",{className:"dti ".concat(t["submitted"!==c?"score":"debtToIncome"]<50?"negative":"positive"),children:[t["submitted"!==c?"score":"debtToIncome"]," ","%"]})}),"declined"===c&&Object(n.jsx)("td",{className:"font-weight-normal",children:t.narrative}),Object(n.jsx)("td",{children:Ye()(t["paid"===c?"date_completed":"application_date"]).format("Do MMMM YYYY")}),"declined"!==c&&Object(n.jsx)("td",{children:"AUDIT"===r?Object(n.jsx)("button",{"data-user-id":t.id,"data-operation-type":"approved"===c?"Review Approved Application":"paid"===c||"running"===c?"Review Running Loan":"Review Loan Application",className:"btn btn-success action-btn bg-color-green",children:"approved"===c?"Review Approved Application":"paid"===c||"running"===c?"Review Running Loan":"Review Loan Application"}):Object(n.jsx)("button",{"data-user-id":t.id,"data-operation-type":"approved"===c?"disburse":"paid"===c||"running"===c?"schedule":"view",className:"btn btn-success action-btn bg-color-green",children:"approved"===c?"View":"paid"===c||"running"===c?"Schedule":"View"})})]}),s]})}),Kc=function(e){var t=e.idNum,a=e.HQ_ID,r=e.EQ_ID,s=e.NQ_ID,l=e.WQ_ID,i=e.branchesId,u=e.customers,d=e.roles,j=Object(c.useState)(!1),b=Object(p.a)(j,2),m=b[0],h=b[1],O=Object(o.g)(),v=Object(o.i)().path;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"running-loans-header row",children:[Object(n.jsxs)("div",{className:"row col-6 pl-3 ml-1",children:[Object(n.jsx)("div",{className:"",children:Object(n.jsxs)("label",{htmlFor:"showAllRunningLoans",className:"custom-checkbox-container",children:["All Running Loans",Object(n.jsx)("input",{type:"checkbox",checked:m,name:"showRunningLoans",id:"showAllRunningLoans",onChange:function(e){return h(e.target.checked)}}),Object(n.jsx)("span",{className:"checkmark"})]})}),Object(n.jsx)("div",{className:"pl-5",children:Object(n.jsxs)("label",{htmlFor:"showRunningLoansPerCustomer",className:"custom-checkbox-container",children:["Per Customer",Object(n.jsx)("input",{type:"checkbox",checked:!m,name:"showRunningLoansPerCustomer",id:"showRunningLoansPerCustomer",onChange:function(e){return h(!e.target.checked)}}),Object(n.jsx)("span",{className:"checkmark"})]})})]}),Object(n.jsx)("div",{className:"col-6 export-report-btn-container text-right pr-2",children:Object(n.jsxs)("button",{className:"btn btn-primary export-ifrs-btn",children:["Export Report (IFRS)"," ",Object(n.jsx)("span",{children:Object(n.jsx)(w,{className:"rotate-90"})})]})})]}),Object(n.jsx)("table",{className:"table table-borderless",onClick:function(e){var t=e.target;if(t.classList.contains("action-btn")){var a=t.dataset.userId;O.push("".concat(v,"/schedule?id=").concat(a))}},children:m?Object(n.jsxs)("tbody",{children:[Object(n.jsx)("tr",{className:"spacer"}),u.map((function(e,o,u){return t===a||t===e.approvalBranch_id||t===s&&i.includes(e.approvalBranch_id)||t===r&&i.includes(e.approvalBranch_id)||t===l&&i.includes(e.approvalBranch_id)?Object(n.jsxs)(c.Fragment,{children:[Object(n.jsxs)("tr",{className:"big-customer-card font-weight-600",children:[Object(n.jsx)("th",{scope:"row",style:{paddingTop:"40px"},children:Object(n.jsx)("input",{type:"checkbox",name:"selCustomer-".concat(e.id)})}),Object(n.jsx)("td",{className:"major-details",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"customer-img",children:Object(n.jsx)("img",{src:e.photo_location,className:"",alt:""})}),Object(n.jsxs)("div",{className:"col",children:[Object(n.jsx)("div",{className:"name font-weight-bold",children:e.name}),Object(n.jsx)("div",{className:"email font-weight-light",children:e.email}),Object(n.jsxs)("div",{className:"acc-number",children:["AC/N: ",e.accno||"N/A"]})]})]})}),Object(n.jsx)("td",{className:"running-loans-container",children:Object(n.jsxs)("table",{className:"table table-borderless",children:[Object(n.jsx)(Qc,{}),Object(n.jsx)("tbody",{children:Array(3).fill(e).map((function(e,t,a){return Object(n.jsx)(Jc,{customerDetails:e,roles:d,shownCustomerCategory:"running",children:t!==a.length-1&&Object(n.jsx)("tr",{className:"spacer"})},t)}))})]})})]}),o!==u.length-1&&Object(n.jsx)("tr",{className:"spacer"})]},o):void 0}))]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Qc,{isRunningLoanShownPerCustomer:!0,children:Object(n.jsx)("th",{scope:"col",children:Object(n.jsx)("input",{type:"checkbox",name:"selCustomer-all"})})}),Object(n.jsx)("tbody",{children:u.map((function(e,c,r){return t===a||t===e.approvalBranch_id?Object(n.jsx)(Jc,{showMajorDetails:!0,customerDetails:e,shownCustomerCategory:"running",children:c!==r.length-1&&Object(n.jsx)("tr",{className:"spacer"})},c):void 0}))})]})})]})};function Qc(e){var t=e.isRunningLoanShownPerCustomer,a=e.children;return Object(n.jsx)("thead",{className:"color-dark-text-blue",children:Object(n.jsxs)("tr",{children:[a,t&&Object(n.jsx)("th",{scope:"col",children:"Customer"}),Object(n.jsx)("th",{scope:"col",children:"Loan Details"}),Object(n.jsx)("th",{scope:"col",children:"Repayment Method"}),Object(n.jsxs)("th",{scope:"col",children:["Paid Back \xa0 \xa0",Object(n.jsx)("span",{className:"dti positive",children:"%"})]}),Object(n.jsx)("th",{scope:"col",children:"Application Date"}),Object(n.jsx)("th",{scope:"col",children:"Action"})]})})}var Zc=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,c,r,s,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,De.get("pending-loanapplications",{headers:{Authorization:ee()}});case 3:return(null===(l=e.sent)||void 0===l||null===(t=l.data)||void 0===t||null===(a=t.data)||void 0===a||null===(n=a.token)||void 0===n?void 0:n.data)&&re(null===l||void 0===l||null===(c=l.data)||void 0===c||null===(r=c.data)||void 0===r||null===(s=r.token)||void 0===s?void 0:s.data),e.abrupt("return",l.data);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),$c=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,De.get("get-single-customer/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),er=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,De.get("roles");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),tr=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,De.get("branch/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ar=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,De.get("branches");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),nr=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.get("/auth/repayment_schedule/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),cr=function(){var e=Object(j.a)(d.a.mark((function e(t,a){var n,c,r,s,l,i,o,u,j,b,m,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.status,c=t.narrative,r=t.isWithinLimit,s=t.email,l=t.firstname,i=t.lastname,o=t.productName,u=t.approvedAmount,j=t.approvedTenure,b=t.work_flow_level,m=t.applicationDate,e.next=4,De.put("approve-reject-loan/".concat(a),{status:n,narrative:c,isWithinLimit:r,email:s,firstname:l,lastname:i,productName:o,approvedAmount:u,approvedTenure:j,work_flow_level:b,applicationDate:m});case 4:return p=e.sent,e.abrupt("return",p.data);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),rr=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,De.post("admin-loanscore/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),sr=function(){var e=Object(j.a)(d.a.mark((function e(t,a){var n,c,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a.value,c=a.requirement,r=a.score_type,e.next=4,De.post("admin-add-criteria/".concat(t),{value:n,requirement:c,score_type:r});case 4:return s=e.sent,e.abrupt("return",s.data);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),lr=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,De.get("loanscore/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ir=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,De.get("admin-loanscore/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),or=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,De.get("get-files/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ur=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c,r,s,l,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.staffId,n=t.rank,c=t.fullName,r=t.comment,s=t.staffBranch,l=t.staffEmail,i=t.loanAppId,e.next=4,De.post("/post-comment",{staffId:a,rank:n,fullName:c,comment:r,staffBranch:s,staffEmail:l,loanAppId:i});case 4:return o=e.sent,e.abrupt("return",o.data);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),dr=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,De.post("admin-totalscore/".concat(t),"");case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),jr=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,De.get("get-comment/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),br=function(e){var t,a,r,s,l=Object(o.g)(),i=Object(o.i)().path,u=ce(),b=pe(),m=Object(c.useCallback)((function(e,t,a){return function(e){return function(t,a){var n,c,r,s,l,i,o,u,d,j,b,m,p,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},O=t.message,v=(null===t||void 0===t||null===(n=t.toLowerCase)||void 0===n||null===(c=(r=n.call(t)).includes)||void 0===c?void 0:c.call(r,"unauth"))||(null===t||void 0===t||null===(s=t.data)||void 0===s||null===(l=s.toLowerCase)||void 0===l||null===(i=(o=l.call(s)).includes)||void 0===i?void 0:i.call(o,"token")),x=v?"Session Expired, please log in.":(null===O||void 0===O||null===(u=O.toLowerCase)||void 0===u||null===(d=(j=u.call(O)).includes)||void 0===d?void 0:d.call(j,"timeout"))?"Service Timeout, Please Retry":(null===O||void 0===O||null===(b=O.toLowerCase)||void 0===b||null===(m=(p=b.call(O)).includes)||void 0===m?void 0:m.call(p,"network"))?"Network Error!":"Something went wrong!";console.error(t),h(),a(x,"error",(function(){return console.log("complete")})),v&&e.signout()}}(b)(e,t,a)}),[b]),h=Object(c.useState)({inProcess:[],approved:[],declined:[],running:[],paid:[]}),O=Object(p.a)(h,2),v=O[0],x=O[1],f=Object(c.useState)(5),g=Object(p.a)(f,2),N=g[0],w=g[1],y=Object(c.useState)(1),_=Object(p.a)(y,2),k=_[0],A=_[1],C=Object(c.useState)("inProcess"),S=Object(p.a)(C,2),P=S[0],E=S[1],I=Object(c.useState)(!1),D=Object(p.a)(I,2),R=D[0],L=D[1],F=Object(c.useState)([]),M=Object(p.a)(F,2),T=M[0],B=M[1],V=Object(c.useState)([]),Y=Object(p.a)(V,2),z=Y[0],G=Y[1],W=Object(c.useState)({new_applications:0,upcoming_disbursement:0,total_loan_value:0,total_repayments:0}),q=Object(p.a)(W,2),X=(q[0],q[1]),J=Number("7"),Q=Number("8"),Z=Number("9"),$=Number("11"),te=localStorage.getItem(K),ae=le(),ne=Number(te),re=ee();Object(c.useEffect)((function(){Kn(re,l,Ve.a,b,ye)}),[b,l,re]),Object(c.useEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(){var t,a,n,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,L(!0),e.next=4,Zc();case 4:r=e.sent,L(!1),(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.loans)&&x(null===r||void 0===r||null===(a=r.data)||void 0===a?void 0:a.loans),(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.dashboard)&&X(null===r||void 0===r||null===(c=r.data)||void 0===c?void 0:c.dashboard),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),m(e.t0,ye,(function(){return L(!1)}));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[m]),Object(c.useEffect)((function(){var e=[],t=[],a=[];(function(){var n=Object(j.a)(d.a.mark((function n(){var c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ar();case 2:(null===(c=n.sent)||void 0===c?void 0:c.data)&&B(null===c||void 0===c?void 0:c.data),c&&(T.forEach((function(n){ec.includes(n.name.toLowerCase())&&e.push(n.id),tc.includes(n.name.toLowerCase())&&t.push(n.id),$n.includes(n.name.toLowerCase())&&a.push(n.id)})),t&&t.includes(ne)?G(t):e&&e.includes(ne)?G(e):a&&a.includes(ne)?G(a):G([]));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[T,ne]);var se=function(){var e=0;return v.approved.forEach((function(t){(ne===J||ne===t.approvalBranch_id||ne===Z&&z.includes(t.approvalBranch_id)||ne===Q&&z.includes(t.approvalBranch_id)||ne===$&&z.includes(t.approvalBranch_id))&&(e+=t.approved_amount)})),e};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("header",{className:"loans-header",children:[Object(n.jsx)("div",{children:Object(n.jsx)("h1",{children:"Loan Management"})}),Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"small-admin-details",children:[Object(n.jsx)("img",{src:ze,alt:""}),u||"NPF Admin",Object(n.jsx)("i",{className:"arrow down"})]})})]}),Object(n.jsxs)("div",{className:"loan-dashboard",children:[Object(n.jsxs)("div",{className:"loan-dashboard-card row",children:[Object(n.jsx)("div",{className:"col-3 side-icon",children:Object(n.jsx)("span",{className:"side-icon-inner color-purplish bg-color-purplish",style:{paddingRight:"18px",paddingLeft:"18px"},children:Object(n.jsx)(Yc,{})})}),Object(n.jsxs)("div",{className:"card-details col-9",children:[Object(n.jsx)("div",{className:"card-content",children:H()(function(){var e,t=[];return null===(e=v[P])||void 0===e||e.forEach((function(e){if(ne===J)t.push(e.approvalBranch_id);else if(ne===e.approvalBranch_id){var a=[];a.push(e.approvalBranch_id);for(var n=0,c=a;n<c.length;n++){var r=c[n];r&&t.push(r)}}else if(ne===Z&&z.includes(e.approvalBranch_id)){var s=[];s.push(e.approvalBranch_id);for(var l=0,i=s;l<i.length;l++){var o=i[l];o&&t.push(o)}}else if(ne===Q&&z.includes(e.approvalBranch_id)){var u=[];u.push(e.approvalBranch_id);for(var d=0,j=u;d<j.length;d++){var b=j[d];b&&t.push(b)}}else if(ne===$&&z.includes(e.approvalBranch_id)){var m=[];m.push(e.approvalBranch_id);for(var p=0,h=m;p<h.length;p++){var O=h[p];O&&t.push(O)}}})),t.length}()).format("0,0")}),Object(n.jsx)("div",{className:"card-title",children:function(){var e;switch(P){case"paid":e="Closed Applications";break;case"approved":e="Approved Applications";break;case"declined":e="Declined Applications";break;case"running":e="Running Applications";break;default:e="New Applications"}return e}()})]})]}),Object(n.jsxs)("div",{className:"loan-dashboard-card row",children:[Object(n.jsx)("div",{className:"col-3 side-icon",children:Object(n.jsx)("span",{className:"side-icon-inner bg-color-blueish color-blueish",children:"\u20a6"})}),Object(n.jsxs)("div",{className:"card-details col-9",children:[Object(n.jsxs)("div",{className:"card-content",children:["\u20a6 ",H()(se()).format("0,0.00")]}),Object(n.jsx)("div",{className:"card-title",children:"Upcoming Disbursement"})]})]}),Object(n.jsxs)("div",{className:"loan-dashboard-card row",children:[Object(n.jsx)("div",{className:"col-3 side-icon",children:Object(n.jsx)("span",{className:"side-icon-inner bg-color-redish color-redish",children:"\u20a6"})}),Object(n.jsxs)("div",{className:"card-details col-9",children:[Object(n.jsxs)("div",{className:"card-content",children:["\u20a6 ",H()(function(){var e=0,t=se();return v.running.forEach((function(t){(ne===J||ne===t.approvalBranch_id||ne===Z&&z.includes(t.approvalBranch_id)||ne===Q&&z.includes(t.approvalBranch_id)||ne===$&&z.includes(t.approvalBranch_id))&&(e+=t.approved_amount)})),e+t}()).format("0,0.00")]}),Object(n.jsx)("div",{className:"card-title",children:"Total Loan Value"})]})]}),Object(n.jsxs)("div",{className:"loan-dashboard-card row",children:[Object(n.jsx)("div",{className:"col-3 side-icon",children:Object(n.jsx)("span",{className:"side-icon-inner color-greenish bg-color-greenish",children:"\u20a6"})}),Object(n.jsxs)("div",{className:"card-details col-9",children:[Object(n.jsxs)("div",{className:"card-content",children:["\u20a6 ",H()(function(){var e=0;return v.paid.forEach((function(t){(ne===J||ne===t.approvalBranch_id||ne===Z&&z.includes(t.approvalBranch_id)||ne===Q&&z.includes(t.approvalBranch_id)||ne===$&&z.includes(t.approvalBranch_id))&&(e+=t.approved_amount)})),e}()).format("0,0.00")]}),Object(n.jsx)("div",{className:"card-title",children:"Total Repayments"})]})]})]}),Object(n.jsxs)("div",{className:"loan-nav-wrapper",children:[Object(n.jsxs)("nav",{children:[Object(n.jsx)("a",{className:"inProcess"===P?"active":"",onClick:function(e){return E("inProcess")},children:"In process"}),Object(n.jsx)("a",{className:"approved"===P?"active":"",onClick:function(e){return E("approved")},children:"Approved"}),Object(n.jsx)("a",{className:"declined"===P?"active":"",onClick:function(e){return E("declined")},children:"Declined"}),Object(n.jsx)("a",{className:"running"===P?"active":"",onClick:function(e){return E("running")},children:"Running"}),Object(n.jsx)("a",{className:"paid"===P?"active":"",onClick:function(e){return E("paid")},children:"Closed"})]}),Object(n.jsxs)("div",{className:"some-container",children:[Object(n.jsxs)("div",{className:"search-div d-none",children:[Object(n.jsx)("label",{htmlFor:"search",children:Object(n.jsx)(rt,{})}),Object(n.jsx)("input",{type:"search",className:"form-control",name:"search",id:"search","aria-label":"Search for customers"})]}),Object(n.jsxs)("button",{className:"btn create-admin-btn",onClick:function(e){return l.push("".concat(i,"/new/selectCustomer"))},children:[Object(n.jsx)("span",{children:Object(n.jsx)(Oc,{})}),"New application"]})]})]}),z.length>0||ne===J?Object(n.jsxs)("main",{className:"loans-page customers-page",children:[(R||0===(null===(t=v[P])||void 0===t?void 0:t.length))&&Object(n.jsxs)("div",{className:"searching-block",children:[Object(n.jsx)("div",{className:"svg-holder "+(R?"":"not-loading"),children:R?Object(n.jsx)(U,{className:"rotating"}):Object(n.jsx)(ta,{})}),!R&&Object(n.jsx)("p",{children:"NOTHING FOUND!"})]}),!R&&(null===(a=v[P])||void 0===a?void 0:a.length)>0&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"color-dark-text-blue",children:["Entries per page:"," ",Object(n.jsx)("div",{className:"form-group",style:{display:"inline-block"},children:Object(n.jsxs)("select",{className:"form-control",onChange:function(e){w(e.target.value),A(1)},value:N,children:[Object(n.jsx)("option",{value:5,children:"5"}),Object(n.jsx)("option",{value:10,children:"10"}),Object(n.jsx)("option",{value:20,children:"20"}),Object(n.jsx)("option",{value:50,children:"50"}),Object(n.jsx)("option",{value:100,children:"100"}),Object(n.jsx)("option",{value:150,children:"150"}),Object(n.jsx)("option",{value:200,children:"200"})]})})]}),"running"===P?Object(n.jsx)(Kc,{idNum:ne,HQ_ID:J,EQ_ID:$,NQ_ID:Z,WQ_ID:Q,branchesId:z,customers:v[P],roles:ae}):Object(n.jsxs)("table",{className:"table table-borderless table-hover",onClick:function(e){var t=e.target;if(t.classList.contains("action-btn")){var a=t.dataset.userId;"inProcess"!==P?"running"!==P&&"paid"!==P?l.push("".concat(i,"/customer?id=").concat(a)):l.push("".concat(i,"/schedule?id=").concat(a)):l.push("".concat(i,"/inProcess?id=").concat(a))}},children:[Object(n.jsx)("thead",{className:"color-dark-text-blue",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:Object(n.jsx)("input",{type:"checkbox",name:"selCustomer-all"})}),Object(n.jsx)("th",{scope:"col",children:"Customer"}),("submitted"===P||"inProcess"===P)&&Object(n.jsx)("th",{scope:"col",children:"Loan Details"}),"submitted"!==P&&"inProcess"!==P&&Object(n.jsx)("th",{scope:"col",children:"Customer Request"}),("approved"===P||"paid"===P)&&Object(n.jsx)("th",{scope:"col",children:"Bank Offer"}),Object(n.jsx)("th",{scope:"col",children:"Repayment Method"}),"submitted"===P&&Object(n.jsxs)("th",{scope:"col",children:["DTI \xa0 \xa0",Object(n.jsx)("span",{className:"dti positive",children:"%"})]}),"inProcess"===P&&Object(n.jsx)("th",{scope:"col",children:"Status"}),("inProcess"===P||"approved"===P)&&Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("th",{scope:"col",children:["System Score \xa0 \xa0",Object(n.jsx)("span",{className:"dti positive",children:"%"})]})}),"declined"===P&&Object(n.jsx)("th",{scope:"col",className:"col-4",children:"Narrative"}),Object(n.jsx)("th",{scope:"col",children:"paid"===P?"Closed":"Application Date"}),"declined"!==P&&Object(n.jsx)("th",{scope:"col",children:"Action"})]})}),Object(n.jsxs)("tbody",{children:[Object(n.jsx)("tr",{className:"spacer"}),null===(r=v[P])||void 0===r?void 0:r.map((function(e,t,a){var c=[];if(ne===J){c.push(e.approvalBranch_id);var r=t+1;return r<(k-1)*N+1||r>k*N?null:Object(n.jsx)(Jc,{customerDetails:e,showMajorDetails:!0,shownCustomerCategory:P,roles:ae,children:t!==a.length-1&&Object(n.jsx)("tr",{className:"spacer"})},e.id)}if(ne===e.approvalBranch_id){c.push(e.approvalBranch_id);var s=t+1;return s<(k-1)*N+1||s>k*N?null:Object(n.jsx)(Jc,{customerDetails:e,showMajorDetails:!0,shownCustomerCategory:P,roles:ae,children:t!==a.length-1&&Object(n.jsx)("tr",{className:"spacer"})},e.id)}if(ne===Z&&z.includes(e.approvalBranch_id)){c.push(e.approvalBranch_id);var l=t+1;return l<(k-1)*N+1||l>k*N?null:Object(n.jsx)(Jc,{customerDetails:e,showMajorDetails:!0,shownCustomerCategory:P,roles:ae,children:t!==a.length-1&&Object(n.jsx)("tr",{className:"spacer"})},e.id)}if(ne===$&&z.includes(e.approvalBranch_id)){c.push(e.approvalBranch_id);var i=t+1;return i<(k-1)*N+1||i>k*N?null:Object(n.jsx)(Jc,{customerDetails:e,showMajorDetails:!0,shownCustomerCategory:P,roles:ae,children:t!==a.length-1&&Object(n.jsx)("tr",{className:"spacer"})},e.id)}if(ne===Q&&z.includes(e.approvalBranch_id)){c.push(e.approvalBranch_id);var o=t+1;return o<(k-1)*N+1||o>k*N?null:Object(n.jsx)(Jc,{customerDetails:e,showMajorDetails:!0,shownCustomerCategory:P,roles:ae,children:t!==a.length-1&&Object(n.jsx)("tr",{className:"spacer"})},e.id)}}))]})]}),Object(n.jsx)("div",{className:"paginate-footer",children:Object(n.jsx)(Zn.a,{pageCount:Math.ceil((null===(s=v[P])||void 0===s?void 0:s.length)/N),marginPagesDisplayed:2,pageRangeDisplayed:3,forcePage:k-5,onPageChange:function(e){return A(e.selected+1)},containerClassName:"pagination-btns",activeLinkClassName:"active",pageLinkClassName:"btn",previousLabel:Object(n.jsx)(Kt,{}),previousLinkClassName:"btn icon",nextLabel:Object(n.jsx)(Kt,{style:{transform:"rotateY(180deg)"}}),nextLinkClassName:"btn icon",disabledClassName:"disabled"})})]})]}):Object(n.jsxs)("div",{className:"searching-block",children:[Object(n.jsx)("div",{className:"svg-holder "+(R?"":"not-loading"),children:R?Object(n.jsx)(U,{className:"rotating"}):Object(n.jsx)(ta,{})}),!R&&Object(n.jsx)("p",{children:"NOTHING FOUND!"})]})]})},mr=a(88),pr=a(221);function hr(){return(hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Or(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var vr=c.createElement("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),xr=c.createElement("path",{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"});function fr(e,t){var a=e.title,n=e.titleId,r=Or(e,["title","titleId"]);return c.createElement("svg",hr({width:"1em",height:"1em",fill:"currentColor",className:"bi bi-pencil-square",viewBox:"0 0 16 16",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,vr,xr)}var gr=c.forwardRef(fr);a.p;function Nr(){return(Nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function wr(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var yr=c.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),_r=c.createElement("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"});function kr(e,t){var a=e.title,n=e.titleId,r=wr(e,["title","titleId"]);return c.createElement("svg",Nr({height:"1em",viewBox:"0 0 1em 24",fill:"currentColor",width:24,ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,yr,_r)}var Ar=c.forwardRef(kr);a.p;function Cr(){return(Cr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Sr(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var Pr=c.createElement("g",null,c.createElement("path",{d:"m331.25 91.375h120.5v-46.25c0-8.284-6.716-15-15-15h-90.5c-8.284 0-15 6.716-15 15z"}),c.createElement("path",{d:"m180.75 421.625h-180.75v45.25c0 8.284 6.716 15 15 15h150.75c8.284 0 15-6.716 15-15z"}),c.createElement("path",{d:"m331.25 421.625v45.25c0 8.284 6.716 15 15 15h150.75c8.284 0 15-6.716 15-15v-45.25z"}),c.createElement("path",{d:"m180.75 391.625v-270.25h-124.731l-40.898 162.911c-8.816 35.116-13.81 71.155-14.893 107.339z"}),c.createElement("path",{d:"m331.25 121.375v270.25h180.522c-1.083-36.184-6.078-72.223-14.893-107.339l-40.898-162.911z"}),c.createElement("path",{d:"m301.25 180.625v-30h-90.5v30 180.75h90.5zm-60.25 105.5v-60.25c0-8.284 6.716-15 15-15s15 6.716 15 15v60.25c0 8.284-6.716 15-15 15s-15-6.716-15-15z"}),c.createElement("path",{d:"m180.75 91.375v-46.25c0-8.284-6.716-15-15-15h-90.5c-8.284 0-15 6.716-15 15v46.25z"}));function Er(e,t){var a=e.title,n=e.titleId,r=Sr(e,["title","titleId"]);return c.createElement("svg",Cr({id:"Capa_1",enableBackground:"new 0 0 512 512",height:"1em",viewBox:"0 0 512 512",width:"1em",fill:"currentColor",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,Pr)}var Ir=c.forwardRef(Er);a.p;function Dr(){return(Dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Rr(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var Lr=c.createElement("path",{d:"M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zM4.5 9a.5.5 0 0 1 0-1h7a.5.5 0 0 1 0 1h-7zM4 10.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 1 0-1h4a.5.5 0 0 1 0 1h-4z"});function Fr(e,t){var a=e.title,n=e.titleId,r=Rr(e,["title","titleId"]);return c.createElement("svg",Dr({width:"1em",height:"1em",fill:"currentColor",className:"bi bi-file-earmark-text-fill",viewBox:"0 0 16 16",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,Lr)}var Mr=c.forwardRef(Fr),Tr=(a.p,function(e){var t=e.isScoringActive,a=(e.setScoringActive,e.loan),r=Object(c.useState)({lookup:!1,scoring:!1}),s=Object(p.a)(r,2),l=s[0],i=(s[1],Object(c.useState)([])),o=Object(p.a)(i,2),u=o[0],d=o[1];Object(c.useEffect)((function(){a.fileUpload&&a.fileUpload.map((function(e){e.fileName.includes(".pdf")&&d([e])}))}),[a.fileUpload]);return Object(n.jsxs)("div",{className:"loan-right-options col-3 text-center",children:[Object(n.jsxs)("div",{className:"credit-lookup-div ".concat(t?"disabled":""),children:[Object(n.jsx)("div",{className:"binocu-p",children:Object(n.jsx)("span",{children:Object(n.jsx)(Ir,{})})}),Object(n.jsx)("p",{className:"font-weight-bold",children:"Credit History Lookup"}),Object(n.jsx)("p",{children:"Look up this customer's credit history before making a decision"}),Object(n.jsx)("p",{className:"mt-5",children:Object(n.jsxs)("button",{className:"start-look-up-btn btn",children:["Start Lookup",Object(n.jsx)("span",{className:"".concat(l.lookup?"loading":""),children:l.lookup?Object(n.jsx)(U,{className:"rotating"}):Object(n.jsx)(w,{})}),Object(n.jsx)("div",{className:"overlay-div"})]})})]}),u&&u.map((function(e,t){return Object(n.jsx)("div",{className:"start-scoring-div",children:Object(n.jsxs)("div",{className:"text-center color-dark-text-blue mt-5",children:[Object(n.jsx)("div",{className:"binocu-p",children:Object(n.jsx)("span",{children:Object(n.jsx)(Mr,{})})}),Object(n.jsx)("p",{className:"font-weight-bold",children:"Customer acceptance letter"}),Object(n.jsx)("p",{className:"mb-5",children:"Click the button below to download signed customer loan acceptance letter"}),Object(n.jsx)("p",{className:"mt-5",children:Object(n.jsx)("a",{href:e.fileName,rel:"noreferrer",target:"_blank",download:"Offer-letter".concat(t+1),children:Object(n.jsxs)("button",{className:"start-look-up-btn btn",children:["Download"," ",Object(n.jsx)("span",{children:Object(n.jsx)(w,{})}),Object(n.jsx)("div",{className:"overlay-div"})]})})},e.id)]})})}))]})}),Br=a(19),Vr=a(110),Ur=a(441),Yr=function(){var e=Object(j.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.get("/admin/get_customers_info?page=".concat(t,"&limit=").concat(a));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),zr=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.get("/admin/get_customer_info/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Hr=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.get("/admin/search_customer_email?email=".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Gr=function(){var e=Object(j.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.get("/admin/get_admin_accounts?page=".concat(t,"&limit=").concat(a));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),Wr=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.get("/admin/get_admin_account/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),qr=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.get("/admin/search_admin_email?email=".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Xr=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.get("/admin/view_roles");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Jr=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c,r,s,l,i,o,u,j,b,m;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.email,n=t.password,c=t.firstName,r=t.lastName,s=t.phoneNumber,l=t.branchId,i=t.roleName,o=t.roleId,u=t.loanOfficerCode,j=t.staffId,b=t.rank,e.next=4,Re.post("/admin/create_admin_profile",{email:a,password:n,firstName:c,lastName:r,phoneNumber:s,branchId:l,roleName:i,roleId:o,loanOfficerCode:u,staffId:j,rank:b});case 4:return m=e.sent,e.abrupt("return",m.data);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Kr=function(){var e=Object(j.a)(d.a.mark((function e(t,a){var n,c,r,s,l,i,o,u,j,b,m,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a.email,c=a.password,r=a.firstName,s=a.lastName,l=a.phoneNumber,i=a.branchId,o=a.roleName,u=a.roleId,j=a.loanOfficerCode,b=a.staffId,m=a.rank,e.next=4,Re.put("/admin/update_admin_account/".concat(t),{email:n,password:c,firstName:r,lastName:s,phoneNumber:l,branchId:i,roleName:o,roleId:u,loanOfficerCode:j,staffId:b,rank:m});case 4:return p=e.sent,e.abrupt("return",p.data);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),Qr=function(){var e=Object(j.a)(d.a.mark((function e(t,a){var n,c,r,s,l,i,o,u,j,b,m,p,h,O,v,x;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a.email,c=a.firstname,r=a.middlename,s=a.lastname,l=a.phone,i=a.bvnhash,o=a.dob,u=a.pob,j=a.branch,b=a.gender,m=a.rank,p=a.genotype,h=a.blood_group,O=a.security_number,v=a.nhis_number,e.next=4,Re.put("/admin/edit_customer_info/".concat(t),{email:n,firstname:c,middlename:r,lastname:s,phone:l,bvnhash:i,dob:o,pob:u,branch:j,gender:b,rank:m,genotype:p,blood_group:h,security_number:O,nhis_number:v});case 4:return x=e.sent,e.abrupt("return",x.data);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),Zr=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.delete("/admin/delete_admin_account/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),$r=function(e){var t=e.approveModalBtn,a=e.setApproveModalBtn,c=e.approveData,r=Object(Br.useState)(!1),s=Object(p.a)(r,2),l=s[0],i=(s[1],Object(Br.useState)(!1)),u=Object(p.a)(i,2),b=u[0],m=u[1],h=Object(Br.useState)(!1),O=Object(p.a)(h,2),v=O[0],x=O[1],f=Object(Br.useState)({}),g=Object(p.a)(f,2),N=g[0],w=g[1],y=Object(o.g)(),_=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={isWithinLimit:!1,work_flow_level:c.work_flow_level},n=c.loanAppId,m((function(e){return!e})),e.next=6,cr(t,n);case 6:if(!(r=e.sent).error){e.next=9;break}return e.abrupt("return",ye(r.data,"error"));case 9:ye(r.data.text,"success"),a((function(e){return!e})),m((function(e){return!e})),y.push("/pages/loanMan"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),ye(e.t0.data,"error"),m((function(e){return!e}));case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),k=Object(Vr.useSpring)({config:{duration:250},opacity:t?1:0,transform:t?"translateY(0%)":"translateY(-100%)"});return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ts,{acceptModalBtn:v,setAcceptModalBtn:x,acceptData:N}),t?Object(n.jsx)("div",{className:"appr-modal",children:Object(n.jsx)(Ur.animated.div,{className:"appr-inner",style:k,children:Object(n.jsxs)("div",{approveModalBtn:t,children:[Object(n.jsx)("button",{className:"btn appr-close-btn",onClick:function(){return a((function(e){return!e}))},children:Object(n.jsx)(sa,{className:"modal-cancel-icon"})}),Object(n.jsx)("p",{className:"appr-modal-text",children:"Is the loan amount within your limit?"}),Object(n.jsxs)("div",{className:"appr-modal-btn",children:[Object(n.jsxs)("button",{className:"btn approve-loan-btn first-btn",onClick:function(){a((function(e){return!e})),x((function(e){return!e}));var e={limit:c.limit,maxTerm:c.maxTerm,loanAppId:c.loanAppId,customerId:c.customerId,applicationDate:c.applicationDate,status:c.status,narrative:c.narrative,isWithinLimit:c.isWithinLimit,email:c.email,firstname:c.firstname,lastname:c.lastname,productName:c.productName};w(e)},children:[Object(n.jsx)($e,{})," \xa0",l?Object(n.jsx)(U,{className:"limit-loading rotating"}):"Yes"]}),Object(n.jsxs)("button",{className:"btn reject-loan-btn",onClick:_,children:[Object(n.jsx)(sa,{}),b?Object(n.jsx)(U,{className:"limit-loading rotating"}):"No"]})]})]})})}):""]})},es=function(e){var t=e.narrativeModalBtn,a=e.setNarrativeModalBtn,c=e.approveData,r=Object(Br.useState)(!1),s=Object(p.a)(r,2),l=s[0],i=s[1],u=Object(Br.useState)(!1),b=Object(p.a)(u,2),m=b[0],h=b[1],O=Object(Br.useState)(""),v=Object(p.a)(O,2),x=v[0],f=v[1],g=Object(Br.useState)(120),N=Object(p.a)(g,2),w=N[0],y=N[1],_=Object(Br.useState)(!0),k=Object(p.a)(_,2),A=k[0],C=k[1],S=Object(o.g)(),P=function(){x.length>120?f(x.substring(0,120)):y(120-x.length),x.trim().length>20?C(!1):C(!0)},E="".concat(w,w>1?" characters remaining":" character remaining"),I=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={status:c.status,narrative:x.trim(),isWithinLimit:c.isWithinLimit,email:c.email,firstname:c.firstname,lastname:c.lastname,productName:c.productName},n=c.loanAppId,console.log(t),i((function(e){return!e})),e.next=7,cr(t,n);case 7:if(!(r=e.sent).error){e.next=10;break}return e.abrupt("return",ye(r.data,"error"));case 10:console.log(t),ye("Loan Rejection successful","success"),a((function(e){return!e})),i((function(e){return!e})),S.push("/pages/loanMan"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),ye(e.t0.data,"error"),i((function(e){return!e}));case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),D=Object(Vr.useSpring)({config:{duration:250},opacity:t?1:0,transform:t?"translateY(0%)":"translateY(-100%)"});return Object(n.jsx)(n.Fragment,{children:t?Object(n.jsx)("div",{className:"appr-modal",children:Object(n.jsx)(Ur.animated.div,{className:"appr-inner",style:D,children:Object(n.jsxs)("div",{narrativeModalBtn:t,children:[Object(n.jsx)("button",{className:"btn appr-close-btn",onClick:function(){return a((function(e){return!e}))},children:Object(n.jsx)(sa,{className:"modal-cancel-icon"})}),Object(n.jsx)("p",{className:"appr-modal-text",children:"State your reason for declining this loan request"}),Object(n.jsxs)("div",{children:[Object(n.jsx)("textarea",{onFocus:function(){h((function(e){return!e}))},onBlur:function(){h(!1)},rows:"6",className:"narrative-text",value:x,onChange:function(e){f(e.target.value)},onKeyUp:P,onKeyDown:P}),m?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("input",{className:"text-count",readOnly:!0,type:"text",value:E}),Object(n.jsx)("span",{})]}):""]}),Object(n.jsxs)("div",{className:"narr-modal-btn",children:[Object(n.jsxs)("button",{className:"btn approve-loan-btn first-btn",onClick:I,disabled:A,children:[Object(n.jsx)($e,{}),"\xa0 \xa0",l?Object(n.jsx)(U,{className:"limit-loading rotating"}):"Submit"]}),Object(n.jsxs)("button",{className:"btn reject-loan-btn",onClick:function(){return a((function(e){return!e}))},children:[Object(n.jsx)(sa,{}),"Cancel"]})]})]})})}):""})},ts=function(e){var t=e.acceptModalBtn,a=e.setAcceptModalBtn,c=e.acceptData,r=Object(Br.useState)(!1),s=Object(p.a)(r,2),l=s[0],i=s[1],u=Object(Br.useState)(null),b=Object(p.a)(u,2),m=b[0],h=b[1],O=Object(Br.useState)(null),v=Object(p.a)(O,2),x=v[0],f=v[1],g=Object(Br.useState)(!0),N=Object(p.a)(g,2),w=N[0],y=N[1],_=Object(Br.useState)(""),k=Object(p.a)(_,2),A=k[0],C=k[1],S=Object(o.g)(),P=function(){a((function(e){return!e})),h(null),f(null),y(!0)},E=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,r,s,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t={narrative:c.narrative,isWithinLimit:c.isWithinLimit,status:c.status,email:c.email,firstname:c.firstname,lastname:c.lastname,productName:c.productName,approvedAmount:m,approvedTenure:x,applicationDate:Ye()(c.applicationDate).format("LL")},n=c.loanAppId,r=c.limit,s=c.maxTerm,!(m>r)){e.next=8;break}return C("Amount should not exceed ".concat(r)),e.abrupt("return");case 8:if(!(x>s)){e.next=11;break}return C("Maximun tenure is ".concat(s," months")),e.abrupt("return");case 11:return i((function(e){return!e})),C(""),console.log(t),e.next=16,cr(t,n);case 16:if(!(l=e.sent).error){e.next=20;break}return console.log(l),e.abrupt("return",ye(l.data,"error"));case 20:ye("Loan Approval successful","success"),a((function(e){return!e})),i((function(e){return!e})),S.push("/pages/customers"),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(0),ye(e.t0.data,"error"),i((function(e){return!e}));case 30:case"end":return e.stop()}}),e,null,[[0,26]])})));return function(){return e.apply(this,arguments)}}(),I=Object(Vr.useSpring)({config:{duration:250},opacity:t?1:0,transform:t?"translateY(0%)":"translateY(-100%)"});return Object(n.jsx)(n.Fragment,{children:t?Object(n.jsx)("div",{className:"appr-modal",children:Object(n.jsx)(Ur.animated.div,{className:"appr-inner",style:I,children:Object(n.jsxs)("div",{acceptModalBtn:t,children:[Object(n.jsx)("button",{className:"btn appr-close-btn",onClick:P,children:Object(n.jsx)(sa,{className:"modal-cancel-icon"})}),Object(n.jsx)("p",{className:"accept-error",children:A}),Object(n.jsxs)("div",{className:"accept-input",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:"Approved Amount"}),Object(n.jsx)("input",{className:"amount-input",type:"number",placeholder:"Amount",value:m,onChange:function(e){h(e.target.value),y(!m||!x),C("")}})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:"Approved Tenure"}),Object(n.jsx)("input",{className:"month-input",type:"number",placeholder:"In months",value:x,onChange:function(e){f(e.target.value),y(!m||!x),C("")}})]})]}),Object(n.jsxs)("div",{className:"narr-modal-btn",children:[Object(n.jsxs)("button",{className:"btn approve-loan-btn first-btn",onClick:E,disabled:w,children:[Object(n.jsx)($e,{}),"\xa0 \xa0",l?Object(n.jsx)(U,{className:"limit-loading rotating"}):"Submit"]}),Object(n.jsxs)("button",{className:"btn reject-loan-btn",onClick:P,children:[Object(n.jsx)(sa,{}),"Cancel"]})]})]})})}):""})},as=function(e){var t=e.disburseModalBtn,a=e.setDisburseModalBtn,c=(e.approveData,Object(Br.useState)(!1)),r=Object(p.a)(c,2),s=r[0],l=r[1],i=Object(Br.useState)([]),o=Object(p.a)(i,2),u=(o[0],o[1],function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),b=Object(Vr.useSpring)({config:{duration:250},opacity:t?1:0,transform:t?"translateY(0%)":"translateY(-100%)"});return Object(n.jsx)(n.Fragment,{children:t?Object(n.jsx)("div",{className:"appr-modal",children:Object(n.jsx)(Ur.animated.div,{className:"appr-inner",style:b,children:Object(n.jsxs)("div",{disburseModalBtn:t,children:[Object(n.jsx)("button",{className:"btn appr-close-btn",onClick:function(){return a((function(e){return!e}))},children:Object(n.jsx)(sa,{className:"modal-cancel-icon"})}),Object(n.jsx)("p",{className:"appr-modal-text",children:"Proceed with loan disbursement?"}),Object(n.jsxs)("div",{className:"appr-modal-btn",children:[Object(n.jsxs)("button",{className:"btn approve-loan-btn first-btn",onClick:u,children:[Object(n.jsx)($e,{})," \xa0",s?Object(n.jsx)(U,{className:"limit-loading rotating"}):"Yes"]}),Object(n.jsxs)("button",{className:"btn reject-loan-btn",onClick:function(){a((function(e){return!e})),l((function(e){return!e}))},children:[Object(n.jsx)(sa,{}),"No"]})]})]})})}):""})},ns=function(e){var t=e.acceptLoanModalBtn,a=e.setAcceptLoanModalBtn,c=e.approveData,r=Object(Br.useState)(!1),s=Object(p.a)(r,2),l=s[0],i=s[1],o=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={isWithinLimit:!1,work_flow_level:1},n=c.loanAppId,i((function(e){return!e})),e.next=6,cr(t,n);case 6:if(!(r=e.sent).error){e.next=9;break}return e.abrupt("return",ye(r.data,"error"));case 9:ye(r.data.text,"success"),a((function(e){return!e})),i((function(e){return!e})),window.location.reload(),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),ye(e.t0.data,"error"),i((function(e){return!e}));case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),u=Object(Vr.useSpring)({config:{duration:250},opacity:t?1:0,transform:t?"translateY(0%)":"translateY(-100%)"});return Object(n.jsx)(n.Fragment,{children:t?Object(n.jsx)("div",{className:"appr-modal",children:Object(n.jsx)(Ur.animated.div,{className:"appr-inner",style:u,children:Object(n.jsxs)("div",{acceptLoanModalBtn:t,children:[Object(n.jsx)("button",{className:"btn appr-close-btn",onClick:function(){return a((function(e){return!e}))},children:Object(n.jsx)(sa,{className:"modal-cancel-icon"})}),Object(n.jsx)("p",{className:"appr-modal-text",children:"Proceed to loan acceptance?"}),Object(n.jsxs)("div",{className:"appr-modal-btn",children:[Object(n.jsxs)("button",{className:"btn approve-loan-btn first-btn",onClick:o,children:[Object(n.jsx)($e,{}),"\xa0 \xa0",l?Object(n.jsx)(U,{className:"limit-loading rotating"}):"Proceed"]}),Object(n.jsxs)("button",{className:"btn reject-loan-btn",onClick:function(){return a((function(e){return!e}))},children:[Object(n.jsx)(sa,{}),"Cancel"]})]})]})})}):""})},cs=function(e){var t=e.commentModalBtn,a=e.setCommentModalBtn,r=e.commentData,s=Object(Br.useState)(!1),l=Object(p.a)(s,2),i=l[0],o=l[1],u=Object(Br.useState)(!1),b=Object(p.a)(u,2),m=b[0],h=b[1],O=Object(Br.useState)(1e3),v=Object(p.a)(O,2),x=v[0],f=v[1],g=Object(Br.useState)(!0),N=Object(p.a)(g,2),w=N[0],y=N[1],_=Object(Br.useState)([]),k=Object(p.a)(_,2),A=k[0],C=k[1],S=Object(Br.useState)(""),P=Object(p.a)(S,2),E=P[0],I=P[1],D=Object(Br.useState)(""),R=Object(p.a)(D,2),L=R[0],F=R[1],M=Object(Br.useState)({}),T=Object(p.a)(M,2),B=T[0],V=T[1],Y=Object(Br.useState)(""),z=Object(p.a)(Y,2),H=z[0],G=z[1],W=Object(Br.useState)(!1),q=Object(p.a)(W,2),X=q[0],J=q[1],K=le(),Z=localStorage.getItem(Q);Object(c.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J(!0),e.prev=1,e.next=4,qr(Z);case 4:return t=e.sent,e.next=7,ar();case 7:a=e.sent,t.data.status&&(V(t.data.data),C(a.data),J(!1)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}})()()}),[Z]),Object(c.useEffect)((function(){G("".concat(B.firstname," ").concat(B.lastname)),A&&A.forEach((function(e){parseInt(B.branch)===e.id&&I(e.name)}))}),[A,B.branch,B.firstname,B.lastname]);var $=function(){var e=1e3;L.length>e?F(L.substring(0,e)):f(e-L.length),L.trim().length>20?y(!1):y(!0)},ee="".concat(x,x>1?" characters remaining":" character remaining"),te=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={staffId:B.staff_id,comment:"AUDIT"===K?"AUDITOR'S COMMENT: ".concat(L.trim()):L.trim(),rank:B.rank,fullName:H,staffEmail:Z,staffBranch:E,loanAppId:r.loanAppId},o((function(e){return!e})),e.next=5,ur(t);case 5:if(!(n=e.sent).error){e.next=8;break}return e.abrupt("return",ye(n.data,"error"));case 8:return ye("Comment added successfully","success"),o((function(e){return!e})),setTimeout((function(){a((function(e){return!e})),window.location.reload()}),2500),e.abrupt("return");case 14:return e.prev=14,e.t0=e.catch(0),ye(e.t0.message,"error"),o((function(e){return!e})),e.abrupt("return");case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),ae=Object(Vr.useSpring)({config:{duration:250},opacity:t?1:0,transform:t?"translateY(0%)":"translateY(-100%)"});return Object(n.jsx)(n.Fragment,{children:t?Object(n.jsx)("div",{className:"appr-modal",children:Object(n.jsx)(Ur.animated.div,{className:"comment-inner",style:ae,children:Object(n.jsxs)("div",{commentModalBtn:t,children:[Object(n.jsx)("button",{className:"btn appr-close-btn",onClick:function(){return a((function(e){return!e}))},children:Object(n.jsx)(sa,{className:"modal-cancel-icon"})}),Object(n.jsx)("p",{className:"appr-modal-text",children:"Add your comment"}),Object(n.jsxs)("form",{children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{htmlFor:"staffID",children:"Staff ID"}),Object(n.jsx)("input",{type:"text",name:"staff_id",id:"staff_id",className:"form-control",defaultValue:X?"Loading...":B.staff_id,readOnly:!0})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{htmlFor:"name",children:"Full Name"}),Object(n.jsx)("input",{type:"text",name:"fullName",id:"fullName",className:"form-control",readOnly:!0,defaultValue:X?"Loading...":H})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{htmlFor:"rank",children:"Rank"}),Object(n.jsx)("input",{type:"text",name:"rank",id:"rank",className:"form-control",readOnly:!0,defaultValue:X?"Loading...":B.rank})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{htmlFor:"branch",children:"Branch"}),Object(n.jsx)("input",{type:"text",name:"branch",id:"branch",className:"form-control",readOnly:!0,defaultValue:X?"Loading...":E})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{htmlFor:"comment",children:"Comment"}),Object(n.jsx)("textarea",{onFocus:function(){h((function(e){return!e}))},onBlur:function(){h(!1)},rows:"10",className:"narrative-text",value:L,onChange:function(e){return F(e.target.value)},onKeyUp:$,onKeyDown:$}),m?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("input",{className:"text-count",readOnly:!0,type:"text",value:ee}),Object(n.jsx)("span",{})]}):""]})]}),Object(n.jsxs)("div",{className:"narr-modal-btn",children:[Object(n.jsxs)("button",{className:"btn approve-loan-btn first-btn",onClick:te,disabled:w,children:[Object(n.jsx)($e,{}),"\xa0 \xa0",i?Object(n.jsx)(U,{className:"limit-loading rotating"}):"Submit"]}),Object(n.jsxs)("button",{className:"btn reject-loan-btn",onClick:function(){return a((function(e){return!e}))},children:[Object(n.jsx)(sa,{}),"Cancel"]})]})]})})}):""})},rs=function(e){var t=e.deleteModalBtn,a=e.setDeleteModalBtn,c=e.deleteData,r=Object(o.g)(),s=Object(Br.useState)(!1),l=Object(p.a)(s,2),i=l[0],u=l[1],b=Object(Vr.useSpring)({config:{duration:250},opacity:t?1:0,transform:t?"translateY(0%)":"translateY(-100%)"}),m=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,t=c.id,e.next=5,Zr(t);case 5:if(!(a=e.sent).error){e.next=10;break}return ye(a.message,"error"),u(!1),e.abrupt("return");case 10:return ye(a.message,"success"),u(!1),r.push("/pages/superAdmin"),e.abrupt("return");case 16:return e.prev=16,e.t0=e.catch(1),ye("Something went wrong","success"),u(!1),e.abrupt("return");case 21:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)(n.Fragment,{children:t?Object(n.jsx)("div",{className:"appr-modal",children:Object(n.jsx)(Ur.animated.div,{className:"appr-inner",style:b,children:Object(n.jsxs)("div",{deleteModalBtn:t,children:[Object(n.jsx)("button",{className:"btn appr-close-btn",onClick:function(){return a((function(e){return!e}))},children:Object(n.jsx)(sa,{className:"modal-cancel-icon"})}),Object(n.jsx)("p",{className:"appr-modal-text",children:"Are you sure you want to delete ".concat(c.adminName,"'s ").concat(c.adminRole?c.adminRole:""," profile?")}),Object(n.jsxs)("div",{className:"narr-modal-btn",children:[Object(n.jsxs)("button",{className:"btn approve-loan-btn first-btn",onClick:m,disabled:!!i,children:[Object(n.jsx)($e,{}),"\xa0 \xa0",i?Object(n.jsx)(U,{className:"limit-loading rotating"}):"Delete"]}),Object(n.jsxs)("button",{className:"btn reject-loan-btn",onClick:function(){return a((function(e){return!e}))},children:[Object(n.jsx)(sa,{}),"Cancel"]})]})]})})}):""})},ss=function(e){var t=e.loanAppId,a=Object(c.useState)([]),r=Object(p.a)(a,2),s=r[0],l=r[1];return Object(c.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jr(t);case 3:if(!(a=e.sent)){e.next=8;break}if("success"!==a.status){e.next=8;break}return l(a.data),e.abrupt("return");case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{className:"comment-header",children:"Loan Officers Comments"}),s.length>0?Object(n.jsxs)("table",{className:"table table-borderless table-hover",children:[Object(n.jsx)("thead",{className:"color-dark-text-blue",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Staff Name"}),Object(n.jsx)("th",{scope:"col",children:"Rank"}),Object(n.jsx)("th",{scope:"col",children:"Branch"}),Object(n.jsx)("th",{scope:"col",children:"Comment"})]})}),Object(n.jsxs)("tbody",{children:[Object(n.jsx)("tr",{className:"spacer"}),s&&s.map((function(e){return Object(n.jsxs)("tr",{className:"customer-card font-weight-600",children:[Object(n.jsx)("td",{className:"repay-method",children:Object(n.jsx)("p",{children:e.full_name})}),Object(n.jsx)("td",{className:"repay-method",children:Object(n.jsx)("p",{children:e.rank})}),Object(n.jsx)("td",{className:"repay-method",children:Object(n.jsx)("p",{children:e.staff_branch})}),Object(n.jsx)("td",{className:"repay-method",children:Object(n.jsx)("p",{children:e.comment})})]})}))]})]}):Object(n.jsx)("div",{className:"no-comment",children:Object(n.jsx)("p",{children:"NO COMMENT FOUND!"})})]})},ls=function(e){var t=Object(c.useState)(!1),a=Object(p.a)(t,2),r=(a[0],a[1],Object(c.useState)(!1)),s=Object(p.a)(r,2),l=(s[0],s[1],Object(o.g)()),i=Object(o.i)(),u=(i.url,i.params,Object(o.h)()),h=(u.state,u.pathname,u.search),O=pe(),v=ce(),x=le(),f=Object(c.useCallback)((function(e,t,a){return Jn(O)(e,t,a)}),[O]),g=Object(c.useState)({PND:!1,account_status:null,address:"N/A",bucket:"npf-mfb",bvnhash:"",companyCode:null,createdAt:"",customerNumber:"",dob:"",document_key:"",document_location:"",document_number:"",document_type_id:0,email:"thatguy@everyone.me",enabled:!0,firstname:"Janet",force_number:"",has_pin:!1,id:0,ippis_number:"",isnewbankcustomer:null,document_issue_date:"",document_expiry_date:"",photostatus:"PENDING",documentstatus:"PENDING",signaturestatus:"PENDING",livelinesschecked:"PENDING",isotpverified:!0,lastname:"Montoya",middlename:"N/A",otpstatus:null,phone:"",photo_key:"",photo_location:"",photo_number:null,pob:null,registration_channel:"",salary_officer:!0,signature_key:"",signature_location:"",simswapstatus:null,updatedAt:"",user:0,video_key:"",video_location:"",signup_incomplete:!0,accounts:[]}),N=Object(p.a)(g,2),w=N[0],y=N[1],_=Object(c.useState)({name:"",email:"",photo_location:"",bvn:null,phone:"",profilecomplete:"",livelinesschecked:"",dti:0,loan_app_id:0,createdBy:0,createdAt:"",updatedAt:"",loanApp:{name:"",loan_product_id:0,amount:0,workFlowLevel:1,approvalBranch_id:0,monthlyIncome:0,approvedAmount:0,approvedTenure:0,loan_purpose:"",creditRptRequested:!1,status:"",narrative:"",date_completed:null,customer_id:0,requested_loan_tenure:0,createdAt:"",updatedAt:"",loanProduct:{name:"",productType:"",creditScoringType:"",interestRate:0,maxTerm:0,maxTermUnit:"",limit:0,repaymentReqmt:"",guarantorsCnt:0,createdAt:"",updatedAt:"",loanProductCategory:{name:"",description:"",categoryType:"",createdAt:"",updatedAt:""},fileUpload:[]}}}),k=Object(p.a)(_,2),A=k[0],C=k[1],S=Object(c.useState)("all"),P=Object(p.a)(S,2),E=P[0],I=P[1],D=Object(c.useState)({userFull:!1,acceptApplication:!1,rejectApplication:!1,approveApplication:!1,printApplication:!1,loadPage:!1}),R=Object(p.a)(D,2),L=R[0],F=R[1],M=Object(c.useState)(!1),T=Object(p.a)(M,2),B=T[0],V=T[1],Y=Object(c.useState)({}),z=Object(p.a)(Y,2),G=(z[0],z[1],Object(c.useState)(!1)),W=Object(p.a)(G,2),q=W[0],X=W[1],J=Object(c.useState)({}),K=Object(p.a)(J,2),Q=K[0],Z=K[1],$=Object(c.useState)(!1),ee=Object(p.a)($,2),te=ee[0],ae=ee[1],ne=Object(c.useState)(!1),re=Object(p.a)(ne,2),se=(re[0],re[1]),ie=Object(c.useState)(!1),oe=Object(p.a)(ie,2),ue=oe[0],de=oe[1],je=Object(c.useState)([]),be=Object(p.a)(je,2),me=be[0],he=be[1],Oe=Object(c.useState)([]),ve=Object(p.a)(Oe,2),xe=ve[0],fe=ve[1],ge=Object(c.useState)(""),Ne=Object(p.a)(ge,2),we=Ne[0],ke=Ne[1],Ae=Object(c.useState)(""),Ce=Object(p.a)(Ae,2),Se=Ce[0],Pe=Ce[1],Ee=Object(c.useState)(""),Ie=Object(p.a)(Ee,2),De=Ie[0],Re=Ie[1],Le=Object(c.useState)(""),Fe=Object(p.a)(Le,2),Me=Fe[0],Te=Fe[1],Be=Object(c.useState)(""),Ve=Object(p.a)(Be,2),Ue=Ve[0],He=Ve[1],Ge=Object(c.useState)(""),We=Object(p.a)(Ge,2),qe=We[0],Xe=We[1],Je=Object(c.useState)(""),Ke=Object(p.a)(Je,2),Qe=Ke[0],Ze=Ke[1],et=Object(c.useState)(!1),tt=Object(p.a)(et,2),at=tt[0],nt=tt[1],ct=Object(c.useState)({}),rt=Object(p.a)(ct,2),st=rt[0],lt=rt[1],it=new URLSearchParams(h).get("id");Object(c.useEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(t){var a,n,c,r,s,i,o,u,j;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ot("loadPage",!0),X(!1),ae(!1),se(!1),de(!1),e.next=8,$c(t);case 8:if(!(a=e.sent).error){e.next=11;break}return e.abrupt("return",ye(a.data,"error"));case 11:if(null!==a.data){e.next=15;break}return ye("Loan Not Found","error"),l.push("/pages/loanMan"),e.abrupt("return");case 15:return n=a.data.loanApp.customer_id,e.next=18,On(n);case 18:if(!(c=e.sent).error){e.next=21;break}return e.abrupt("return",ye(c.message,"error"));case 21:if(null!==c.result){e.next=25;break}return ye("Customer Not Found","error"),l.push("/pages/loanMan"),e.abrupt("return");case 25:return r=a.data.loanApp.id,e.next=28,lr(r);case 28:if(!(s=e.sent).error){e.next=31;break}return e.abrupt("return",ye(s.message,"error"));case 31:if(null!==s.data){e.next=34;break}return ye("LoanScore Not Found","error"),e.abrupt("return");case 34:return e.next=36,or(r);case 36:if(!(i=e.sent).error){e.next=39;break}return e.abrupt("return",ye(i.message,"error"));case 39:if(null!==i.data){e.next=42;break}return ye("Files Not Found","error"),e.abrupt("return");case 42:if(C((function(e){return Object(m.a)(Object(m.a)(Object(m.a)({},e),a.data),{},{loanScore:s.data,fileUpload:i.data})})),y((function(e){return Object(m.a)(Object(m.a)({},e),c.result)})),o=[],A.fileUpload&&A.fileUpload.map((function(e){if(!e.fileName.includes("guarantor")&&!e.fileName.includes("pdf")){o.push(e.fileName);var t=Object(_e.a)(new Set(o));fe(t)}e.fileName.includes("guarantor")&&he([e])})),A.loanApp.baseInfoValues&&A.loanApp.baseInfoValues.map((function(e){e.baseInfo.name.includes("maritalStatus")&&Pe(e.value),e.baseInfo.name.includes("residentialAddress")&&Re(e.value),e.baseInfo.name.includes("lengthOfStayAtAddress")&&Te(e.value),e.baseInfo.name.includes("engagingBusiness")&&He(e.value),e.baseInfo.name.includes("yearsInBusiness")&&Xe(e.value),e.baseInfo.name.includes("businessAddress")&&Ze(e.value)})),!(A.loanApp.approvalBranch_id>0)){e.next=53;break}return u=A.loanApp.approvalBranch_id,e.next=51,tr(u);case 51:j=e.sent,ke(j.data.name);case 53:ot("loadPage",!1),e.next=59;break;case 56:e.prev=56,e.t0=e.catch(0),f(e.t0,ye,(function(){return ot("userFull",!1)}));case 59:case"end":return e.stop()}}),e,null,[[0,56]])})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(it)}),[l,it,f,A.loanApp.approvalBranch_id]);var ot=function(e,t){return F((function(a){return Object(m.a)(Object(m.a)({},a),{},Object(b.a)({},e,t))}))},ut=A.name.split(" "),dt=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:de((function(e){return!e})),t=A.loanApp.guarantors&&A.loanApp.guarantors.map((function(e,t){console.log(e);var a=[];return a.push(e.id),a})),a=new Date,n=Object(mr.default)(a,Number(A.loanApp.approvedTenure)),c={email:A.email,firstname:ut[0],lastname:ut[1],customerId:w.customerNumber,productName:A.loanApp.loanProduct.name,productId:A.loanApp.loanProduct.id,loanAppId:A.loan_app_id,approvedAmount:A.loanApp.approvedAmount,approvedTenure:A.loanApp.approvedTenure,interestRate:A.loanApp.loanProduct.interestRate,guarantorId:"".concat(t.join("&")),sn:A.loan_app_id,accountNo:A.loanApp.account_no,settlementAccount:A.loanApp.account_no,customerName:"".concat(ut[0]," ").concat(ut[1]),productType:A.loanApp.loanProduct.loanProductCategory.categoryType,customerType:"N/A",sector:"N/A",expiryDate:"".concat(n),tenorInDays:30*A.loanApp.approvedTenure,legacyID:0,authorizedLimit:A.loanApp.loanProduct.limit,arrangementFee:0,riskRating:"N/A",numberOfPaymentsOutstanding:0,daysPastDue:0,pastDueObligationInterest:0,subStatus:"N/A",status:A.loanApp.status,contratualIntRate:0,annualEffectiveInterestRate:0,restructure:"N/A",paymentFrequencyPrincipal:"N/A",paymentFreqInterest:"N/A",collateralStatus:"N/A",collateralType:"N/A",otherCollateral:"N/A",collateralvalue:"N/A",daysToRealization:0},Z(c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),jt=Object(c.useRef)(),bt=Object(pr.useReactToPrint)({content:function(){return jt.current}});return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("header",{children:[Object(n.jsxs)("div",{children:[Object(n.jsxs)("h1",{children:[Object(n.jsx)("button",{onClick:function(e){return l.goBack()},className:"btn btn-primary back-btn",children:Object(n.jsx)(da,{})}),"Loan Application Details"]}),Object(n.jsxs)("nav",{children:[Object(n.jsx)("a",{className:"all"===E?"active":"",onClick:function(e){return I("all")},children:"Customer Details"}),Object(n.jsx)("a",{className:"loan-details"===E?"active":"",onClick:function(e){return I("loan-details")},children:"Loan Details"}),Object(n.jsx)("a",{className:"documents"===E?"active":"",onClick:function(e){return I("documents")},children:"Documents"})]})]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"small-admin-details",children:[Object(n.jsx)("img",{src:ze,alt:""}),v||"NPF Admin",Object(n.jsx)("i",{className:"arrow down"})]}),Object(n.jsxs)("div",{className:"some-container",children:[Object(n.jsx)("button",{className:"btn approve-loan-btn ".concat(L.approveApplication?"loading disabled":""),onClick:function(){nt((function(e){return!e}));var e={loanAppId:A.loan_app_id};lt(e)},children:L.approveApplication?Object(n.jsx)(U,{className:"rotating"}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(gr,{})," Add Comment"]})}),Object(n.jsx)(cs,{commentModalBtn:at,setCommentModalBtn:nt,commentData:st}),"AUDIT"!==x&&"APPROVE"===A.loanApp.status&&Object(n.jsx)("button",{className:"btn accept-loan-btn ".concat(L.acceptApplication?"loading disabled":""),onClick:dt,children:L.acceptApplication?Object(n.jsx)(U,{className:"rotating"}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)($e,{})," Disburse"]})}),Object(n.jsx)(as,{disburseModalBtn:ue,setDisburseModalBtn:de,approveData:Q}),"AUDIT"!==x&&"APPROVE"===A.loanApp.status&&Object(n.jsx)("button",{className:"btn reject-loan-btn ".concat(L.rejectApplication?"loading disabled":""),onClick:function(){ae((function(e){return!e}));var e={status:"REJECT",narrative:"",isWithinLimit:!0,email:A.email,firstname:ut[0],lastname:ut[1],productName:A.loanApp.loanProduct.name,loanAppId:A.loan_app_id};Z(e)},children:L.rejectApplication?Object(n.jsx)(U,{className:"rotating"}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(sa,{})," Decline"]})}),Object(n.jsx)(es,{narrativeModalBtn:te,setNarrativeModalBtn:ae,approveData:Q}),"AUDIT"!==x&&"REJECT"===A.loanApp.status&&Object(n.jsx)("button",{className:"btn approve-loan-btn ".concat(L.approveApplication?"loading disabled":""),onClick:function(){X((function(e){return!e}));var e={status:"APPROVE",narrative:"",isWithinLimit:!0,email:A.email,firstname:ut[0],lastname:ut[1],productName:A.loanApp.loanProduct.name,loanAppId:A.loan_app_id,limit:A.loanApp.loanProduct.limit,maxTerm:A.loanApp.loanProduct.maxTerm,applicationDate:A.loanApp.createdAt,customerId:w.id};Z(e)},children:L.approveApplication?Object(n.jsx)(U,{className:"rotating"}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)($e,{})," Approve"]})}),Object(n.jsx)($r,{approveModalBtn:q,setApproveModalBtn:X,approveData:Q,setApproveData:Z}),Object(n.jsx)("button",{onClick:bt,className:"btn print-loan-btn ".concat(L.printApplication?"loading disabled":""),children:L.printApplication?Object(n.jsx)(U,{className:"rotating"}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Ar,{})," Print"]})})]})]})]}),L.loadPage?Object(n.jsx)("div",{className:"searching-block",children:Object(n.jsx)("div",{className:"svg-holder",children:Object(n.jsx)(U,{className:"rotating"})})}):Object(n.jsxs)("main",{ref:jt,className:"customers-page",children:[L.userFull&&Object(n.jsx)("div",{className:"searching-block",children:Object(n.jsx)("div",{className:"svg-holder",children:Object(n.jsx)(U,{className:"rotating"})})}),!L.userFull&&"all"===E&&Object(n.jsxs)("div",{className:"customer-details row animated fadeIn delay-05s",children:[Object(n.jsx)("div",{className:"left-side col-3",children:Object(n.jsx)("div",{className:"img-holder",children:Object(n.jsx)("img",{src:w.photo_location||ze,alt:w.firstname})})}),Object(n.jsxs)("div",{className:"right-side col row",children:[Object(n.jsxs)("div",{className:"personal-details col",children:[Object(n.jsx)("div",{className:"details-header",children:"Personal Details"}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Customer Name:"}),Object(n.jsxs)("div",{className:"col",children:[w.firstname," ",w.lastname]})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Customer Email:"}),Object(n.jsx)("div",{className:"col",children:w.email})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Customer phone:"}),Object(n.jsx)("div",{className:"col",children:w.phone})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Date of birth:"}),Object(n.jsx)("div",{className:"col",children:Ye()(w.dob).format("DD/MM/YYYY")})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Marital Status:"}),Object(n.jsx)("div",{className:"col",children:Se||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Residential Address:"}),Object(n.jsx)("div",{className:"col",children:De||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Length of Stay in Address:"}),Object(n.jsx)("div",{className:"col",children:Me||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Business Engaged in:"}),Object(n.jsx)("div",{className:"col",children:Ue||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Years in Business:"}),Object(n.jsx)("div",{className:"col",children:qe||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Business Address:"}),Object(n.jsx)("div",{className:"col",children:Qe||"N/A"})]})]}),Object(n.jsxs)("div",{className:"other-details col",children:[Object(n.jsxs)("div",{className:"bank-details",children:[Object(n.jsx)("div",{className:"details-header",children:"Bank Details"}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Bank Account No:"}),Object(n.jsx)("div",{className:"col",children:A.loanApp.account_no||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"BVN Number:"}),Object(n.jsx)("div",{className:"col",children:w.bvnhash||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Customer branch:"}),Object(n.jsx)("div",{className:"col",children:we||"E-channels"})]})]}),Object(n.jsxs)("div",{className:"kin-details",children:[Object(n.jsx)("div",{className:"details-header",children:"Next of Kin Details"}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Next of Kin:"}),Object(n.jsx)("div",{className:"col",children:w.kin_name||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Relationship:"}),Object(n.jsx)("div",{className:"col",children:w.kin_relationship||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Phone Number:"}),Object(n.jsx)("div",{className:"col",children:w.kin_phone||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Business:"}),Object(n.jsx)("div",{className:"col",children:w.kin_business||"N/A"})]})]})]})]})]}),!L.userFull&&"loan-details"===E&&Object(n.jsx)("div",{className:"customer-documents-page animated fadeIn delay-05s",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"loan-details-container col-9",children:Object(n.jsxs)("div",{className:"left-side col row",children:[Object(n.jsxs)("div",{className:"other-details col",children:[Object(n.jsxs)("div",{className:"loan-customer-details",children:[Object(n.jsx)("div",{className:"details-header",children:"Customer"}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Customer Type"}),Object(n.jsx)("div",{className:"col",children:"Regular Customer"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Customer ID:"}),Object(n.jsx)("div",{className:"col",children:w.id})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Customer phone:"}),Object(n.jsx)("div",{className:"col",children:w.phone||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Group ID Asset Class:"}),Object(n.jsx)("div",{className:"col",children:"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Marital Status:"}),Object(n.jsx)("div",{className:"col",children:Se})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"DTI Ratio:"}),Object(n.jsx)("div",{className:"col",children:Object(n.jsxs)("span",{className:A.dti<50?"dti negative":"dti positive",children:[A.dti,"%"]})})]})]}),Object(n.jsxs)("div",{className:"repay-details",children:[Object(n.jsx)("div",{className:"details-header",children:"Repayment Details"}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Interest Rate:"}),Object(n.jsxs)("div",{className:"col",children:[A.loanApp.loanProduct.interestRate,"%"]})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Tenor Requested:"}),Object(n.jsxs)("div",{className:"col",children:[A.loanApp.requested_loan_tenure," Months"]})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Tenor Offered:"}),Object(n.jsxs)("div",{className:"col",children:[A.loanApp.approvedTenure," Months"]})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Payment Frequency:"}),Object(n.jsx)("div",{className:"col",children:"Monthly"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Repayment Start:"}),Object(n.jsx)("div",{className:"col",children:Ye()(A.loanApp.createdAt).format("DD/MM/YYYY")})]})]})]}),Object(n.jsxs)("div",{className:"loan-main-details col",children:[Object(n.jsx)("div",{className:"details-header",children:"Loan Details"}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Loan Product:"}),Object(n.jsx)("div",{className:"col",children:A.loanApp.loanProduct.name})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Classification:"}),Object(n.jsx)("div",{className:"col",children:A.loanApp.loanProduct.loanProductCategory.categoryType})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Date of Application:"}),Object(n.jsx)("div",{className:"col",children:Ye()(A.loanApp.createdAt).format("DD/MM/YYYY")})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Date of Approval:"}),Object(n.jsx)("div",{className:"col",children:Ye()(A.loanApp.updatedAt).format("DD/MM/YYYY")})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Currency:"}),Object(n.jsx)("div",{className:"col",children:"Nigerian Naira (NGN)"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Amount Requested:"}),Object(n.jsxs)("div",{className:"col",children:["\u20a6"," ",H()(A.loanApp.amount).format("0,0")||0]})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Amount Offered:"}),Object(n.jsxs)("div",{className:"col",children:["\u20a6"," ",H()(A.loanApp.approvedAmount).format("0,0")||0]})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Purpose:"}),Object(n.jsx)("div",{className:"col",children:A.loanApp.loan_purpose})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Source of funds:"}),Object(n.jsx)("div",{className:"col",children:A.loanApp.loanApp_repayment||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Average Salary:"}),Object(n.jsxs)("div",{className:"col",children:["\u20a6"," ",H()(A.loanApp.monthlyIncome).format("0,0")]})]})]})]})}),Object(n.jsx)(Tr,{isScoringActive:B,setScoringActive:V,loan:A})]})}),!L.userFull&&"documents"===E&&Object(n.jsx)("div",{className:"customer-documents-page animated fadeIn delay-05s",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"loan-documents-container col-9",children:[Object(n.jsxs)("div",{className:"id-document-container",children:[Object(n.jsx)("div",{className:"details-header",children:"Guarantor Details"}),A.loanApp.guarantors.map((function(e,t){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"scoring-opt-div"}),Object(n.jsxs)("div",{className:"row",children:[me.map((function(e,a){return Object(n.jsxs)("div",{className:"col-5 document-card",children:[Object(n.jsx)("img",{src:e.fileName,alt:""}),Object(n.jsxs)("div",{className:"document-info",children:[Object(n.jsx)("span",{children:Object(n.jsx)(Oa,{})}),Object(n.jsxs)("b",{children:["Guarantor Form ",t+1]}),Object(n.jsx)("div",{className:"file-action-icons",children:Object(n.jsx)("span",{"data-toggle":"tooltip","data-placement":"bottom",title:"Download ID",children:Object(n.jsx)("a",{href:e.fileName,target:"_blank",rel:"noreferrer",download:"".concat(w.firstname,"-ID"),children:Object(n.jsx)(Ma,{})})})})]})]},e.id)})),Object(n.jsxs)("div",{className:"col id-document-details",children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Guarantor Name:"}),Object(n.jsx)("div",{className:"col",children:e.name})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Guarantor ID:"}),Object(n.jsx)("div",{className:"col",children:e.id})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Account Number:"}),Object(n.jsx)("div",{className:"col",children:e.accountNumber})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Bank Name:"}),Object(n.jsx)("div",{className:"col",children:e.bankName||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Status:"}),Object(n.jsx)("div",{className:"".concat("Verified"===e.status?"verified":"not-verified"," col"),children:e.status||"Not Verified"})]})]})]},e.id)]})}))]}),Object(n.jsxs)("div",{className:"other-documents",children:[Object(n.jsx)("div",{className:"details-header",children:"Other Documents"}),Object(n.jsx)("div",{className:"row",children:xe&&xe.map((function(e,t){return Object(n.jsxs)("div",{className:"col-5 document-card",children:[Object(n.jsx)("img",{src:e,alt:""}),Object(n.jsxs)("div",{className:"document-info",children:[Object(n.jsx)("span",{children:Object(n.jsx)(Oa,{})}),Object(n.jsxs)("b",{children:["Document ","".concat(t+1)]}),Object(n.jsx)("div",{className:"file-action-icons",children:Object(n.jsx)("span",{"data-toggle":"tooltip","data-placement":"bottom",title:"Download signature",children:Object(n.jsx)("a",{href:e,target:"_blank",rel:"noreferrer",download:"".concat(w.firstname,"-signature"),children:Object(n.jsx)(Ma,{})})})})]})]},e)}))})]})]}),Object(n.jsx)(Tr,{isScoringActive:B,setScoringActive:V,loan:A})]})}),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(ss,{loanAppId:A.loan_app_id})})]})]})},is=a(90),os=(a(314),function(e){var t=e.loan,a=e.adminWorkFlowLevel,r=pe(),s=Object(c.useState)([]),l=Object(p.a)(s,2),i=l[0],o=l[1],u=Object(c.useState)([]),h=Object(p.a)(u,2),O=h[0],v=h[1],x=Object(c.useState)(""),f=Object(p.a)(x,2),g=f[0],N=f[1],w=Object(c.useState)(1),y=Object(p.a)(w,2),_=y[0],k=y[1],A=Object(c.useState)(0),C=Object(p.a)(A,2),S=C[0],P=C[1],E=Object(c.useState)(!1),I=Object(p.a)(E,2),D=I[0],R=I[1],L=Object(c.useState)(""),F=Object(p.a)(L,2),M=F[0],T=F[1],B=Object(c.useState)({userFull:!1,acceptApplication:!1,rejectApplication:!1,approveApplication:!1,printApplication:!1,loadPage:!1}),V=Object(p.a)(B,2),Y=V[0],z=V[1],H=Object(c.useCallback)((function(e,t,a){return Jn(r)(e,t,a)}),[r]);Object(c.useEffect)((function(){R(!1),k(1),T(""),z({userFull:!1,acceptApplication:!1,rejectApplication:!1,approveApplication:!1,printApplication:!1,loadPage:!1});var e=[],a=[];console.log(t,[]),t.loanApp.loanProduct.loanProductCategory.criterias.forEach((function(t){if("Behavioural"===t.scoreType){e.push(t),a.push(t.requirements);var n=Object(_e.a)(new Set(a));P(n.length)}}));var n=Math.round(e.length/2);o(e.slice(0,n)),v(e.slice(n+1,e.length))}),[]);var G=function(e,t){return z((function(a){return Object(m.a)(Object(m.a)({},a),{},Object(b.a)({},e,t))}))},W=function(){var e=Object(j.a)(d.a.mark((function e(a){var c,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(a.target.value),G("loadPage",!0),R(!0),c={requirement:g,value:a.target.value,score_type:"Admin"},r=t.loan_app_id,e.next=8,sr(r,c);case 8:if(s=e.sent,console.log(s,g,r),"success"!==s.status){e.next=18;break}return k(_+1),T(Object(n.jsx)($e,{})),G("loadPage",!1),R(!1),e.abrupt("return");case 18:return T("Something went wrong"),G("loadPage",!1),R(!1),e.abrupt("return");case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),H(e.t0,ye,(function(){T("Something went wrong"),G("loadPage",!1),R(!1)}));case 27:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(t){return e.apply(this,arguments)}}(),q=function(e){console.log(e),N(e)},X=function(){var e=Object(j.a)(d.a.mark((function e(){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.loan_app_id,G("acceptApplication",!0),R(!0),e.next=6,rr(a);case 6:if("error"!==(n=e.sent).status){e.next=12;break}return ye("Something went wrong","error"),G("acceptApplication",!1),R(!1),e.abrupt("return");case 12:if("success"!==n.status){e.next=27;break}return e.next=15,dr(a);case 15:if("error"!==(c=e.sent).status){e.next=21;break}return ye("Something went wrong","error"),G("acceptApplication",!1),R(!1),e.abrupt("return");case 21:if("success"!==c.status){e.next=27;break}return ye("Loan Successfully scored","success"),G("acceptApplication",!1),R(!1),setTimeout((function(){window.location.reload()}),2e3),e.abrupt("return");case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),H(e.t0,ye,(function(){T("Something went wrong"),G("acceptApplication",!1),R(!1)}));case 32:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"loan-details col",children:Object(n.jsxs)("div",{className:"mb-5",children:[Object(n.jsx)("div",{className:"details-header",children:"Criteria Details"}),Object(n.jsx)("div",{style:{width:"100%"},children:i&&i.map((function(e,c){var r=e.id,s=e.requirements;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col mb-1",children:[s,":"]}),Object(n.jsxs)("div",{className:"col",children:["\xa0\xa0",Object(n.jsxs)("span",{className:"color-sec-green",children:[Object(n.jsx)("div",{class:"dropdown",style:{width:"40%",outline:"none"},children:Object(n.jsx)("select",{disabled:!(D||a>=t.loanApp.workFlowLevel),class:"btn dropdown-toggle",style:{border:"1px solid #ccc",outline:"none",borderRadius:"10px",fontSize:"14px",padding:"0.8em 1em",width:"100%",fontWeight:"600"},onClick:function(){return q(s)},onChange:function(e){W(e)},children:e.optionValues.map((function(e,t){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("option",{value:e,children:e},t+e)})}))})}),Object(n.jsx)("div",{children:s===g&&(Y.loadPage?Object(n.jsx)(U,{className:"limit-loading rotating"}):Object(n.jsxs)("span",{style:"Something went wrong"===M?{fontSize:"12px",color:"red"}:{},children:[" ",M]}))})]})]})]},r)})}))})]})}),Object(n.jsxs)("div",{className:"loan-details col",children:[Object(n.jsx)("div",{className:"details-header",children:"More Criteria Details"}),Object(n.jsx)("div",{style:{width:"100%"},children:O&&O.map((function(e){var c=e.id,r=e.requirements;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col mb-1",children:[r,":"]}),Object(n.jsx)("div",{className:"col",children:Object(n.jsxs)("span",{className:"color-sec-green",children:[Object(n.jsx)("div",{class:"dropdown",style:{width:"40%",outline:"none"},children:Object(n.jsx)("select",{disabled:!(D||a>=t.loanApp.workFlowLevel),class:"btn dropdown-toggle",style:{border:"1px solid #ccc",outline:"none",borderRadius:"10px",fontSize:"14px",padding:"0.8em 1em",width:"100%",fontWeight:"600"},onClick:function(){return q(r)},onChange:function(e){W(e)},children:e.optionValues.map((function(e,t){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("option",{value:e,children:e},t+e)})}))})}),Object(n.jsx)("div",{children:r===g&&(Y.loadPage?Object(n.jsx)(U,{className:"limit-loading rotating"}):Object(n.jsxs)("span",{style:"Something went wrong"===M?{fontSize:"12px",color:"red"}:{},children:[" ",M]}))})]})})]},c)})}))}),Object(n.jsx)("button",{onClick:X,style:{marginTop:"2rem"},disabled:!(_>=S&&a>=t.loanApp.workFlowLevel),className:"btn accept-loan-btn ".concat(Y.acceptApplication?"loading disabled":""),children:Y.acceptApplication?Object(n.jsxs)(n.Fragment,{children:["Scoring ",Object(n.jsx)(U,{className:"rotating"})]}):Object(n.jsxs)(n.Fragment,{children:["Score"," ",Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-right-short",viewBox:"0 0 16 16",children:Object(n.jsx)("path",{"fill-rule":"evenodd",d:"M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"})})]})})]})]})}),us=function(e){var t=e.file;return Object(c.useEffect)((function(){console.log(t)}),[]),Object(n.jsxs)("div",{className:"col document-card",children:[Object(n.jsx)("img",{src:t,alt:""}),Object(n.jsxs)("div",{className:"document-info",children:[Object(n.jsx)("span",{children:Object(n.jsx)(Oa,{})}),Object(n.jsx)("b",{children:"Guarantor one - Ebube"})]})]})},ds=function(e){return Object(n.jsx)("div",{className:"col-6",children:Object(n.jsx)("div",{style:{margin:"3.5em auto",padding:".5em 3em"},children:Object(n.jsxs)("span",{children:["Guarantor Name: ",Object(n.jsx)("b",{children:"Emeka Chibuike"})]})})})},js=function(){return Object(n.jsx)("div",{className:"col",style:{padding:"0 0 1.5em"},children:Object(n.jsxs)("div",{children:[Object(n.jsxs)("button",{className:"btn py-1",style:{backgroundColor:"#2dbe7e",color:"#fff",borderRadius:"50px",padding:"0 1.5em",marginRight:"1em"},children:[Object(n.jsx)($e,{})," Yes"]}),Object(n.jsxs)("button",{className:"btn py-1",style:{border:"1px solid red",color:"red",borderRadius:"50px",padding:"0 1.5em"},children:[Object(n.jsx)(sa,{})," No"]})]})})},bs=function(e){var t=e.file;return Object(n.jsxs)("div",{className:"col-3",children:[Object(n.jsx)(js,{}),Object(n.jsx)(us,{file:t})]})},ms=function(e){var t=e.loan,a=Object(c.useState)([]),r=Object(p.a)(a,2),s=r[0],l=r[1],i=Object(c.useState)([]),o=Object(p.a)(i,2),u=(o[0],o[1]);return Object(c.useEffect)((function(){var e=[];t.fileUpload&&t.fileUpload.map((function(t){if(!t.fileName.includes("guarantor")){e.push(t.fileName);var a=Object(_e.a)(new Set(e));l(a)}t.fileName.includes("guarantor")&&u([t])})),console.log(t)}),[]),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"mb-5",children:[Object(n.jsx)("div",{className:"details-header",children:"Guarantor Details"}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)(bs,{}),Object(n.jsx)(ds,{})]})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"details-header",children:"Other Documents"}),s.map((function(e,t){return Object(n.jsx)("div",{className:"row",style:{gap:"140px"},children:Object(n.jsxs)("div",{className:"col-3 document-card",children:[Object(n.jsx)("a",{href:e,target:"_blank",rel:"noreferrer",children:Object(n.jsx)("img",{src:e,alt:""})}),Object(n.jsxs)("div",{className:"document-info",children:[Object(n.jsx)("span",{children:Object(n.jsx)(Oa,{})}),Object(n.jsx)("b",{children:"Document ".concat(t+1)}),Object(n.jsxs)("div",{className:"scored-div",children:[Object(n.jsx)($e,{})," Scored: YES"]})]})]},t)})}))]})]})})},ps=function(e){var t=Object(c.useState)(!1),a=Object(p.a)(t,2),r=a[0],s=a[1],l=Object(c.useState)(!1),i=Object(p.a)(l,2),u=i[0],h=i[1],O=Object(o.g)(),v=Object(o.h)(),x=ce(),f=le(),g=Object(o.h)(),N=(g.url,g.params,v.state,v.pathname,v.search),y=pe(),_=Object(c.useCallback)((function(e,t,a){return Jn(y)(e,t,a)}),[y]),k=Object(c.useState)({PND:!1,account_status:null,address:"N/A",bucket:"npf-mfb",bvnhash:"",companyCode:null,createdAt:"",customerNumber:"",dob:"",document_key:"",document_location:ze,document_number:"",document_type_id:0,email:"thatguy@everyone.me",enabled:!0,firstname:"Janet",force_number:"",has_pin:!1,id:0,ippis_number:"",isnewbankcustomer:null,document_issue_date:"",document_expiry_date:"",photostatus:"PENDING",documentstatus:"PENDING",signaturestatus:"PENDING",livelinesschecked:"PENDING",isotpverified:!0,lastname:"Montoya",middlename:"N/A",otpstatus:null,phone:"",photo_key:"",photo_location:"",photo_number:null,pob:null,registration_channel:"",salary_officer:!0,signature_key:"",signature_location:"",simswapstatus:null,updatedAt:"",user:0,video_key:"",video_location:"",signup_incomplete:!0,accounts:[]}),A=Object(p.a)(k,2),C=A[0],S=A[1],P=Object(c.useState)({name:"",email:"",photo_location:"",bvn:null,phone:"",profilecomplete:"",livelinesschecked:"",dti:0,loan_app_id:0,createdBy:0,createdAt:"",updatedAt:"",loanApp:{name:"",loan_product_id:0,amount:0,workFlowLevel:1,approvalBranch_id:0,monthlyIncome:0,approvedAmount:0,approvedTenure:0,loan_purpose:"",creditRptRequested:!1,status:"",narrative:"",date_completed:null,customer_id:0,requested_loan_tenure:0,createdAt:"",updatedAt:"",loanProduct:{name:"",productType:"",creditScoringType:"",interestRate:0,maxTerm:0,maxTermUnit:"",limit:0,repaymentReqmt:"",guarantorsCnt:0,createdAt:"",updatedAt:"",loanProductCategory:{name:"",description:"",categoryType:"",createdAt:"",updatedAt:""},fileUpload:[],adminLoanScore:[],loanScore:[]}}}),E=Object(p.a)(P,2),I=E[0],D=E[1],R=Object(c.useState)("all"),L=Object(p.a)(R,2),F=L[0],M=L[1],T=Object(c.useState)({userFull:!1,acceptApplication:!1,rejectApplication:!1,approveApplication:!1,printApplication:!1,loadPage:!1}),B=Object(p.a)(T,2),V=B[0],Y=B[1],z=Object(c.useState)(!1),G=Object(p.a)(z,2),W=(G[0],G[1],Object(c.useState)({})),q=Object(p.a)(W,2),X=(q[0],q[1],Object(c.useState)(!1)),J=Object(p.a)(X,2),K=J[0],Q=J[1],Z=Object(c.useState)({}),$=Object(p.a)(Z,2),te=$[0],ae=$[1],ne=Object(c.useState)(!1),re=Object(p.a)(ne,2),se=re[0],ie=re[1],oe=Object(c.useState)(!1),de=Object(p.a)(oe,2),je=de[0],be=de[1],me=Object(c.useState)(0),he=Object(p.a)(me,2),Oe=he[0],ve=he[1],xe=Object(c.useState)(""),fe=Object(p.a)(xe,2),ge=fe[0],Ne=fe[1],we=Object(c.useState)(""),ke=Object(p.a)(we,2),Ae=ke[0],Ce=ke[1],Se=Object(c.useState)(""),Pe=Object(p.a)(Se,2),Ee=Pe[0],Ie=Pe[1],De=Object(c.useState)(""),Re=Object(p.a)(De,2),Le=Re[0],Fe=Re[1],Me=Object(c.useState)(""),Te=Object(p.a)(Me,2),Be=Te[0],Ue=Te[1],He=Object(c.useState)(""),Ge=Object(p.a)(He,2),We=Ge[0],qe=Ge[1],Xe=Object(c.useState)([]),Je=Object(p.a)(Xe,2),Ke=Je[0],Qe=Je[1],Ze=Object(c.useState)(!1),et=Object(p.a)(Ze,2),tt=et[0],at=et[1],nt=Object(c.useState)({}),ct=Object(p.a)(nt,2),rt=ct[0],st=ct[1],lt=new URLSearchParams(N).get("id"),it=ee();Object(c.useEffect)((function(){Kn(it,O,Ve.a,y,ye)}),[y,O,it]),Object(c.useEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(t){var a,n,c,r,s,l,i,o,u,j,b,p,h,v,x;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ot("loadPage",!0),Q(!1),ie(!1),be(!1),e.next=7,$c(t);case 7:if(!(null===(s=e.sent)||void 0===s?void 0:s.error)){e.next=10;break}return e.abrupt("return",ye(null===s||void 0===s?void 0:s.data,"error"));case 10:if(null!==(null===s||void 0===s?void 0:s.data)){e.next=14;break}return ye("Loan Not Found","error"),O.push("/pages/loanMan"),e.abrupt("return");case 14:return l=null===s||void 0===s||null===(a=s.data)||void 0===a||null===(n=a.loanApp)||void 0===n?void 0:n.customer_id,e.next=17,On(l);case 17:if(!(null===(i=e.sent)||void 0===i?void 0:i.error)){e.next=20;break}return e.abrupt("return",ye(null===i||void 0===i?void 0:i.message,"error"));case 20:if(null!==(null===i||void 0===i?void 0:i.result)){e.next=24;break}return ye("Customer Not Found","error"),O.push("/pages/loanMan"),e.abrupt("return");case 24:return o=null===s||void 0===s||null===(c=s.data)||void 0===c||null===(r=c.loanApp)||void 0===r?void 0:r.id,e.next=27,lr(o);case 27:if(!(null===(u=e.sent)||void 0===u?void 0:u.error)){e.next=30;break}return e.abrupt("return",ye(null===u||void 0===u?void 0:u.message,"error"));case 30:if(null!==u.data){e.next=33;break}return ye("LoanScore Not Found","error"),e.abrupt("return");case 33:return e.next=35,ir(o);case 35:return j=e.sent,console.log(j),e.next=39,or(o);case 39:if(!(null===(b=e.sent)||void 0===b?void 0:b.error)){e.next=42;break}return e.abrupt("return",ye(null===b||void 0===b?void 0:b.message,"error"));case 42:if(null!==(null===b||void 0===b?void 0:b.data)){e.next=45;break}return ye("Files Not Found","error"),e.abrupt("return");case 45:return D((function(e){return Object(m.a)(Object(m.a)(Object(m.a)({},e),s.data),{},{loanScore:null===u||void 0===u?void 0:u.data,adminLoanScore:null===j||void 0===j?void 0:j.data,fileUpload:null===b||void 0===b?void 0:b.data})})),S((function(e){return Object(m.a)(Object(m.a)({},e),null===i||void 0===i?void 0:i.result)})),e.next=49,er();case 49:p=e.sent,h=ue(),(v=[]).push(h),console.log(v),x=h.replace(/,/g,""),p.data.forEach((function(e){e.code===x&&ve(e.workFlowLevel)})),ot("loadPage",!1),e.next=62;break;case 59:e.prev=59,e.t0=e.catch(0),_(e.t0,ye,(function(){return ot("userFull",!1)}));case 62:case"end":return e.stop()}}),e,null,[[0,59]])})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(lt)}),[_,O]),Object(c.useEffect)((function(){I.loanApp.baseInfoValues&&I.loanApp.baseInfoValues.forEach((function(e){console.log(e.value),e.baseInfo.name.includes("maritalStatus")&&Ne(e.value),e.baseInfo.name.includes("residentialAddress")&&Ce(e.value),e.baseInfo.name.includes("lengthOfStayAtAddress")&&Ie(e.value),e.baseInfo.name.includes("engagingBusiness")&&Fe(e.value),e.baseInfo.name.includes("yearsInBusiness")&&Ue(e.value),e.baseInfo.name.includes("businessAddress")&&qe(e.value)}))}),[I.loanApp.baseInfoValues]);var ot=function(e,t){return Y((function(a){return Object(m.a)(Object(m.a)({},a),{},Object(b.a)({},e,t))}))},ut=I.loanApp.loanTotalScore&&Array.from(new Set(I.loanApp.loanTotalScore.map((function(e){return"OverAll"===e.score_type?e.totalScore:0})))),dt=ut&&ut.length>0?ut[1]:0,jt=I.loanApp.loanTotalScore&&Array.from(new Set(I.loanApp.loanTotalScore.map((function(e){return"System"===e.score_type?e.totalScore:0})))),bt=jt&&jt.length>0?jt[0]:0,mt=I.loanApp.loanTotalScore&&Array.from(new Set(I.loanApp.loanTotalScore.map((function(e){return"Admin"===e.score_type?e.totalScore:0})))),pt=mt&&mt.length>0?mt[1]:0;console.log(I);var ht=function(){I.loanApp.baseInfoValues&&I.loanApp.baseInfoValues.length;var e=[];I.fileUpload&&I.fileUpload.forEach((function(t){e.push(t.fileName);var a=Object(_e.a)(new Set(e));Qe(a),console.log(Ke)}))},Ot=I.name.split(" ");console.log(Oe,I.loanApp.workFlowLevel);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("header",{children:[Object(n.jsxs)("div",{children:[Object(n.jsxs)("h1",{children:[Object(n.jsx)("button",{onClick:function(e){return O.goBack()},className:"btn btn-primary back-btn",children:Object(n.jsx)(da,{})}),"Loan Application Details"]}),Object(n.jsxs)("nav",{children:[Object(n.jsx)("a",{className:"all"===F?"active":"",onClick:function(e){return M("all")},children:"Overview"}),Object(n.jsx)("a",{className:"loan-appraisal-scoring"===F?"active":"",onClick:function(e){M("loan-appraisal-scoring"),ht()},children:"Loan appraisal scoring"}),Object(n.jsx)("a",{className:"documents"===F?"active":"",onClick:function(e){M("documents"),ht()},children:"Documents"})]})]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"small-admin-details",children:[Object(n.jsx)("img",{src:ze,alt:""}),x||"NPF Admin",Object(n.jsx)("i",{className:"arrow down"})]}),Object(n.jsxs)("div",{className:"some-container",children:[Object(n.jsx)("button",{className:"btn approve-loan-btn ".concat(V.approveApplication?"loading disabled":""),onClick:function(){at((function(e){return!e}));var e={status:"REJECT",narrative:"",isWithinLimit:!0,email:I.email,firstname:Ot[0],lastname:Ot[1],productName:I.loanApp.loanProduct.name,loanAppId:I.loan_app_id};st(e)},children:V.approveApplication?Object(n.jsx)(U,{className:"rotating"}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(gr,{})," Add Comment"]})}),Object(n.jsx)(cs,{commentModalBtn:tt,setCommentModalBtn:at,commentData:rt}),"AUDIT"!==f&&Object(n.jsx)("button",{disabled:!(Oe>=I.loanApp.workFlowLevel),className:"btn approve-loan-btn ".concat(V.approveApplication?"loading disabled":""),onClick:I.loanApp.workFlowLevel>1?function(){Q((function(e){return!e}));var e={status:"APPROVE",narrative:"",isWithinLimit:!0,email:I.email,firstname:Ot[0],lastname:Ot[1],productName:I.loanApp.loanProduct.name,loanAppId:I.loan_app_id,limit:I.loanApp.loanProduct.limit,maxTerm:I.loanApp.loanProduct.maxTerm,applicationDate:I.loanApp.createdAt,customerId:C.id,work_flow_level:Oe-1};ae(e),console.log(te)}:function(){be((function(e){return!e}));var e={loanAppId:I.loan_app_id};ae(e)},children:V.approveApplication?Object(n.jsx)(U,{className:"rotating"}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)($e,{})," ",I.loanApp.workFlowLevel>1?"Approve":"Accept"]})}),Object(n.jsx)($r,{approveModalBtn:K,setApproveModalBtn:Q,approveData:te,setApproveData:ae}),Object(n.jsx)(ns,{acceptLoanModalBtn:je,setAcceptLoanModalBtn:be,approveData:te}),"AUDIT"!==f&&"loan-appraisal-scoring"===F&&!pt&&Object(n.jsx)("button",{disabled:!(Oe>=I.loanApp.workFlowLevel),className:"btn accept-loan-btn ".concat(V.acceptApplication?"loading disabled":""),onClick:function(){return"documents"===F?h(!1):s(!0)},children:V.acceptApplication?Object(n.jsx)(U,{className:"rotating"}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)($e,{})," Admin Score"]})}),"AUDIT"!==f&&Object(n.jsx)("button",{disabled:!(Oe>=I.loanApp.workFlowLevel),className:"btn reject-loan-btn ".concat(V.rejectApplication?"loading disabled":""),onClick:function(){ie((function(e){return!e}));var e={status:"REJECT",narrative:"",isWithinLimit:!0,email:I.email,firstname:Ot[0],lastname:Ot[1],productName:I.loanApp.loanProduct.name,loanAppId:I.loan_app_id};ae(e)},children:V.rejectApplication?Object(n.jsx)(U,{className:"rotating"}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(sa,{})," Decline"]})}),Object(n.jsx)(es,{narrativeModalBtn:se,setNarrativeModalBtn:ie,approveData:te})]})]})]}),V.loadPage?Object(n.jsx)("div",{className:"searching-block",children:Object(n.jsx)("div",{className:"svg-holder",children:Object(n.jsx)(U,{className:"rotating"})})}):Object(n.jsxs)("main",{className:"loan-inprocess-page",children:[V.userFull&&Object(n.jsx)("div",{className:"searching-block",children:Object(n.jsx)("div",{className:"svg-holder",children:Object(n.jsx)(U,{className:"rotating"})})}),!V.userFull&&"all"===F&&Object(n.jsxs)("div",{className:"customer-details row animated fadeIn delay-05s",children:[Object(n.jsxs)("div",{className:"loan-details col",children:[Object(n.jsx)("div",{className:"details-header",children:"Loan Details"}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-12 mb-1",children:"Requested by:"}),Object(n.jsx)("div",{className:"col",children:I.name})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-12 mb-1",children:"Loan Type:"}),Object(n.jsx)("div",{className:"col",children:I.loanApp.criteria_purpose})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-12 mb-1",children:"Amount Requested:"}),Object(n.jsxs)("div",{className:"col",children:["\u20a6 ",H()(I.loanApp.amount).format("0,0")]})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-12 mb-1",children:"Amount Offered:"}),Object(n.jsxs)("div",{className:"col",children:["\u20a6 ",H()(I.loanApp.approvedAmount).format("0,0")]})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-12 mb-1",children:"Tenor Requested:"}),Object(n.jsxs)("div",{className:"col",children:[I.loanApp.requested_loan_tenure," Months"]})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-12 mb-1",children:"Tenor Offered:"}),Object(n.jsxs)("div",{className:"col",children:[I.loanApp.approvedTenure," Months"]})]})]}),Object(n.jsxs)("div",{className:"personal-details col",children:[Object(n.jsx)("div",{className:"details-header",children:"Personal Details"}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Customer Name:"}),Object(n.jsx)("div",{className:"col",children:I.name})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Customer Email:"}),Object(n.jsx)("div",{className:"col",children:I.email})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Customer phone:"}),Object(n.jsx)("div",{className:"col",children:I.phone})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Date of birth:"}),Object(n.jsx)("div",{className:"col",children:Ye()(C.dob).format("DD/MM/YYYY")})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Marital Status:"}),Object(n.jsx)("div",{className:"col",children:ge||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Residential Address:"}),Object(n.jsx)("div",{className:"col",children:Ae||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Length of Stay in Address:"}),Object(n.jsx)("div",{className:"col",children:Ee||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Business Engaged in:"}),Object(n.jsx)("div",{className:"col",children:Le||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Years in Business:"}),Object(n.jsx)("div",{className:"col",children:Be||"N/A"})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-5",children:"Business Address:"}),Object(n.jsx)("div",{className:"col",children:We||"N/A"})]})]}),Object(n.jsx)("div",{className:"col",children:Object(n.jsxs)("div",{className:"text-center total-credit-score-div color-sec-green mt-5",children:[Object(n.jsx)("div",{className:"svg-holder",children:Object(n.jsx)(is.a,{value:dt||0,text:"".concat(dt||0,"%"),styles:Object(is.b)({textColor:dt<50?"red":"#2DBE7E",pathColor:dt<50?"red":"#2DBE7E"})})}),Object(n.jsx)("p",{className:"font-weight-bold mb-5",style:{fontSize:"24px"},children:"Total Credit Score"}),Object(n.jsx)("p",{className:"font-weight-bold mb-5",style:{fontSize:"20px",color:bt<50?"red":"#2DBE7E"},children:"System Score: ".concat(bt||0)}),Object(n.jsx)("p",{className:"font-weight-bold mb-5",style:{fontSize:"20px",color:Number(pt)<50?"red":"#2DBE7E"},children:"Admin Score: ".concat(pt||0)}),Object(n.jsx)("p",{className:"mb-5",children:"Click the button below to individual scoring details for loan application"}),Object(n.jsx)("p",{children:Object(n.jsxs)("button",{className:"btn export-ifrs-btn",onClick:function(e){return M("loan-appraisal-scoring")},children:["View Score"," ",Object(n.jsx)("span",{className:"pl-2",children:Object(n.jsx)(w,{})})]})})]})})]}),!V.userFull&&"loan-appraisal-scoring"===F&&Object(n.jsx)("div",{className:"appraisal-scoring-page row animated fadeIn delay-05s",children:!0===r?Object(n.jsx)(os,{adminWorkFlowLevel:Oe,loan:I}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"col",children:[Object(n.jsxs)("div",{className:"text-center total-credit-score-div color-sec-green mt-5",children:[Object(n.jsx)("div",{className:"svg-holder",children:Object(n.jsx)(is.a,{value:dt||0,text:"".concat(dt||0,"%"),styles:Object(is.b)({textColor:dt<50?"red":"#2DBE7E",pathColor:dt<50?"red":"#2DBE7E"})})}),Object(n.jsx)("p",{className:"font-weight-bold mb-5",style:{fontSize:"24px"},children:"Total Credit Score"}),Object(n.jsx)("p",{className:"font-weight-bold mb-5",style:{fontSize:"20px",color:bt<50?"red":"#2DBE7E"},children:"System Score: ".concat(bt||0)}),Object(n.jsx)("p",{className:"font-weight-bold mb-5",style:{fontSize:"20px",color:Number(pt)<50?"red":"#2DBE7E"},children:"Admin Score: ".concat(pt||0)}),Object(n.jsx)("p",{})]}),Object(n.jsx)("div",{className:"loan-details col",children:Object(n.jsxs)("div",{className:"mb-5",children:[Object(n.jsx)("div",{className:"details-header",children:"Loan Requirement Score Breakdown"}),I.loanScore.map((function(e){var t=e.id,a=e.requirement,c=e.value,r=e.score;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-6 mb-1",children:[a,":"]}),Object(n.jsxs)("div",{className:"col",children:[c," \xa0\xa0",Object(n.jsxs)("span",{className:"color-sec-green",children:["Score: ",null===r?"N/A":"".concat(r,"%")]})]},e.id)]},t)})}))]})})]}),Object(n.jsx)("div",{className:"loan-details col",children:Object(n.jsxs)("div",{className:"mb-5",children:[Object(n.jsx)("div",{className:"details-header",children:" Admin Score"}),I.adminLoanScore.length>0?I.adminLoanScore.map((function(e){var t=e.id,a=e.requirement,c=e.value,r=e.score;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-6 mb-1",children:[a,":"]}),Object(n.jsxs)("div",{className:"col",children:[c," \xa0\xa0",Object(n.jsxs)("span",{className:"color-sec-green",children:["Score: ",null===r?"N/A":"".concat(r,"%")]})]},e.id)]},t)})})):I.loanApp.loanProduct.loanProductCategory.criterias.map((function(e){var t=e.id,a=e.requirements,c=e.scoreType;return Object(n.jsx)(n.Fragment,{children:"Behavioural"===c?Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-6 mb-1",children:[a,":"]}),Object(n.jsxs)("div",{className:"col",children:["\xa0\xa0",Object(n.jsx)("span",{className:"color-sec-green",children:"Score: No Score"})]})]},t):""})}))]})})]})}),!V.userFull&&"documents"===F&&Object(n.jsx)("div",{className:"customer-documents-page animated fadeIn delay-05s",children:!0===u?Object(n.jsx)(ms,{loan:I}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"row",style:{gap:"140px"},children:(console.log(Ke),I.fileUpload&&Ke.length>0&&Ke.map((function(e,t){return Object(n.jsxs)("div",{className:"col-3 document-card",children:[Object(n.jsx)("a",{href:e,target:"_blank",rel:"noreferrer",children:Object(n.jsx)("img",{src:e,alt:""})}),Object(n.jsxs)("div",{className:"document-info",children:[Object(n.jsx)("span",{children:Object(n.jsx)(Oa,{})}),Object(n.jsx)("b",{children:e.includes("guarantor")?"Guarantor's Form ".concat(t+1):"Criteria File ".concat(t-1)}),Object(n.jsxs)("div",{className:"scored-div",children:[Object(n.jsx)($e,{})," Scored: YES"]})]})]},t)})))})})}),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(ss,{loanAppId:I.loan_app_id})})]})]})},hs=function(){return Object(n.jsx)(ps,{})},Os=function(e){var t=Object(o.g)(),a=Object(c.useState)(Array(5).fill("a").map((function(e,t){return{date:new Date,deferDate:new Date,totalDue:"",totalCap:"",principal:"",interest:"",charge:"",tax:"",totalPymt:"",outstanding:""}}))),r=Object(p.a)(a,2),s=r[0],l=r[1],i=pe(),u=Object(c.useState)(5),b=Object(p.a)(u,2),m=b[0],h=b[1],O=Jn(i),v=Object(c.useState)(1),x=Object(p.a)(v,2),f=x[0],g=x[1],N=Object(c.useState)(!1),w=Object(p.a)(N,2),y=w[0],_=w[1];e.userId;Object(c.useEffect)((function(){k(),console.log(e)}),[]);var k=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.prev=1,"AA193027MFH4",e.next=5,nr("AA193027MFH4");case 5:if(n=e.sent,_(!1),console.log(n),!n.error){e.next=10;break}return e.abrupt("return",ye(n.message,"error"));case 10:if(n.data.status){e.next=12;break}return e.abrupt("return",ye(n.data.message,"error"));case 12:l(null===(t=n.data)||void 0===t||null===(a=t.result)||void 0===a?void 0:a.repayments),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),O(e.t0,ye,(function(){return _(!1)}));case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("header",{children:[Object(n.jsx)("div",{children:Object(n.jsxs)("h1",{children:[Object(n.jsx)("button",{onClick:function(e){return t.goBack()},className:"btn btn-primary back-btn",children:Object(n.jsx)(da,{})}),"Customer Repayment Schedule & History"]})}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"small-admin-details",children:[Object(n.jsx)("img",{src:ze,alt:""}),"NPF Admin",Object(n.jsx)("i",{className:"arrow down"})]}),Object(n.jsx)("div",{className:"some-container"})]})]}),Object(n.jsxs)("main",{className:"customers-page",children:[(y||s&&0===s.length)&&Object(n.jsxs)("div",{className:"searching-block",children:[Object(n.jsx)("div",{className:"svg-holder "+(y?"":"not-loading"),children:y?Object(n.jsx)(U,{className:"rotating"}):Object(n.jsx)(ta,{})}),!y&&Object(n.jsx)("p",{children:"NOTHING FOUND!"})]}),!y&&0!==s.length&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"color-dark-text-blue",children:["Entries per page:"," ",Object(n.jsx)("div",{className:"form-group",style:{display:"inline-block"},children:Object(n.jsxs)("select",{className:"form-control",onChange:function(e){h(e.target.value),g(1)},value:m,children:[Object(n.jsx)("option",{value:5,children:"5"}),Object(n.jsx)("option",{value:10,children:"10"}),Object(n.jsx)("option",{value:20,children:"20"}),Object(n.jsx)("option",{value:50,children:"50"}),Object(n.jsx)("option",{value:100,children:"100"}),Object(n.jsx)("option",{value:150,children:"150"}),Object(n.jsx)("option",{value:200,children:"200"})]})})]}),Object(n.jsxs)("table",{className:"table table-borderless",children:[Object(n.jsx)("thead",{className:"color-dark-text-blue",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Date"}),Object(n.jsx)("th",{scope:"col",children:"Defer Date"}),Object(n.jsx)("th",{scope:"col-3",children:"Total Due"}),Object(n.jsx)("th",{scope:"col",children:"Total Cap"}),Object(n.jsx)("th",{scope:"col",children:"Principal"}),Object(n.jsx)("th",{scope:"col",children:"Interest"}),Object(n.jsx)("th",{scope:"col",children:"Charge"}),Object(n.jsx)("th",{scope:"col-3",children:"Tax"}),Object(n.jsx)("th",{scope:"col",children:"Total Pymt"}),Object(n.jsx)("th",{scope:"col",children:"Outstanding"})]})}),Object(n.jsxs)("tbody",{children:[Object(n.jsx)("tr",{className:"spacer"}),s&&s.map((function(e,t){var a=t+1;return a<(f-1)*m+1||a>f*m?null:Object(n.jsxs)(c.Fragment,{children:[Object(n.jsxs)("tr",{className:"billing-history-card",children:[Object(n.jsx)("td",{className:"",children:Ye()(e.date).format("DD/MM/YYYY")}),Object(n.jsx)("td",{className:"",children:Ye()(e.deferDate).format("DD/MM/YYYY")}),Object(n.jsx)("td",{className:"",children:ge(e.totalDue)}),Object(n.jsx)("td",{className:"",children:e.totalCap}),Object(n.jsx)("td",{className:"",children:ge(e.principal)}),Object(n.jsx)("td",{className:"",children:ge(e.interest)}),Object(n.jsx)("td",{className:"",children:ge(e.charge)}),Object(n.jsx)("td",{className:"",children:ge(e.tax)}),Object(n.jsx)("td",{className:"color-sec-green",children:ge(e.totalPymt)}),Object(n.jsxs)("td",{className:"color-red",children:["-",ge(e.outstanding)]})]}),t!==s.length-1&&Object(n.jsx)("tr",{className:"spacer"})]},t)}))]})]}),Object(n.jsx)("div",{className:"audit-history-footer",children:Object(n.jsx)(Zn.a,{pageCount:Math.ceil(s.length/m)||1,marginPagesDisplayed:2,pageRangeDisplayed:3,forcePage:f-1,onPageChange:function(e){return g(e.selected+1)},containerClassName:"pagination-btns",activeLinkClassName:"active",pageLinkClassName:"btn",previousLabel:Object(n.jsx)(Kt,{}),previousLinkClassName:"btn icon",nextLabel:Object(n.jsx)(Kt,{style:{transform:"rotateY(180deg)"}}),nextLinkClassName:"btn icon",disabledClassName:"disabled"})})]})]})]})},vs=a(223),xs=a.n(vs),fs=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"/api/v1",REACT_APP_ACCESS_STORAGE_TOKEN:"admin_token",REACT_APP_API_PROXY_URL:"https://ibank.npfmicrofinancebank.com",REACT_APP_LOAN_API_BASE_URL:"/api/loan/v1",REACT_APP_ACCESS_LOAN_STORAGE_TOKEN:"loan_admin_token",REACT_APP_LOAN_API_PROXY_URL:"http://23.100.7.199:3001",REACT_APP_SECRET_KEY:"LFVFJ1V8N7DOQAJ9LF8JVCX0KMWIXI90T21EN0NX1XCGF22HR0CR9CE1KH00FXFTIR9MM1RAY2P0LT7OF7CAFQKCIYS8OTTXJCS3I0T9D06LD5NF0XIL0YK8HC8UUGCDSYNSF6V0S8JX54PKN8JDBWX1TV0IGJIQTNIUXEH7D3L1Y0V0BW9AUUER5KR2PI4VYSUAS7J7",REACT_APP_ADMIN_ROLE:"admin_role",REACT_APP_TRANSFER_LIMIT:"5000000",REACT_APP_LOAN_WEB_PROXY_URL:"http://23.100.7.199:3001",REACT_APP_LOAN_ROLE:"loan_role",REACT_APP_BRANCH_ID:"branch_id",REACT_APP_ADMIN_EMAIL:"admin_email",REACT_APP_ADMIN_NAME:"admin_name",REACT_APP_HQ_ID:"7",REACT_APP_WQ_ID:"8",REACT_APP_NQ_ID:"9",REACT_APP_EQ_ID:"11"}),gs=fs.REACT_APP_LOAN_API_PROXY_URL,Ns=fs.REACT_APP_SECRET_KEY,ws=function(e){var t=Object(o.g)(),a=pe(),r=Object(c.useCallback)((function(e,t,n){return Jn(a)(e,t,n)}),[a]),s=Object(c.useState)(!1),l=Object(p.a)(s,2),i=l[0],u=l[1],b=Object(c.useState)(""),m=Object(p.a)(b,2),h=m[0],O=m[1],v=Object(c.useState)(""),x=Object(p.a)(v,2),f=x[0],g=x[1],N=new URLSearchParams(Object(o.h)().search),w=Object(c.useMemo)((function(){return N.get("customer_id")}),[N]);Object(c.useEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(a){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,Me(a);case 4:if(n=e.sent,u(!1),c="User not found"!==n.message,ye(c?"Successful":n.message,c?"success":"error"),c&&n.token){e.next=11;break}return t.push("/loanMan/new/selectCustomer"),e.abrupt("return");case 11:n.token&&O(n.token),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),r(e.t0,ye,(function(){return u(!1)}));case 18:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(w)}),[w,r,t]),Object(c.useEffect)((function(){h&&y(h)}),[h]);var y=function(e){var t=xs.a.AES.encrypt(e,Ns).toString(),a="".concat(gs,"/apply/loans?auth=").concat(t);g(a)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("header",{children:[Object(n.jsx)("div",{children:Object(n.jsxs)("h1",{children:[Object(n.jsx)("button",{onClick:function(e){return t.goBack()},className:"btn btn-primary back-btn",children:Object(n.jsx)(Xe,{})}),"New Loan Application"]})}),Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"small-admin-details",children:[Object(n.jsx)("img",{src:ze,alt:""}),"NPF Admin",Object(n.jsx)("i",{className:"arrow down"})]})})]}),Object(n.jsxs)("main",{className:"customers-page",children:[(i||!h)&&Object(n.jsxs)("div",{className:"searching-block",children:[Object(n.jsx)("div",{className:"svg-holder "+(i?"":"not-loading"),children:i?Object(n.jsx)(U,{className:"rotating"}):Object(n.jsx)(ta,{})}),!i&&Object(n.jsx)("p",{children:"NOTHING FOUND!"})]}),!i&&!!f&&Object(n.jsx)("div",{className:"customer-details",style:{backgroundColor:"#f8fafd"},children:Object(n.jsx)("div",{className:"",children:Object(n.jsx)("iframe",{src:f,width:"100%",height:"749px",style:{border:"none"},title:"Loan Application"})})})]})]})},ys=function(e){var t=Object(o.i)().path,a=Object(o.g)(),r=pe(),s=Object(c.useCallback)((function(e,t,a){return Jn(r)(e,t,a)}),[r]),l=Object(c.useState)((function(){return Array(0).fill("").map((function(e,t){return{id:"40".concat(t),bvnhash:"",firstname:"",lastname:"",middlename:null,phone:"",simswapstatus:null,otpstatus:null,email:"",dob:"1999-06-30T00:00:00.000Z",pob:null,bucket:"npf-mfb",photo_location:"",photo_key:"40/photo/livelinesscheck.png",photo_number:null,video_location:"",video_key:"",signature_location:"",signature_key:"",document_location:"",document_key:"",document_number:"",document_type_id:2,documentschecked:null,isnewbankcustomer:null,document_issue_date:"",document_expiry_date:"",isotpverified:!0,livelinesschecked:null,salary_officer:!1,force_number:"N/A",ippis_number:"N/A",address:"N/A",has_pin:!0,createdAt:"2020-11-04T15:11:59.904Z",updatedAt:"2020-11-06T09:11:40.700Z",user:62,accountNumber:"0209525729",bvn:"",accountStatus:0!==t&&2!==t,liveliness:0!==t&&2!==t,PND:!0,signup_incomplete:!1}}))})),i=Object(p.a)(l,2),u=i[0],h=i[1],O=Object(c.useState)({search:""}),v=Object(p.a)(O,2),x=v[0],f=v[1],g=Object(c.useState)(1),N=Object(p.a)(g,2),w=N[0],y=N[1],_=Object(c.useState)(!1),k=Object(p.a)(_,2),A=k[0],C=k[1],S=Object(c.useState)(5),P=Object(p.a)(S,2),E=P[0],I=P[1],D=Object(c.useRef)(!1),R=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(1),t){e.next=6;break}return D.current=!1,C(!1),h([]),e.abrupt("return");case 6:return D.current=!0,C(!0),e.prev=8,e.next=11,hn(t);case 11:if(a=e.sent,C(!1),!a.error){e.next=15;break}return e.abrupt("return",ye(a.message,"error"));case 15:D.current&&h(a.result),D.current=!1,e.next=22;break;case 19:e.prev=19,e.t0=e.catch(8),s(e.t0,ye,(function(){return C(!1)}));case 22:case"end":return e.stop()}}),e,null,[[8,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("header",{children:[Object(n.jsx)("div",{children:Object(n.jsxs)("h1",{children:[Object(n.jsx)("button",{onClick:function(e){return a.goBack()},className:"btn btn-primary back-btn",children:Object(n.jsx)(da,{})}),"Select Customer for New Loan"]})}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"small-admin-details",children:[Object(n.jsx)("img",{src:ze,alt:""}),"NPF Admin",Object(n.jsx)("i",{className:"arrow down"})]}),Object(n.jsx)("div",{className:"some-container",children:Object(n.jsxs)("div",{className:"search-div",children:[Object(n.jsx)("label",{htmlFor:"search",children:Object(n.jsx)(rt,{})}),Object(n.jsx)("input",{type:"search",className:"form-control",name:"search",id:"search","aria-label":"Search for customers",value:x.search,onChange:function(e){var t=e.target,a=t.name,n=t.value;f((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(b.a)({},a,"search"===a?n.trim():n))})),"search"===a&&R(n)}})]})})]})]}),Object(n.jsxs)("main",{className:"customers-page",children:[(A||0===u.length)&&Object(n.jsxs)("div",{className:"searching-block",children:[Object(n.jsx)("div",{className:"svg-holder "+(A?"":"not-loading"),children:A?Object(n.jsx)(U,{className:"rotating"}):Object(n.jsx)(ta,{})}),!A&&Object(n.jsx)("p",{children:x.search?"NOTHING FOUND!":"You can search for the customer with the top right search bar"})]}),!A&&0!==u.length&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"color-dark-text-blue",children:["Customers per page:"," ",Object(n.jsx)("div",{className:"form-group",style:{display:"inline-block"},children:Object(n.jsxs)("select",{className:"form-control",onChange:function(e){I(e.target.value),y(1)},value:E,children:[Object(n.jsx)("option",{value:5,children:"5"}),Object(n.jsx)("option",{value:10,children:"10"}),Object(n.jsx)("option",{value:20,children:"20"}),Object(n.jsx)("option",{value:50,children:"50"}),Object(n.jsx)("option",{value:100,children:"100"}),Object(n.jsx)("option",{value:150,children:"150"}),Object(n.jsx)("option",{value:200,children:"200"})]})})]}),Object(n.jsxs)("table",{className:"table table-borderless table-hover",children:[Object(n.jsx)("thead",{className:"color-dark-text-blue",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Customer"}),Object(n.jsx)("th",{scope:"col",children:"BVN"}),Object(n.jsx)("th",{scope:"col",children:"Phone"}),Object(n.jsx)("th",{scope:"col",children:"Account Status"}),Object(n.jsx)("th",{scope:"col",children:"Facial Liveliness Check"}),Object(n.jsx)("th",{scope:"col",children:"Action"})]})}),Object(n.jsxs)("tbody",{onClick:function(e){var n=e.target;if(n.classList.contains("action-btn")){var c=n.dataset.userId;a.push("".concat(t.replace("/selectCustomer",""),"?customer_id=").concat(c))}},children:[Object(n.jsx)("tr",{className:"spacer"}),u.map((function(e,t){var a=t+1;if(a<(w-1)*E+1||a>w*E)return null;var r=!e.PND,s=e.signup_incomplete;return Object(n.jsxs)(c.Fragment,{children:[Object(n.jsxs)("tr",{className:"customer-card",children:[Object(n.jsx)("td",{className:"major-details",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"customer-img",children:Object(n.jsx)("img",{src:e.photo_location||ze,className:"",alt:""})}),Object(n.jsxs)("div",{className:"col",children:[Object(n.jsxs)("div",{className:"name font-weight-bold",children:[e.firstname," ",e.lastname,s&&" (Incomplete)"]}),Object(n.jsx)("div",{className:"email font-weight-light",children:e.email})]})]})}),Object(n.jsx)("td",{className:"bvn font-weight-light",children:e.bvnhash||"N/A"}),Object(n.jsxs)("td",{className:"phone font-weight-light",children:["(234) ",e.phone.replace("234","0")]}),Object(n.jsx)("td",{children:Object(n.jsx)("span",{className:"account-status ".concat(r?"active":"pending"),children:r?"ACTIVE":"PND"})}),Object(n.jsx)("td",{children:Object(n.jsxs)("span",{className:"liveliness ".concat(e.video_location?"provided":""),children:[e.video_location?Object(n.jsx)($e,{}):Object(n.jsx)(Xe,{}),e.video_location?" P":"Not p","rovided"]})}),Object(n.jsx)("td",{children:Object(n.jsx)("button",{"data-user-id":e.id,className:"btn btn-success action-btn",children:"Continue"})})]}),t!==u.length-1&&Object(n.jsx)("tr",{className:"spacer"})]},"".concat(e.user," + ").concat(t))}))]})]}),Object(n.jsx)("div",{className:"audit-history-footer",children:Object(n.jsx)(Zn.a,{pageCount:Math.ceil(u.length/E)||1,marginPagesDisplayed:2,pageRangeDisplayed:3,forcePage:w-1,onPageChange:function(e){return y(e.selected+1)},containerClassName:"pagination-btns",activeLinkClassName:"active",pageLinkClassName:"btn",previousLabel:Object(n.jsx)(Kt,{}),previousLinkClassName:"btn icon",nextLabel:Object(n.jsx)(Kt,{style:{transform:"rotateY(180deg)"}}),nextLinkClassName:"btn icon",disabledClassName:"disabled"})})," "]})]})]})},_s=function(e){var t=Object(o.i)().path;return Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.b,{exact:!0,path:"".concat(t),component:ws}),Object(n.jsx)(o.b,{path:"".concat(t,"/selectCustomer"),component:ys})]})},ks=function(e){var t=Object(o.i)().path;return Object(n.jsx)("div",{id:"loanMan",children:Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.b,{exact:!0,path:t,component:br}),Object(n.jsx)(o.b,{exact:!0,path:"".concat(t,"/customer"),component:ls}),Object(n.jsx)(o.b,{exact:!0,path:"".concat(t,"/inProcess"),component:hs}),Object(n.jsx)(o.b,{path:"".concat(t,"/new"),component:_s}),Object(n.jsx)(o.b,{exact:!0,path:"".concat(t,"/schedule"),component:Os})]})})},As=function(e){var t=Object(c.useState)(!1),a=Object(p.a)(t,2),r=a[0],s=a[1],l=Object(c.useState)(!1),i=Object(p.a)(l,2),o=i[0],u=i[1],h=Object(c.useState)(!1),v=Object(p.a)(h,2),x=v[0],f=v[1],g=Object(c.useState)({oldPassword:!1,newPassword:!1,confirmPassword:!1}),N=Object(p.a)(g,2),y=N[0],_=N[1],k=Object(c.useState)({oldPassword:"",newPassword:"",confirmPassword:""}),A=Object(p.a)(k,2),C=A[0],P=A[1],E=Object(c.useState)(!1),I=Object(p.a)(E,2),D=I[0],R=I[1],L=Object(c.useState)(""),M=Object(p.a)(L,2),T=M[0],B=M[1];Object(c.useEffect)((function(){var e=document.querySelector("body");e.classList.remove("modal-open"),e.style.paddingRight="";var t=document.querySelector(".modal-backdrop");t&&t.remove()}),[]);var V=function(e){"new"===e?s((function(e){return!e})):"confirm"===e?f((function(e){return!e})):u((function(e){return!e}))},Y=function(e){var t=e.target,a=t.name,n=t.value;B(""),P((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(b.a)({},a,n))}))},z=function(e){var t=e.target.name;_((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(b.a)({},t,!0))}))},H=function(e){var t=e.target.name;_((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(b.a)({},t,!1))}))},G=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c,r,s,l,i,o,u,j,b,m,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),R(!0),B(""),e.prev=3,e.next=6,Fe(C.oldPassword,C.newPassword);case 6:if(a=e.sent,R(!1),!a.error){e.next=10;break}return e.abrupt("return",B(a.message));case 10:ye(a.message,"success",(function(){P({oldPassword:"",newPassword:"",confirmPassword:""})})),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(3),R(!1),p=(null===e.t0||void 0===e.t0||null===(n=e.t0.toLowerCase)||void 0===n||null===(c=(r=n.call(e.t0)).includes)||void 0===c?void 0:c.call(r,"unauth"))?"Unauthorized.":(null===e.t0||void 0===e.t0||null===(s=e.t0.message)||void 0===s||null===(l=s.toLowerCase)||void 0===l||null===(i=(o=l.call(s)).includes)||void 0===i?void 0:i.call(o,"network"))?"Network Error":(null===e.t0||void 0===e.t0||null===(u=e.t0.message)||void 0===u||null===(j=u.toLowerCase)||void 0===j||null===(b=(m=j.call(u)).includes)||void 0===b?void 0:b.call(m,"timeout"))?"Service Timeout, Try Again.":"Something went wrong!",B(p);case 18:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("article",{className:"animated fadeIn delay-05s",children:Object(n.jsx)("section",{className:"mx-auto",children:Object(n.jsx)("div",{className:"",children:Object(n.jsx)("div",{className:"reset-form-container login-form-container mx-auto",children:Object(n.jsxs)("form",{className:"mx-auto",onSubmit:G,children:[Object(n.jsxs)("div",{className:"form-header",children:[Object(n.jsx)("div",{className:"logo-holder",children:Object(n.jsx)("img",{src:O,alt:"logo"})}),Object(n.jsx)("p",{children:"Provide your old and new password to proceed."}),Object(n.jsx)("p",{className:"text-danger",children:"Password must be a minimum of 8 characters and contain at least 1 uppercase letter, 1 digit and 1 symbol."})]}),Object(n.jsxs)("div",{className:"form-group".concat(y.oldPassword?" input-focused":""),children:[Object(n.jsx)("label",{htmlFor:"oldPassword",children:"Old Password"}),Object(n.jsx)("input",{type:o?"text":"password",name:"oldPassword",id:"oldPassword",className:"form-control",required:!0,onBlur:H,onFocus:z,onChange:Y,value:C.oldPassword}),Object(n.jsx)("button",{type:"button",className:"show-password-btn1",onClick:function(){V("old")},children:o?Object(n.jsx)(F,{}):Object(n.jsx)(S,{})})]}),Object(n.jsxs)("div",{className:"mb-0 form-group".concat(y.newPassword?" input-focused":""),children:[Object(n.jsx)("label",{htmlFor:"newPassword",children:"New Password"}),Object(n.jsx)("input",{type:r?"text":"password",name:"newPassword",id:"newPassword",className:"form-control",required:!0,onBlur:H,onFocus:z,onChange:Y,value:C.newPassword}),Object(n.jsx)("button",{type:"button",className:"show-password-btn1",onClick:function(){V("new")},children:r?Object(n.jsx)(F,{}):Object(n.jsx)(S,{})})]}),Object(n.jsxs)("div",{className:"form-group".concat(y.confirmPassword?" input-focused":""),children:[Object(n.jsx)("label",{htmlFor:"password",children:"Confirm Password"}),Object(n.jsx)("input",{type:x?"text":"password",name:"confirmPassword",id:"confirmPassword",className:"form-control",required:!0,onBlur:H,onFocus:z,onChange:Y,value:C.confirmPassword}),Object(n.jsx)("button",{type:"button",className:"show-password-btn1",onClick:function(){V("confirm")},children:x?Object(n.jsx)(F,{}):Object(n.jsx)(S,{})})]}),T&&Object(n.jsx)("div",{className:"custom invalid-feedback mb-2",children:T}),Object(n.jsxs)("button",{disabled:!C.newPassword&&!C.confirmPassword&&!C.oldPassword||C.newPassword&&C.newPassword.toString()!==C.confirmPassword.toString(),className:"signin-btn btn",type:"submit",style:{padding:"25px 103px 25px 108px"},children:["Change Password",Object(n.jsx)("span",{className:"".concat(D?"loading":""),children:D?Object(n.jsx)(U,{className:"rotating"}):Object(n.jsx)(w,{})}),Object(n.jsx)("div",{className:"overlay-div"})]})]})})})})})};function Cs(){return(Cs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ss(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var Ps=c.createElement("path",{fillRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"});function Es(e,t){var a=e.title,n=e.titleId,r=Ss(e,["title","titleId"]);return c.createElement("svg",Cs({width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-chevron-right",fill:"currentColor",ref:t,"aria-labelledby":n},r),a?c.createElement("title",{id:n},a):null,Ps)}var Is=c.forwardRef(Es),Ds=(a.p,function(e){var t=pe(),a=le(),r=[{name:"Loan Management",path:"/loanMan",next:"LOAN OFFICER"===a?"settings":"customers",user:["LOAN OFFICER","AUDIT"]},{name:"Customer Accounts",path:"/customers",prev:"loanMan",next:"failedBillings",user:["CSO","AUDIT"]},{name:"Failed Billing History",path:"/failedBillings",prev:"customers",next:"AUDIT"===a?"settings":"eft",user:["CSO","SUPER ADMIN","AUDIT"]},{name:"Electronic Funds Transfer",path:"/eft",prev:"failedBillings",next:"AUDIT"===a?"helpDesk":"settings",user:["CSO","SUPER ADMIN"]},{name:"Settings",path:"/settings",prev:"AUDIT"===a?"failedBillings":"LOAN OFFICER"===a?"loanMan":"eft",next:"AUDIT"===a||"LOAN OFFICER"===a||"CSO"===a?"changePassword":"helpDesk",user:["CSO","SUPER ADMIN","LOAN OFFICER","AUDIT"]},{name:"Customer Management",path:"/helpDesk",prev:"settings",next:"changePassword",user:["SUPER ADMIN"]},{name:"Change Password",path:"/changePassword",prev:"AUDIT"===a||"LOAN OFFICER"===a||"CSO"===a?"settings":"helpDesk",next:"superAdmin",user:["CSO","SUPER ADMIN","LOAN OFFICER","AUDIT"]},{name:"Admin Management",path:"/superAdmin",prev:"changePassword",next:"auditLog",user:["SUPER ADMIN"]},{name:"Audit Logs",path:"/auditLog",prev:"superAdmin",user:["SUPER ADMIN","AUDIT"]}],s=Object(o.i)().url,l=Object(o.h)().pathname,u=Object(c.useState)(!1),d=Object(p.a)(u,2),j=d[0],b=d[1],m=Object(c.useState)(!1),h=Object(p.a)(m,2);h[0],h[1];return Object(n.jsxs)("div",{className:"side-panel",children:[Object(n.jsx)("div",{className:"side-panel-header",children:Object(n.jsx)("img",{className:"mx-auto d-block",src:O,alt:""})}),Object(n.jsx)("div",{className:"side-panel-items",children:r.map((function(e,a){var o=e.name,u=e.path,d=e.next,j=e.prev,b=e.user;return Object(n.jsxs)(c.Fragment,{children:[0===a&&Object(n.jsx)("div",{className:"dummy item ".concat(l.includes(u)?"next-active":""),children:Object(n.jsx)("a",{href:"#!",children:"\xa0"})}),Object(n.jsx)("div",{className:"item\n            ".concat(l.includes(u)?" active":"","\n            ").concat(l.includes(j)?" prev-active":"","\n            ").concat(l.includes(d)?" next-active":""),children:b.includes(t.user[0])&&Object(n.jsxs)(i.b,{to:s+u,children:[o,!l.includes(u)&&Object(n.jsx)("span",{children:Object(n.jsx)(Is,{})})]})}),a===r.length-1&&Object(n.jsx)("div",{className:"item ".concat(l.includes(u)?"prev-active":""),children:Object(n.jsx)("a",{href:"#!",children:"\xa0"})})]},a)}))}),Object(n.jsx)("div",{className:"signout-div",children:Object(n.jsx)("button",{type:"button",className:"btn btn-primary signout-btn ".concat(j?"loading disabled":""),onClick:function(e){b(!0),t.signout((function(){return b(!1)}))},children:j?Object(n.jsx)(U,{className:"rotating"}):"Sign Out"})})]})}),Rs=function(e){var t=e.comments,a=e.branch,r=e.path,s=Object(o.g)(),l=pe(),i=ee();Object(c.useEffect)((function(){Kn(i,s,Ve.a,l,ye)}),[l,s,i]);var u=function(e){s.push("".concat(r,"/adminDetails?id=").concat(e))};return console.log(t),Object(n.jsx)(n.Fragment,{children:t&&t.length>0?Object(n.jsxs)("table",{className:"table table-borderless admin-table-hover table-hover",children:[Object(n.jsx)("thead",{className:"color-dark-text-blue",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Staff ID"}),Object(n.jsx)("th",{scope:"col",children:"Admin Name"}),Object(n.jsx)("th",{scope:"col",children:"Email"}),Object(n.jsx)("th",{scope:"col",children:"Admin Role"}),Object(n.jsx)("th",{scope:"col",children:"Branch"}),Object(n.jsx)("th",{scope:"col",children:"Action"})]})}),Object(n.jsxs)("tbody",{children:[Object(n.jsx)("tr",{className:"spacer"}),t&&t.map((function(e){return Object(n.jsxs)("tr",{onClick:function(){return u(e.id)},className:"customer-card font-weight-600",children:[Object(n.jsx)("td",{className:"repay-method",children:Object(n.jsx)("p",{children:e.staff_id})}),Object(n.jsx)("td",{className:"repay-method",children:Object(n.jsx)("p",{children:"".concat(e.firstname," ").concat(e.lastname)})}),Object(n.jsx)("td",{className:"repay-method",children:Object(n.jsx)("p",{children:e.username})}),Object(n.jsx)("td",{className:"repay-method",children:e.AdminUserRoles.map((function(e){return null!==e.code&&""!==e.code?Object(n.jsx)("p",{children:"".concat(e.name," (").concat(e.code,")")}):Object(n.jsx)("p",{children:"".concat(e.name)})}))}),Object(n.jsx)("td",{className:"repay-method",children:a&&a.map((function(t){return t.id===Number(e.branch)&&Object(n.jsx)("p",{children:t.name},t.id)}))}),Object(n.jsx)("td",{children:Object(n.jsx)("button",{onClick:function(){return u(e.id)},className:"btn btn-success action-btn bg-color-green",children:"View"})})]},e.id)}))]})]}):Object(n.jsx)("div",{className:"no-comment",children:Object(n.jsx)("p",{children:"NO ADMIN FOUND!"})})})},Ls=function(){var e=Object(o.g)(),t=(Object(o.h)(),ce()),a=pe(),r=Object(o.i)().path,s=(Object(c.useCallback)((function(e,t,n){return Jn(a)(e,t,n)}),[a]),Object(c.useState)("all")),l=Object(p.a)(s,2),i=l[0],u=l[1],h=Object(c.useState)({userFull:!1,submit:!1,rejectApplication:!1,approveApplication:!1,printApplication:!1,loadPage:!1}),O=Object(p.a)(h,2),v=O[0],x=O[1],f=Object(c.useState)([]),g=Object(p.a)(f,2),N=g[0],y=g[1],_=Object(c.useState)([]),k=Object(p.a)(_,2),A=k[0],C=k[1],S=Object(c.useState)([]),P=Object(p.a)(S,2),E=P[0],I=P[1],D=Object(c.useState)(0),R=Object(p.a)(D,2),L=R[0],F=R[1],M=Object(c.useState)([]),T=Object(p.a)(M,2),B=T[0],V=T[1],Y=Object(c.useState)(""),z=Object(p.a)(Y,2),H=z[0],G=z[1],W=Object(c.useState)(""),q=Object(p.a)(W,2),X=q[0],J=q[1],K=Object(c.useState)(""),Q=Object(p.a)(K,2),Z=Q[0],$=Q[1],te=Object(c.useState)(""),ae=Object(p.a)(te,2),ne=ae[0],re=ae[1],se=Object(c.useState)(""),le=Object(p.a)(se,2),ie=le[0],oe=le[1],ue=Object(c.useState)("8"),de=Object(p.a)(ue,2),je=de[0],be=de[1],me=Object(c.useState)("CSO"),he=Object(p.a)(me,2),Oe=he[0],ve=he[1],xe=Object(c.useState)(""),fe=Object(p.a)(xe,2),ge=fe[0],Ne=fe[1],we=Object(c.useState)(""),_e=Object(p.a)(we,2),ke=_e[0],Ae=_e[1],Ce=Object(c.useState)(""),Se=Object(p.a)(Ce,2),Pe=Se[0],Ee=Se[1],Ie=Object(c.useState)(""),De=Object(p.a)(Ie,2),Re=(De[0],De[1]),Le=Object(c.useState)(""),Fe=Object(p.a)(Le,2),Me=Fe[0],Te=Fe[1],Be=ee();Object(c.useEffect)((function(){Kn(Be,e,Ve.a,a,ye)}),[a,e,Be]);var Ue=function(e,t){return x((function(a){return Object(m.a)(Object(m.a)({},a),{},Object(b.a)({},e,t))}))};Object(c.useEffect)((function(){G(""),function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,c,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Ue("loadPage",!0),e.next=4,Zc();case 4:if(!(null===(a=e.sent)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.loans)){e.next=27;break}return e.next=8,Gr(1,8);case 8:return n=e.sent,e.next=11,ar();case 11:return c=e.sent,e.next=14,Xr();case 14:return r=e.sent,e.next=17,er();case 17:if(s=e.sent,!n||!c){e.next=27;break}if(!n.data.status||"success"!==c.status){e.next=27;break}return F(n.data.totalPages-1),y(n.data.data),C(c.data),I(r.result),V(s.data),Ue("loadPage",!1),e.abrupt("return");case 27:return Ue("loadPage",!1),ye("Something went wrong","error"),e.abrupt("return");case 32:return e.prev=32,e.t0=e.catch(0),console.log(e.t0),Ue("loadPage",!1),e.abrupt("return");case 37:case"end":return e.stop()}}),e,null,[[0,32]])})));return function(){return e.apply(this,arguments)}}()()}),[]);var Ye=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),"role"===t.target.name&&G(t.target.value),"LOAN OFFICER"!==t.target.value&&Ne(""),ve(t.target.value);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),Ue("submit",!0),e.prev=2,E&&E.forEach((function(e){Oe===e.name&&(a=e.id)})),e.next=6,ac(15);case 6:return n=e.sent,Re(n),c={email:ne,password:n,firstName:X,lastName:Z,phoneNumber:ie,branchId:je,roleName:Oe,roleId:parseInt(a),loanOfficerCode:ge,staffId:ke,rank:Pe},console.log(c),e.next=12,Jr(c);case 12:if(r=e.sent,console.log(r,n),!r.error){e.next=18;break}return ye(r.message,"error"),Ue("submit",!1),e.abrupt("return");case 18:return console.log(t,c),ye(r.message,"success"),Ue("submit",!1),setTimeout((function(){window.location.reload()}),2500),e.abrupt("return");case 25:return e.prev=25,e.t0=e.catch(2),ye("Something went wrong","success"),Ue("submit",!1),e.abrupt("return");case 30:case"end":return e.stop()}}),e,null,[[2,25]])})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),Ue("loadPage",!0),e.next=5,qr(Me);case 5:if(a=e.sent,console.log(a.data.data,Me),!a.error){e.next=11;break}return ye(a.message,"error"),Ue("submit",!1),e.abrupt("return");case 11:if(!a.data.status){e.next=15;break}return y([a.data.data]),Ue("loadPage",!1),e.abrupt("return");case 15:e.next=22;break;case 17:return e.prev=17,e.t0=e.catch(0),ye("Invalid email address","success"),Ue("loadPage",!1),e.abrupt("return");case 22:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("header",{children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"Admin Management"}),Object(n.jsxs)("nav",{children:[Object(n.jsx)("a",{className:"all"===i?"active":"",onClick:function(e){return u("all")},children:"Admin Overview"}),Object(n.jsx)("a",{className:"create-admin"===i?"active":"",onClick:function(e){u("create-admin")},children:"Create Admin"})]})]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"small-admin-details",children:[Object(n.jsx)("img",{src:ze,alt:""}),t||"NPF Admin",Object(n.jsx)("i",{className:"arrow down"})]}),Object(n.jsx)("div",{className:"some-container",children:"all"===i&&Object(n.jsxs)("form",{onSubmit:Ge,className:"search-div",children:[Object(n.jsx)("label",{htmlFor:"search",children:Object(n.jsx)(rt,{})}),Object(n.jsx)("input",{type:"search",className:"form-control",name:"search",id:"search","aria-label":"Search by email",placeholder:"Search by email",value:Me,onChange:function(e){return Te(e.target.value)}})]})})]})]}),!0===v.loadPage?Object(n.jsx)("div",{className:"searching-block",children:Object(n.jsx)("div",{className:"svg-holder",children:Object(n.jsx)(U,{className:"rotating"})})}):Object(n.jsxs)("main",{className:"loan-inprocess-page",children:["all"===i&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Rs,{branch:A,path:r,comments:N}),N.length>0&&Object(n.jsx)("div",{className:"paginate-footer",children:Object(n.jsx)(Zn.a,{pageCount:L,marginPagesDisplayed:2,pageRangeDisplayed:3,onPageChange:function(e){return cc(e,y,Gr)},containerClassName:"pagination-btns",activeLinkClassName:"active",pageLinkClassName:"btn",previousLabel:Object(n.jsx)(Kt,{}),previousLinkClassName:"btn icon",nextLabel:Object(n.jsx)(Kt,{style:{transform:"rotateY(180deg)"}}),nextLinkClassName:"btn icon",disabledClassName:"disabled"})})]}),"create-admin"===i&&Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("form",{onSubmit:He,className:"customer-details row animated fadeIn delay-05s",children:[Object(n.jsxs)("div",{className:"loan-details col",children:[Object(n.jsx)("div",{className:"details-header",children:"Admin"}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-12 mb-3",children:["Staff ID:",Object(n.jsx)("span",{className:"not-verified",children:"\xa0 *"})]})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-12 mb-3",children:["First Name:",Object(n.jsx)("span",{className:"not-verified",children:"\xa0 *"})]})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-12 mb-3",children:["Last Name:",Object(n.jsx)("span",{className:"not-verified",children:"\xa0 *"})]})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-12 mb-3",children:["Email:",Object(n.jsx)("span",{className:"not-verified",children:"\xa0 *"})]})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-12 mb-3",children:["Rank:",Object(n.jsx)("span",{className:"not-verified",children:"\xa0 *"})]})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 mb-3",children:"Phone Number:"})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 mb-3",children:"Branch:"})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 mb-3",children:"Admin Role:"})}),"LOAN OFFICER"===H&&Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 mb-3",children:"Workflow Level:"})})]}),Object(n.jsxs)("div",{className:"personal-details col",children:[Object(n.jsx)("div",{className:"details-header",children:"Details"}),Object(n.jsx)("div",{className:"row col-9",children:Object(n.jsx)("input",{type:"number",name:"staffId",id:"staffId",className:"form-control",required:!0,onChange:function(e){Ae(e.target.value)},value:ke})}),Object(n.jsx)("div",{className:"row col-9",children:Object(n.jsx)("input",{type:"text",name:"firstname",id:"firstname",className:"form-control",required:!0,onChange:function(e){return J(e.target.value)},value:X})}),Object(n.jsx)("div",{className:"row col-9",children:Object(n.jsx)("input",{type:"text",name:"lastname",id:"lastname",className:"form-control",required:!0,onChange:function(e){return $(e.target.value)},value:Z})}),Object(n.jsx)("div",{className:"row col-9",children:Object(n.jsx)("input",{type:"email",name:"email",id:"email",className:"form-control",required:!0,onChange:function(e){re(e.target.value)},value:ne})}),Object(n.jsx)("div",{className:"row col-9",children:Object(n.jsx)("input",{type:"text",name:"rank",id:"rank",className:"form-control",required:!0,onChange:function(e){Ee(e.target.value)},value:Pe})}),Object(n.jsx)("div",{className:"row col-9",children:Object(n.jsx)("input",{type:"text",name:"phone",id:"phone",className:"form-control",onChange:function(e){return oe(e.target.value)},value:ie})}),Object(n.jsx)("div",{className:"row col-9",children:Object(n.jsx)("select",{name:"branch",class:"btn dropdown-toggle",style:{border:"1px solid #ccc",outline:"none",borderRadius:"10px",fontSize:"14px",padding:"0.8em 1em",width:"100%",fontWeight:"600"},value:je,onChange:function(e){be(e.target.value)},children:A&&A.map((function(e,t){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("option",{value:e.id,children:e.name},t+e.code)})}))})}),Object(n.jsx)("div",{className:"row col-9",children:Object(n.jsx)("select",{name:"role",class:"btn dropdown-toggle",style:{border:"1px solid #ccc",outline:"none",borderRadius:"10px",fontSize:"14px",padding:"0.8em 1em",width:"100%",fontWeight:"600"},value:Oe,onChange:function(e){Ye(e)},children:E&&E.map((function(e,t){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("option",{value:e.name,children:"SUSPEND ACCOUNT"!==e.name&&e.name},t+e.code)})}))})}),"LOAN OFFICER"===H&&Object(n.jsx)("div",{className:"row col-9",children:Object(n.jsx)("select",{name:"workflowlevel",class:"btn dropdown-toggle",style:{border:"1px solid #ccc",outline:"none",borderRadius:"10px",fontSize:"14px",padding:"0.8em 1em",width:"100%",fontWeight:"600"},value:ge,onChange:function(e){Ne(e.target.value)},children:B&&B.map((function(e,t){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("option",{value:e.code,children:"devnpfuser"!==e.name&&e.name},t+e.code)})}))})}),Object(n.jsxs)("button",{className:"btn export-ifrs-btn mt-3",disabled:""===X||""===Z||""===ne||""===ke||""===Pe,children:["Submit",Object(n.jsx)("span",{className:"pl-2",children:v.submit?Object(n.jsx)(U,{className:"limit-loading rotating"}):Object(n.jsx)(w,{})})]})]})]})})]})]})},Fs=function(){return Object(n.jsx)("div",{children:"newAdmin"})},Ms=function(){var e=Object(o.g)(),t=Object(o.h)(),a=pe(),r=t.search,s=ce(),l=Object(c.useState)({userFull:!1,submit:!1,rejectApplication:!1,approveApplication:!1,printApplication:!1,loadPage:!1}),i=Object(p.a)(l,2),u=i[0],h=i[1],O=Object(c.useState)({}),v=Object(p.a)(O,2),x=v[0],f=v[1],g=Object(c.useState)([]),N=Object(p.a)(g,2),y=N[0],_=N[1],k=Object(c.useState)(""),A=Object(p.a)(k,2),C=A[0],S=A[1],P=Object(c.useState)(""),E=Object(p.a)(P,2),I=E[0],D=E[1],R=Object(c.useState)([]),L=Object(p.a)(R,2),F=L[0],M=L[1],T=Object(c.useState)(null),B=Object(p.a)(T,2),V=B[0],Y=B[1],z=Object(c.useState)([]),H=Object(p.a)(z,2),G=H[0],W=H[1],q=Object(c.useState)(""),X=Object(p.a)(q,2),J=X[0],K=X[1],Q=Object(c.useState)(!1),Z=Object(p.a)(Q,2),$=Z[0],te=Z[1],ae=Object(c.useState)(!1),ne=Object(p.a)(ae,2),re=ne[0],se=ne[1],le=Object(c.useState)(null),ie=Object(p.a)(le,2),oe=ie[0],ue=ie[1],de=Object(c.useState)(null),je=Object(p.a)(de,2),be=je[0],me=je[1],he=Object(c.useState)(null),Oe=Object(p.a)(he,2),ve=Oe[0],xe=Oe[1],fe=Object(c.useState)(null),ge=Object(p.a)(fe,2),Ne=ge[0],we=ge[1],_e=Object(c.useState)(null),ke=Object(p.a)(_e,2),Ae=ke[0],Ce=ke[1],Se=Object(c.useState)(!1),Pe=Object(p.a)(Se,2),Ee=Pe[0],Ie=Pe[1],De=Object(c.useState)(!1),Re=Object(p.a)(De,2),Le=Re[0],Fe=Re[1],Me=Object(c.useState)(null),Te=Object(p.a)(Me,2),Be=Te[0],Ue=Te[1],Ye=Object(c.useState)(null),He=Object(p.a)(Ye,2),Ge=He[0],We=He[1],qe=Object(c.useState)(""),Xe=Object(p.a)(qe,2),Je=(Xe[0],Xe[1],Object(c.useState)({})),Ke=Object(p.a)(Je,2),Qe=Ke[0],Ze=(Ke[1],new URLSearchParams(r).get("id")),$e=ee();Object(c.useEffect)((function(){Kn($e,e,Ve.a,a,ye)}),[a,e,$e]),Object(c.useEffect)((function(){te(!1),Ie(!1),Fe(!1),function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,tt("loadPage",!0),e.next=4,Wr(Ze);case 4:return t=e.sent,e.next=7,ar();case 7:return a=e.sent,e.next=10,Xr();case 10:return n=e.sent,e.next=13,er();case 13:if(c=e.sent,!t.data||!t.data.status){e.next=22;break}return console.log(t.data),f(t.data.data),_(a.data),M(n.result),W(c.data),tt("loadPage",!1),e.abrupt("return");case 22:e.next=29;break;case 24:return e.prev=24,e.t0=e.catch(0),console.log(e.t0),tt("loadPage",!1),e.abrupt("return");case 29:tt("loadPage",!1);case 30:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(c.useEffect)((function(){y&&y.forEach((function(e){parseInt(x.branch)===e.id&&S(e.name)})),x.AdminUserRoles&&x.AdminUserRoles.forEach((function(e){Y(e.name),G&&G.forEach((function(t){e.code===t.code&&K(t.name)}))}))}),[x.AdminUserRoles,x.branch,y,G]);var et=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),"role"===t.target.name&&K(t.target.value),"LOAN OFFICER"!==t.target.value&&ue(""),Y(t.target.value);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tt=function(e,t){return h((function(a){return Object(m.a)(Object(m.a)({},a),{},Object(b.a)({},e,t))}))},at=function(){var t=Object(j.a)(d.a.mark((function t(a){var n,c,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),tt("submit",!0),n=null,t.prev=3,F&&F.forEach((function(e){V===e.name&&(n=e.id)})),c={email:Ne,firstName:be,lastName:ve,phoneNumber:Ae,branchId:I,roleName:V,roleId:isNaN(n)?null:parseInt(n),loanOfficerCode:oe,staffId:Be,rank:Ge},t.next=8,Kr(Ze,c);case 8:if(!(r=t.sent).error){t.next=13;break}return ye(r.message,"error"),tt("submit",!1),t.abrupt("return");case 13:return console.log(a,c),ye(r.message,"success"),tt("submit",!1),setTimeout((function(){e.push("/pages/superAdmin")}),2500),t.abrupt("return");case 20:return t.prev=20,t.t0=t.catch(3),ye("Something went wrong","success"),tt("submit",!1),t.abrupt("return");case 25:case"end":return t.stop()}}),t,null,[[3,20]])})));return function(e){return t.apply(this,arguments)}}();return console.log(x),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("header",{children:[Object(n.jsx)("div",{children:Object(n.jsxs)("h1",{children:[Object(n.jsx)("button",{onClick:function(t){return e.goBack()},className:"btn btn-primary back-btn",children:Object(n.jsx)(da,{})}),"Admin Details"]})}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"small-admin-details",children:[Object(n.jsx)("img",{src:ze,alt:""}),s||"NPF Admin",Object(n.jsx)("i",{className:"arrow down"})]}),Object(n.jsx)("div",{className:"some-container",children:Object(n.jsx)(rs,{deleteModalBtn:Le,setDeleteModalBtn:Fe,deleteData:Qe})})]})]}),u.loadPage?Object(n.jsx)("div",{className:"searching-block",children:Object(n.jsx)("div",{className:"svg-holder",children:Object(n.jsx)(U,{className:"rotating"})})}):Object(n.jsx)("main",{className:"loan-inprocess-page",children:Object(n.jsxs)("form",{onSubmit:at,className:"customer-details row animated fadeIn delay-05s",children:[Object(n.jsxs)("div",{className:"loan-details col",children:[Object(n.jsx)("div",{className:"details-header",children:"Admin"}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 mb-3",children:"Staff ID:"})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 mb-3",children:"First Name:"})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 mb-3",children:"Last Name:"})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 mb-3",children:"Email:"})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 mb-3",children:"Rank:"})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 mb-3",children:"Phone Number:"})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 mb-3",children:"Branch:"})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 mb-3",children:"Admin Role:"})}),""!==J&&"LOAN OFFICER"===J&&Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 mb-3",children:"Workflow Level:"})})]}),Object(n.jsxs)("div",{className:"personal-details col",children:[Object(n.jsx)("div",{className:"details-header",children:"Details"}),Object(n.jsx)("div",{className:"row col-9",children:Object(n.jsx)("input",{type:"text",name:"staffId",id:"staffId",className:"form-control",defaultValue:x.staff_id,onChange:function(e){Ue(e.target.value)},value:Be})}),Object(n.jsx)("div",{className:"row col-9",children:Object(n.jsx)("input",{type:"text",name:"firstname",id:"firstname",className:"form-control",defaultValue:x.firstname,onChange:function(e){return me(e.target.value)},value:be})}),Object(n.jsx)("div",{className:"row col-9",children:Object(n.jsx)("input",{type:"text",name:"lastname",id:"lastname",className:"form-control",defaultValue:x.lastname,onChange:function(e){return xe(e.target.value)},value:ve})}),Object(n.jsx)("div",{className:"row col-9",children:Object(n.jsx)("input",{type:"email",name:"email",id:"email",className:"form-control",defaultValue:x.username,onChange:function(e){we(e.target.value)},value:Ne})}),Object(n.jsx)("div",{className:"row col-9",children:Object(n.jsx)("input",{type:"text",name:"rank",id:"rank",className:"form-control",defaultValue:x.rank,onChange:function(e){We(e.target.value)},value:Ge})}),Object(n.jsx)("div",{className:"row col-9",children:Object(n.jsx)("input",{type:"text",name:"phone",id:"phone",className:"form-control",defaultValue:x.phone,onChange:function(e){return Ce(e.target.value)},value:Ae})}),Object(n.jsx)("div",{className:"row col-9",children:$?Object(n.jsx)("select",{name:"branch",class:"btn dropdown-toggle",style:{border:"1px solid #ccc",outline:"none",borderRadius:"10px",fontSize:"14px",padding:"0.8em 1em",width:"100%",fontWeight:"600"},value:I,onChange:function(e){D(e.target.value)},children:y&&y.map((function(e,t){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("option",{value:e.id,children:e.name},t+e.code)})}))}):Object(n.jsx)("input",{type:"text",name:"branch",id:"branch",className:"form-control",defaultValue:C,onFocus:function(){te(!0)}})}),Object(n.jsx)("div",{className:"row col-9",children:Ee?Object(n.jsx)("select",{name:"role",class:"btn dropdown-toggle",style:{border:"1px solid #ccc",outline:"none",borderRadius:"10px",fontSize:"14px",padding:"0.8em 1em",width:"100%",fontWeight:"600"},value:V,onChange:function(e){et(e)},children:F&&F.map((function(e,t){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("option",{value:e.name,children:e.name},t+e.code)})}))}):Object(n.jsx)("input",{type:"text",name:"role",id:"role",className:"form-control",defaultValue:V,onFocus:function(){Ie(!0)}})}),""!==J&&"LOAN OFFICER"===J&&Object(n.jsx)("div",{className:"row col-9",children:re?Object(n.jsx)("select",{name:"workflowlevel",class:"btn dropdown-toggle",style:{border:"1px solid #ccc",outline:"none",borderRadius:"10px",fontSize:"14px",padding:"0.8em 1em",width:"100%",fontWeight:"600"},value:oe,onChange:function(e){ue(e.target.value)},children:G&&G.map((function(e,t){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("option",{value:e.code,children:"devnpfuser"!==e.name&&e.name},t+e.code)})}))}):Object(n.jsx)("input",{type:"text",name:"workflowlevel",id:"workflowlevel",className:"form-control",defaultValue:J,onFocus:function(){se(!0)}})}),Object(n.jsxs)("button",{className:"btn export-ifrs-btn mt-3",children:["Save Changes",Object(n.jsx)("span",{className:"pl-2",children:u.submit?Object(n.jsx)(U,{className:"limit-loading rotating"}):Object(n.jsx)(w,{})})]})]})]})})]})},Ts=function(){var e=Object(o.i)().path;return Object(n.jsx)("div",{id:"adminMan",children:Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.b,{exact:!0,path:e,component:Ls}),Object(n.jsx)(o.b,{exact:!0,path:"".concat(e,"/createAdmin"),component:Fs}),Object(n.jsx)(o.b,{exact:!0,path:"".concat(e,"/adminDetails"),component:Ms})]})})},Bs=function(e){var t=e.customersInfo,a=e.path,c=Object(o.g)();return Object(n.jsx)(n.Fragment,{children:t&&t.length>0?Object(n.jsxs)("table",{className:"table table-borderless admin-table-hover table-hover",children:[Object(n.jsx)("thead",{className:"color-dark-text-blue",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Customer"}),Object(n.jsx)("th",{scope:"col",children:"Phone Number"}),Object(n.jsx)("th",{scope:"col",children:"BVN"}),Object(n.jsx)("th",{scope:"col",children:"Gender"}),Object(n.jsx)("th",{scope:"col",children:"Action"})]})}),Object(n.jsxs)("tbody",{children:[Object(n.jsx)("tr",{className:"spacer"}),t&&t.map((function(e){return Object(n.jsxs)("tr",{onClick:function(){return t=e.id,void c.push("".concat(a,"/customerDetails?id=").concat(t));var t},className:"customer-card font-weight-600",children:[Object(n.jsx)("td",{className:"major-details",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"customer-img col-3",children:Object(n.jsx)("img",{src:e.photo_location||ze,className:"",alt:"customer-img"})}),Object(n.jsxs)("div",{className:"pl-2",children:[Object(n.jsx)("div",{className:"name font-weight-bold",children:"".concat(e.firstname," ").concat(e.lastname)}),Object(n.jsx)("div",{className:"email font-weight-light",children:e.email})]})]})}),Object(n.jsx)("td",{className:"repay-method",children:Object(n.jsx)("p",{children:e.phone})}),Object(n.jsx)("td",{className:"repay-method",children:Object(n.jsx)("p",{children:e.bvnhash})}),Object(n.jsx)("td",{className:"repay-method",children:Object(n.jsx)("p",{children:e.gender})}),Object(n.jsx)("td",{children:Object(n.jsx)("button",{onClick:function(){return t=e.id,void c.push("".concat(a,"/adminDetails?id=").concat(t));var t},className:"btn btn-success action-btn bg-color-green",children:"View"})})]},e.id)}))]})]}):Object(n.jsx)("div",{className:"no-comment",children:Object(n.jsx)("p",{children:"NO CUSTOMER FOUND!"})})})},Vs=function(){var e=Object(o.g)(),t=(Object(o.h)(),ce()),a=pe(),r=Object(o.i)().path,s=ee(),l=(Object(c.useCallback)((function(e,t,n){return Jn(a)(e,t,n)}),[a]),Object(c.useState)("all")),i=Object(p.a)(l,2),u=i[0],h=i[1],O=Object(c.useState)([]),v=Object(p.a)(O,2),x=v[0],f=v[1],g=Object(c.useState)(0),N=Object(p.a)(g,2),w=N[0],y=N[1],_=Object(c.useState)(""),k=Object(p.a)(_,2),A=k[0],C=k[1],S=Object(c.useState)({userFull:!1,submit:!1,rejectApplication:!1,approveApplication:!1,printApplication:!1,loadPage:!1}),P=Object(p.a)(S,2),E=P[0],I=P[1];Object(c.useEffect)((function(){Kn(s,e,Ve.a,a,ye)}),[a,e,s]);var D=function(e,t){return I((function(a){return Object(m.a)(Object(m.a)({},a),{},Object(b.a)({},e,t))}))};Object(c.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,D("loadPage",!0),e.next=4,Yr(1,8);case 4:if(t=e.sent,console.log(t),!t.data.status){e.next=11;break}return y(t.data.totalPages-1),f(t.data.data),D("loadPage",!1),e.abrupt("return");case 11:return D("loadPage",!1),ye("Something went wrong","error"),e.abrupt("return");case 16:return e.prev=16,e.t0=e.catch(0),console.log(e.t0),D("loadPage",!1),e.abrupt("return");case 21:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var R=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),D("loadPage",!0),e.next=5,Hr(A);case 5:if(a=e.sent,console.log(a.data.data,A),!a.error){e.next=11;break}return ye(a.message,"error"),D("loadPage",!1),e.abrupt("return");case 11:if(!a.data.status){e.next=17;break}return f([a.data.data]),D("loadPage",!1),e.abrupt("return");case 17:return D("loadPage",!1),ye("Something went wrong","error"),e.abrupt("return");case 20:e.next=27;break;case 22:return e.prev=22,e.t0=e.catch(0),ye("Invalid email address","success"),D("loadPage",!1),e.abrupt("return");case 27:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("header",{children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"Customer Management"}),Object(n.jsx)("nav",{children:Object(n.jsx)("a",{className:"all"===u?"active":"",onClick:function(e){return h("all")},children:"Customer Overview"})})]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"small-admin-details",children:[Object(n.jsx)("img",{src:ze,alt:""}),t||"NPF Admin",Object(n.jsx)("i",{className:"arrow down"})]}),Object(n.jsx)("div",{className:"some-container",children:Object(n.jsxs)("form",{onSubmit:R,className:"search-div",children:[Object(n.jsx)("label",{htmlFor:"search",children:Object(n.jsx)(rt,{})}),Object(n.jsx)("input",{type:"search",className:"form-control",name:"search",id:"search","aria-label":"Search by email",placeholder:"Search by email",value:A,onChange:function(e){return C(e.target.value)}})]})})]})]}),!0===E.loadPage?Object(n.jsx)("div",{className:"searching-block",children:Object(n.jsx)("div",{className:"svg-holder",children:Object(n.jsx)(U,{className:"rotating"})})}):Object(n.jsx)("main",{className:"loan-inprocess-page",children:"all"===u&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Bs,{path:r,customersInfo:x}),x.length>0&&Object(n.jsx)("div",{className:"paginate-footer",children:Object(n.jsx)(Zn.a,{pageCount:w,marginPagesDisplayed:2,pageRangeDisplayed:3,onPageChange:function(e){return cc(e,f,Yr)},containerClassName:"pagination-btns",activeLinkClassName:"active",pageLinkClassName:"btn",previousLabel:Object(n.jsx)(Kt,{}),previousLinkClassName:"btn icon",nextLabel:Object(n.jsx)(Kt,{style:{transform:"rotateY(180deg)"}}),nextLinkClassName:"btn icon",disabledClassName:"disabled"})})]})})]})};var Us=function(){var e=Object(o.g)(),t=Object(o.h)(),a=(Object(o.i)().path,pe()),r=t.search,s=ce(),l=Object(c.useState)({userFull:!1,submit:!1,rejectApplication:!1,approveApplication:!1,printApplication:!1,loadPage:!1}),i=Object(p.a)(l,2),u=i[0],h=i[1],O=Object(c.useState)({}),v=Object(p.a)(O,2),x=v[0],f=v[1],g=Object(c.useState)(null),N=Object(p.a)(g,2),y=N[0],_=N[1],k=Object(c.useState)(!1),A=Object(p.a)(k,2),C=A[0],S=A[1],P=Object(c.useState)(!1),E=Object(p.a)(P,2),I=E[0],D=E[1],R=Object(c.useState)([]),L=Object(p.a)(R,2),F=L[0],M=L[1],T=Object(c.useState)(""),B=Object(p.a)(T,2),V=B[0],Y=B[1],z=Object(c.useState)(null),H=Object(p.a)(z,2),G=H[0],W=H[1],q=Object(c.useState)(null),X=Object(p.a)(q,2),J=X[0],K=X[1],Q=Object(c.useState)(null),Z=Object(p.a)(Q,2),$=Z[0],te=Z[1],ae=Object(c.useState)(null),ne=Object(p.a)(ae,2),re=ne[0],se=ne[1],le=Object(c.useState)(null),ie=Object(p.a)(le,2),oe=ie[0],ue=ie[1],de=Object(c.useState)(null),je=Object(p.a)(de,2),be=je[0],me=je[1],he=Object(c.useState)(null),Oe=Object(p.a)(he,2),ve=Oe[0],xe=Oe[1],fe=Object(c.useState)(null),ge=Object(p.a)(fe,2),Ne=ge[0],we=ge[1],_e=Object(c.useState)(null),ke=Object(p.a)(_e,2),Ae=ke[0],Ce=ke[1],Se=Object(c.useState)(""),Pe=Object(p.a)(Se,2),Ee=Pe[0],Ie=Pe[1],De=Object(c.useState)(null),Re=Object(p.a)(De,2),Le=Re[0],Fe=Re[1],Me=Object(c.useState)(null),Te=Object(p.a)(Me,2),Be=Te[0],Ue=Te[1],He=Object(c.useState)(null),Ge=Object(p.a)(He,2),We=Ge[0],qe=Ge[1],Xe=Object(c.useState)(null),Je=Object(p.a)(Xe,2),Ke=Je[0],Qe=Je[1],Ze=new URLSearchParams(r).get("id"),$e=ee();Object(c.useEffect)((function(){Kn($e,e,Ve.a,a,ye)}),[a,e,$e]),Object(c.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,et("loadPage",!0),e.next=4,zr(Ze);case 4:return t=e.sent,e.next=7,ar();case 7:if(a=e.sent,!t.data||!t.data.status){e.next=13;break}return f(t.data.data),M(a.data),et("loadPage",!1),e.abrupt("return");case 13:console.log(t),e.next=21;break;case 16:return e.prev=16,e.t0=e.catch(0),console.log(e.t0),et("loadPage",!1),e.abrupt("return");case 21:et("loadPage",!1);case 22:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(c.useEffect)((function(){F&&F.forEach((function(e){parseInt(x.branch)===e.id&&Y(e.name)}))}),[]);var et=function(e,t){return h((function(a){return Object(m.a)(Object(m.a)({},a),{},Object(b.a)({},e,t))}))},tt=function(){e.push("/pages/helpDesk")},at=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),et("submit",!0),e.prev=2,a={email:re,firstname:G,middlename:$,lastname:J,phone:oe,bvnhash:be,dob:y,pob:ve,branch:isNaN(Ee)?null:parseInt(Ee),gender:Ke?Ke.toUpperCase():null,rank:Ne,genotype:Ae,blood_group:Le,security_number:Be,nhis_number:Number(We)},e.next=6,Qr(Ze,a);case 6:if(n=e.sent,console.log(n),!n.error){e.next=12;break}return ye(n.message,"error"),et("submit",!1),e.abrupt("return");case 12:return console.log(t,a),ye(n.message,"success"),et("submit",!1),setTimeout((function(){tt()}),2500),e.abrupt("return");case 19:return e.prev=19,e.t0=e.catch(2),ye("Something went wrong","success"),et("submit",!1),e.abrupt("return");case 24:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("header",{children:[Object(n.jsx)("div",{children:Object(n.jsxs)("h1",{children:[Object(n.jsx)("button",{onClick:function(){return tt()},className:"btn btn-primary back-btn",children:Object(n.jsx)(da,{})}),"Customer Details"]})}),Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"small-admin-details",children:[Object(n.jsx)("img",{src:ze,alt:""}),s||"NPF Admin",Object(n.jsx)("i",{className:"arrow down"})]})})]}),u.loadPage?Object(n.jsx)("div",{className:"searching-block",children:Object(n.jsx)("div",{className:"svg-holder",children:Object(n.jsx)(U,{className:"rotating"})})}):Object(n.jsx)("main",{className:"loan-inprocess-page",children:Object(n.jsxs)("form",{onSubmit:at,className:"customer-details row animated fadeIn delay-05s",children:[Object(n.jsx)("div",{className:"left-side col-3",children:Object(n.jsx)("div",{className:"img-holder",children:Object(n.jsx)("img",{src:x.photo_location||ze,alt:"customer-img"})})}),Object(n.jsxs)("div",{className:"loan-details col",children:[Object(n.jsx)("div",{className:"details-header",children:"Customer"}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 mb-3",children:"First Name:"})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 mb-3",children:"Middle Name:"})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 mb-3",children:"Last Name:"})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 mb-3",children:"Email:"})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 mb-3",children:"BVN:"})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 mb-3",children:"Phone Number:"})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 mb-3",children:"Gender:"})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 mb-3",children:"Date of Birth:"})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 mb-3",children:"Place of Birth:"})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 mb-3",children:"Rank:"})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 mb-3",children:"Branch:"})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 mb-3",children:"Genotype:"})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 mb-3",children:"Blood Group:"})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 mb-3",children:"Security Number:"})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 mb-3",children:"NHIS Number:"})})]}),Object(n.jsxs)("div",{className:"personal-details col",children:[Object(n.jsx)("div",{className:"details-header",children:"Details"}),Object(n.jsx)("div",{className:"row col-9",children:Object(n.jsx)("input",{type:"text",name:"firstname",id:"firstname",className:"form-control",defaultValue:x.firstname,onChange:function(e){return W(e.target.value)},value:G})}),Object(n.jsx)("div",{className:"row col-9",children:Object(n.jsx)("input",{type:"text",name:"middlename",id:"middlename",className:"form-control",defaultValue:x.middlename,onChange:function(e){return te(e.target.value)},value:$})}),Object(n.jsx)("div",{className:"row col-9",children:Object(n.jsx)("input",{type:"text",name:"lastname",id:"lastname",className:"form-control",defaultValue:x.lastname,onChange:function(e){return K(e.target.value)},value:J})}),Object(n.jsx)("div",{className:"row col-9",children:Object(n.jsx)("input",{type:"email",name:"email",id:"email",className:"form-control",defaultValue:x.email,onChange:function(e){se(e.target.value)},value:re})}),Object(n.jsx)("div",{className:"row col-9",children:Object(n.jsx)("input",{type:"bvnhash",name:"bvnhash",id:"bvnhash",className:"form-control",defaultValue:x.bvnhash,onChange:function(e){me(e.target.value)},value:be})}),Object(n.jsx)("div",{className:"row col-9",children:Object(n.jsx)("input",{type:"text",name:"phone",id:"phone",className:"form-control",defaultValue:x.phone,onChange:function(e){return ue(e.target.value)},value:oe})}),Object(n.jsx)("div",{className:"row col-9",children:Object(n.jsx)("input",{type:"text",name:"gender",id:"gender",className:"form-control",defaultValue:x.gender,onChange:function(e){return Qe(e.target.value)},value:Ke})}),Object(n.jsx)("div",{className:"row col-9",children:C?Object(n.jsx)(uc.a,{selected:y,onChange:function(e){return _(e)},name:"start_date",dateFormat:"dd/MM/yyyy",placeholderText:"Select Date",className:"start_date form-control",peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",locale:"en-GB",isClearable:!0}):Object(n.jsx)("input",{type:"text",name:"dob",id:"dob",className:"form-control",defaultValue:Ye()(x.dob).format("DD/MM/YYYY"),onFocus:function(){S(!0)}})}),Object(n.jsx)("div",{className:"row col-9",children:Object(n.jsx)("input",{type:"text",name:"pob",id:"pob",className:"form-control",defaultValue:x.pob,onChange:function(e){return xe(e.target.value)},value:ve})}),Object(n.jsx)("div",{className:"row col-9",children:Object(n.jsx)("input",{type:"text",name:"rank",id:"rank",className:"form-control",defaultValue:x.rank,onChange:function(e){return we(e.target.value)},value:Ne})}),Object(n.jsx)("div",{className:"row col-9",children:I?Object(n.jsx)("select",{name:"branch",class:"btn dropdown-toggle",style:{border:"1px solid #ccc",outline:"none",borderRadius:"10px",fontSize:"14px",padding:"0.8em 1em",width:"100%",fontWeight:"600"},value:Ee,onChange:function(e){Ie(e.target.value)},children:F&&F.map((function(e,t){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("option",{value:e.id,children:e.name},t+e.code)})}))}):Object(n.jsx)("input",{type:"text",name:"branch",id:"branch",className:"form-control",defaultValue:V,onFocus:function(){D(!0)}})}),Object(n.jsx)("div",{className:"row col-9",children:Object(n.jsx)("input",{type:"text",name:"genotype",id:"genotype",className:"form-control",defaultValue:x.genotype,onChange:function(e){return Ce(e.target.value)},value:Ae})}),Object(n.jsx)("div",{className:"row col-9",children:Object(n.jsx)("input",{type:"text",name:"blood_group",id:"blood_group",className:"form-control",defaultValue:x.blood_group,onChange:function(e){return Fe(e.target.value)},value:Le})}),Object(n.jsx)("div",{className:"row col-9",children:Object(n.jsx)("input",{type:"text",name:"security_number",id:"security_number",className:"form-control",defaultValue:x.security_number,onChange:function(e){return Ue(e.target.value)},value:Be})}),Object(n.jsx)("div",{className:"row col-9",children:Object(n.jsx)("input",{type:"number",name:"nhis_number",id:"nhis_number",className:"form-control",defaultValue:x.nhis_number,onChange:function(e){return qe(e.target.value)},value:We})}),Object(n.jsxs)("button",{className:"btn export-ifrs-btn mt-3",children:["Save Changes",Object(n.jsx)("span",{className:"pl-2",children:u.submit?Object(n.jsx)(U,{className:"limit-loading rotating"}):Object(n.jsx)(w,{})})]})]})]})})]})},Ys=function(){var e=Object(o.i)().path;return Object(n.jsx)("div",{id:"customerMan",children:Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.b,{exact:!0,path:e,component:Vs}),Object(n.jsx)(o.b,{exact:!0,path:"".concat(e,"/customerDetails"),component:Us})]})})},zs=function(e){var t=Object(c.useState)(Array(1).fill("a").map((function(e,t){return{createdAt:"2020-11-24T09:46:08.757Z",customerId:"65",endpoint:"/api/v1/auth/sign_in",id:5,ip:"8.35.57.9",requestBody:'{"phone":"2348067465112","password":"897$312game"}',requestHeaders:'{"content-length":"50","total-route-time":"6","x-request-start":"1606211168313","connect-time":"0","via":"1.1 vegur","x-forwarded-port":"443","x-forwarded-proto":"https","x-forwarded-for":"8.35.57.9","x-request-id":"08682b02-f276-4ae7-a5e0-da1e3f177047","accept-language":"en-GB,en-US;q=0.9,en;q=0.8","accept-encoding":"gzip, deflate, br","referer":"https://npf-web.herokuapp.com/","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","origin":"https://npf-web.herokuapp.com","content-type":"application/json","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.67 Safari/537.36","accept":"application/json","connection":"close","host":"20.42.119.47:8282"}',requestMethod:"POST",responseBody:'{"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NjAsImN1c3RvbWVyTnVtYmVyIjoiMTAwMjE4NDg1IiwiY29tcGFueUNvZGUiOm51bGwsImVtYWlsIjoiZnJhbmtvcmppMTYxQGdtYWlsLmNvbSIsImZpcnN0bmFtZSI6IkZyYW5rIiwibGFzdG5hbWUiOiJPcmppIiwicGhvbmUiOiIyMzQ4MDY3NDY1MTEyIiwiaWF0IjoxNjA2MjExMTY4LCJleHAiOjE2MDYyMTgzNjh9.j_SnIj4PMaFD6rTNzUUsx36OvSVOe5gF-bhuBQc3D6A","message":"Login successful","password_change_required":false}',responseCode:"200",responseHeaders:'{"x-powered-by":"Express","access-control-allow-origin":"*"}',updatedAt:"2020-11-24T09:46:08.757Z"}}))),a=Object(p.a)(t,2),r=a[0],s=a[1],l=pe(),i=Object(c.useState)(5),o=Object(p.a)(i,2),u=o[0],b=o[1],m=Jn(l),h=Object(c.useState)(1),O=Object(p.a)(h,2),v=O[0],x=(O[1],Object(c.useState)(0)),f=Object(p.a)(x,2),g=f[0],N=f[1],w=Object(c.useState)(null),y=Object(p.a)(w,2),_=y[0],k=y[1],A=Object(c.useState)(!1),C=Object(p.a)(A,2),S=C[0],P=C[1];e.userId;Object(c.useEffect)((function(){E()}),[]);var E=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.prev=1,e.next=4,fn(1,8);case 4:if(t=e.sent,P(!1),!t.error){e.next=8;break}return e.abrupt("return",ye(t.message,"error"));case 8:s(t.data.data),N(t.data.totalPages-1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),m(e.t0,ye,(function(){return P(!1)}));case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),I=function(e){var t=e.target;if(t.classList.contains("action-btn")){var a=t.dataset.entryId,n=r[a],c=JSON.parse(n.responseBody);if("string"!==typeof c){var s=function(e){"string"!=typeof e&&(e=JSON.stringify(e,void 0,2));return(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)/g,(function(e){var t="number";return/^"/.test(e)?t=/:$/.test(e)?"key":"string":/true|false/.test(e)?t="boolean":/null/.test(e)&&(t="null"),'<span class="'+t+'">'+e+"</span>"}))}(JSON.stringify(c,null,2));console.log(c,typeof c,s),k(s),ve("#resBodyModal")}else ye(c,"error")}};return console.log(r),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("main",{className:"customers-page",children:[(S||0===r.length)&&Object(n.jsxs)("div",{className:"searching-block",children:[Object(n.jsx)("div",{className:"svg-holder "+(S?"":"not-loading"),children:S?Object(n.jsx)(U,{className:"rotating"}):Object(n.jsx)(ta,{})}),!S&&Object(n.jsx)("p",{children:"NOTHING FOUND!"})]}),!S&&0!==r.length&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{children:["Entries per page:"," ",Object(n.jsx)("div",{className:"form-group",style:{display:"inline-block"},children:Object(n.jsxs)("select",{className:"form-control",onChange:function(e){return b(e.target.value)},value:u,children:[Object(n.jsx)("option",{value:5,children:"5"}),Object(n.jsx)("option",{value:10,children:"10"}),Object(n.jsx)("option",{value:20,children:"20"}),Object(n.jsx)("option",{value:50,children:"50"}),Object(n.jsx)("option",{value:100,children:"100"}),Object(n.jsx)("option",{value:150,children:"150"}),Object(n.jsx)("option",{value:200,children:"200"})]})})]}),Object(n.jsxs)("table",{className:"table table-borderless",children:[Object(n.jsx)("thead",{className:"color-dark-text-blue",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Source IP"}),Object(n.jsx)("th",{scope:"col",children:"Created At"}),Object(n.jsx)("th",{scope:"col-3",children:"URL"}),Object(n.jsx)("th",{scope:"col",children:"Response Status"}),Object(n.jsx)("th",{scope:"col",children:"Response Body"})]})}),Object(n.jsxs)("tbody",{onClick:I,children:[Object(n.jsx)("tr",{className:"spacer"}),r&&r.map((function(e,t){var a,s,l=t+1;if(l<(v-1)*u+1||l>v*u)return null;try{s=JSON.parse(e.responseBody)}catch(i){console.log("There was an error"),s={hideButton:!0}}return Object(n.jsxs)(c.Fragment,{children:[Object(n.jsxs)("tr",{className:"audit-history-card",children:[Object(n.jsx)("td",{className:"",children:e.ip}),Object(n.jsx)("td",{className:"col-2",children:Ye()(e.createdAt).format("DD/MM/YYYY, h:mm:ss a")}),Object(n.jsx)("td",{className:"col-2",children:e.endpoint}),Object(n.jsx)("td",{className:"",children:e.responseCode}),Object(n.jsxs)("td",{className:"res-body",children:[Object(n.jsxs)("p",{children:["error:"," ",(null===(a=s.error)||void 0===a?void 0:a.toString())||"false"]}),!s.hideButton&&Object(n.jsx)("button",{onClick:I,"data-entry-id":t,className:"btn btn-success action-btn",children:"View Response Body"})]})]}),t!==r.length-1&&Object(n.jsx)("tr",{className:"spacer"})]},t)}))]})]}),Object(n.jsx)("div",{className:"audit-history-footer",children:Object(n.jsx)(Zn.a,{pageCount:g,marginPagesDisplayed:2,pageRangeDisplayed:3,forcePage:v-1,onPageChange:function(e){return cc(e,s,fn)},containerClassName:"pagination-btns",activeLinkClassName:"active",pageLinkClassName:"btn",previousLabel:Object(n.jsx)(Kt,{}),previousLinkClassName:"btn icon",nextLabel:Object(n.jsx)(Kt,{style:{transform:"rotateY(180deg)"}}),nextLinkClassName:"btn icon",disabledClassName:"disabled"})})]})]}),Object(n.jsx)(dn,{id:"resBodyModal",showCloseX:!0,children:Object(n.jsx)("pre",{className:"res-body-pre",dangerouslySetInnerHTML:{__html:bn.a.sanitize(_)}})})]})},Hs=function(){Object(o.i)().path;var e=Object(o.g)(),t=pe(),a=ce(),r=(Object(c.useCallback)((function(e,a,n){return Jn(t)(e,a,n)}),[t]),Object(c.useState)("all")),s=Object(p.a)(r,2),l=s[0],i=s[1],u=Object(c.useState)(!1),d=Object(p.a)(u,2),j=d[0],b=(d[1],Object(c.useState)([])),m=Object(p.a)(b,2),h=(m[0],m[1],Object(c.useState)(!1)),O=Object(p.a)(h,2),v=(O[0],O[1],Object(c.useState)([])),x=Object(p.a)(v,2),f=(x[0],x[1],Object(c.useRef)(!1),ee());return Object(c.useEffect)((function(){Kn(f,e,Ve.a,t,ye)}),[t,e,f]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("header",{children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"Audit Logs"}),Object(n.jsxs)("nav",{children:[Object(n.jsx)("a",{className:"all"===l?"active":"",onClick:function(e){return i("all")},children:"CBA Logs"}),Object(n.jsx)("a",{className:"loan"===l?"active":"",onClick:function(e){return i("loan")},children:"Loan Logs"})]})]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"small-admin-details",children:[Object(n.jsx)("img",{src:ze,alt:""}),a||"NPF Admin",Object(n.jsx)("i",{className:"arrow down"})]}),Object(n.jsx)("div",{className:"some-container",children:"all"===l&&Object(n.jsxs)("form",{className:"search-div",children:[Object(n.jsx)("label",{htmlFor:"search",children:Object(n.jsx)(rt,{})}),Object(n.jsx)("input",{type:"search",className:"form-control",name:"search",id:"search","aria-label":"Search by email",placeholder:"Search by email"})]})})]})]}),!j&&"all"===l&&Object(n.jsx)(rc,{}),!j&&"loan"===l&&Object(n.jsx)(zs,{})]})},Gs=function(e){var t=Object(o.i)().path;return Object(n.jsxs)("article",{style:{display:"flex",minHeight:"100vh"},children:[Object(n.jsx)("section",{children:Object(n.jsx)(Ds,{})}),Object(n.jsx)("section",{className:"content",children:Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.b,{exact:!0,path:t,children:Object(n.jsx)(o.a,{to:t+"/customers"})}),Object(n.jsx)(o.b,{path:t+"/customers",component:dc}),Object(n.jsx)(o.b,{path:t+"/loanMan",component:ks}),Object(n.jsx)(o.b,{path:t+"/failedBillings",component:jc}),Object(n.jsx)(o.b,{path:t+"/changePassword",component:As}),Object(n.jsx)(o.b,{path:t+"/superAdmin",component:Ts}),Object(n.jsx)(o.b,{path:t+"/helpDesk",component:Ys}),Object(n.jsx)(o.b,{path:t+"/auditLog",component:Hs})]})})]})},Ws=function(){return Object(n.jsx)(he,{children:Object(n.jsx)(i.a,{children:Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.b,{exact:!0,path:"/",children:Object(n.jsx)(o.a,{to:"/login"})}),Object(n.jsx)(o.b,{exact:!0,path:"/login",component:Te}),Object(n.jsx)(o.b,{path:["/resetPassword/:token","/update_password/:token"],component:As}),Object(n.jsx)(Oe,{path:"/pages",children:Object(n.jsx)(Gs,{})}),Object(n.jsx)(o.b,{path:"*",component:Be})]})})})};l.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(Ws,{})}),document.getElementById("root"))}},[[433,1,2]]]);
//# sourceMappingURL=main.78c575fc.chunk.js.map