{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/xerde2/Downloads/npf-admin-web/src/components/loanAuditHistory.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport moment from \"moment\";\nimport DOMPurify from \"dompurify\";\nimport { ReactComponent as NothingFoundIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../assets/icons/nothing-found.svg\";\nimport { ReactComponent as SpinnerIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../assets/icons/spinner.svg\";\nimport { ReactComponent as ArrowLeftShortCircleFill } from \"@svgr/webpack?-svgo,+titleProp,+ref!../assets/icons/arrow-left-short-circle-fill.svg\";\nimport { getLoanLogs } from \"../services/customerService\";\nimport notify from \"../utils/notification\";\nimport errorHandler from \"../utils/errorHandler\";\nimport { handleOpenModal, useAuth } from \"./utilities\";\nimport ReactPaginate from \"react-paginate\";\nimport { handlePagination, limit } from \"../utils/constant\";\nimport Modal from \"./modal\";\n\nconst LoanAuditHistory = props => {\n  _s();\n\n  const [auditEntries, setAuditEntries] = useState(Array(1).fill(\"a\").map((v, idx) => ({\n    createdAt: \"2020-11-24T09:46:08.757Z\",\n    customerId: \"65\",\n    endpoint: \"/api/v1/auth/sign_in\",\n    id: 5,\n    ip: \"8.35.57.9\",\n    requestBody: '{\"phone\":\"2348067465112\",\"password\":\"897$312game\"}',\n    requestHeaders: '{\"content-length\":\"50\",\"total-route-time\":\"6\",\"x-request-start\":\"1606211168313\",\"connect-time\":\"0\",\"via\":\"1.1 vegur\",\"x-forwarded-port\":\"443\",\"x-forwarded-proto\":\"https\",\"x-forwarded-for\":\"8.35.57.9\",\"x-request-id\":\"08682b02-f276-4ae7-a5e0-da1e3f177047\",\"accept-language\":\"en-GB,en-US;q=0.9,en;q=0.8\",\"accept-encoding\":\"gzip, deflate, br\",\"referer\":\"https://npf-web.herokuapp.com/\",\"sec-fetch-dest\":\"empty\",\"sec-fetch-mode\":\"cors\",\"sec-fetch-site\":\"same-origin\",\"origin\":\"https://npf-web.herokuapp.com\",\"content-type\":\"application/json\",\"user-agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.67 Safari/537.36\",\"accept\":\"application/json\",\"connection\":\"close\",\"host\":\"20.42.119.47:8282\"}',\n    requestMethod: \"POST\",\n    responseBody: '{\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NjAsImN1c3RvbWVyTnVtYmVyIjoiMTAwMjE4NDg1IiwiY29tcGFueUNvZGUiOm51bGwsImVtYWlsIjoiZnJhbmtvcmppMTYxQGdtYWlsLmNvbSIsImZpcnN0bmFtZSI6IkZyYW5rIiwibGFzdG5hbWUiOiJPcmppIiwicGhvbmUiOiIyMzQ4MDY3NDY1MTEyIiwiaWF0IjoxNjA2MjExMTY4LCJleHAiOjE2MDYyMTgzNjh9.j_SnIj4PMaFD6rTNzUUsx36OvSVOe5gF-bhuBQc3D6A\",\"message\":\"Login successful\",\"password_change_required\":false}',\n    responseCode: \"200\",\n    responseHeaders: '{\"x-powered-by\":\"Express\",\"access-control-allow-origin\":\"*\"}',\n    updatedAt: \"2020-11-24T09:46:08.757Z\"\n  })));\n  const auth = useAuth();\n  const [itemsPerPage, setItemsPerPage] = useState(5);\n  const handleError = errorHandler(auth);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(0);\n  const [logResponse, setLogResponse] = useState(null);\n  const [isLoading, setLoading] = useState(false);\n  const {\n    userId\n  } = props;\n  useEffect(() => {\n    handleGetCustomerLogs(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleGetCustomerLogs = async () => {\n    setLoading(true);\n\n    try {\n      const result = await getLoanLogs(1, limit);\n      setLoading(false);\n      if (result.error) return notify(result.message, \"error\");\n      setAuditEntries(result.data.data);\n      setTotalPages(result.data.totalPages - 1);\n    } catch (error) {\n      handleError(error, notify, () => setLoading(false));\n    }\n  };\n\n  const handleShowResponseBody = e => {\n    const element = e.target;\n    if (!element.classList.contains(\"action-btn\")) return;\n    const entryId = element.dataset.entryId;\n    const entry = auditEntries[entryId];\n    let resBody = JSON.parse(entry.responseBody);\n\n    if (typeof resBody === \"string\") {\n      notify(resBody, \"error\");\n      return;\n    }\n\n    const formattedBody = syntaxHighlight(JSON.stringify(resBody, null, 2)); // const preElement = document.querySelector(\"res-body-pre\");\n\n    console.log(resBody, typeof resBody, formattedBody);\n    setLogResponse(formattedBody); // preElement.innerHTML = formattedBody;\n\n    handleOpenModal(\"#resBodyModal\");\n  };\n\n  function syntaxHighlight(json) {\n    if (typeof json != \"string\") {\n      json = JSON.stringify(json, undefined, 2);\n    }\n\n    json = json.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\n    return json.replace(/(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)/g, function (match) {\n      var cls = \"number\";\n\n      if (/^\"/.test(match)) {\n        if (/:$/.test(match)) {\n          cls = \"key\";\n        } else {\n          cls = \"string\";\n        }\n      } else if (/true|false/.test(match)) {\n        cls = \"boolean\";\n      } else if (/null/.test(match)) {\n        cls = \"null\";\n      }\n\n      return '<span class=\"' + cls + '\">' + match + \"</span>\";\n    });\n  }\n\n  console.log(auditEntries);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"customers-page\",\n      children: [(isLoading || auditEntries.length === 0) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"searching-block\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"svg-holder \" + (!isLoading ? \"not-loading\" : \"\"),\n          children: isLoading ? /*#__PURE__*/_jsxDEV(SpinnerIcon, {\n            className: \"rotating\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(NothingFoundIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this), !isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"NOTHING FOUND!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this), !isLoading && auditEntries.length !== 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Entries per page:\", \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              display: \"inline-block\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-control\",\n              onChange: e => setItemsPerPage(e.target.value),\n              value: itemsPerPage,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: 5,\n                children: \"5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 10,\n                children: \"10\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 20,\n                children: \"20\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 50,\n                children: \"50\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 100,\n                children: \"100\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 150,\n                children: \"150\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 200,\n                children: \"200\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table table-borderless\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"color-dark-text-blue\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Source IP\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Created At\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col-3\",\n                children: \"URL\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Response Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Response Body\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            onClick: handleShowResponseBody,\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"spacer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 17\n            }, this), auditEntries && auditEntries.map((v, idx) => {\n              var _parsedResBody$error;\n\n              const initialBoundary = (currentPage - 1) * itemsPerPage + 1;\n              const finalBoundary = currentPage * itemsPerPage;\n              const itemNumber = idx + 1;\n              if (itemNumber < initialBoundary || itemNumber > finalBoundary) return null;\n              let parsedResBody;\n\n              try {\n                parsedResBody = JSON.parse(v.responseBody);\n              } catch (error) {\n                console.log(\"There was an error\");\n                parsedResBody = {\n                  hideButton: true\n                };\n              }\n\n              return /*#__PURE__*/_jsxDEV(Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"audit-history-card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"\",\n                    children: v.ip\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"col-2\",\n                    children: moment(v.createdAt).format(\"DD/MM/YYYY, h:mm:ss a\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"col-2\",\n                    children: v.endpoint\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"\",\n                    children: v.responseCode\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"res-body\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [\"error:\", \" \", ((_parsedResBody$error = parsedResBody.error) === null || _parsedResBody$error === void 0 ? void 0 : _parsedResBody$error.toString()) || \"false\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 207,\n                      columnNumber: 29\n                    }, this), !parsedResBody.hideButton && /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: handleShowResponseBody,\n                      \"data-entry-id\": idx,\n                      className: \"btn btn-success action-btn\",\n                      children: \"View Response Body\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 212,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 25\n                }, this), idx !== auditEntries.length - 1 && /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"spacer\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 27\n                }, this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 23\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"audit-history-footer\",\n          children: /*#__PURE__*/_jsxDEV(ReactPaginate, {\n            pageCount: totalPages,\n            marginPagesDisplayed: 2,\n            pageRangeDisplayed: 3,\n            forcePage: currentPage - 1,\n            onPageChange: data => handlePagination(data, setAuditEntries, getLoanLogs),\n            containerClassName: \"pagination-btns\",\n            activeLinkClassName: \"active\",\n            pageLinkClassName: \"btn\",\n            previousLabel: /*#__PURE__*/_jsxDEV(ArrowLeftShortCircleFill, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 32\n            }, this),\n            previousLinkClassName: \"btn icon\",\n            nextLabel: /*#__PURE__*/_jsxDEV(ArrowLeftShortCircleFill, {\n              style: {\n                transform: \"rotateY(180deg)\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 19\n            }, this),\n            nextLinkClassName: \"btn icon\",\n            disabledClassName: \"disabled\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      id: \"resBodyModal\",\n      showCloseX: true,\n      children: /*#__PURE__*/_jsxDEV(\"pre\", {\n        className: \"res-body-pre\",\n        dangerouslySetInnerHTML: {\n          __html: DOMPurify.sanitize(logResponse)\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(LoanAuditHistory, \"ZjlwYTkAGoJW4vtmDGSF8iiX0As=\", false, function () {\n  return [useAuth];\n});\n\n_c = LoanAuditHistory;\nexport default LoanAuditHistory;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoanAuditHistory\");","map":{"version":3,"sources":["/Users/xerde2/Downloads/npf-admin-web/src/components/loanAuditHistory.js"],"names":["React","Fragment","useEffect","useState","moment","DOMPurify","getLoanLogs","notify","errorHandler","handleOpenModal","useAuth","ReactPaginate","handlePagination","limit","Modal","LoanAuditHistory","props","auditEntries","setAuditEntries","Array","fill","map","v","idx","createdAt","customerId","endpoint","id","ip","requestBody","requestHeaders","requestMethod","responseBody","responseCode","responseHeaders","updatedAt","auth","itemsPerPage","setItemsPerPage","handleError","currentPage","setCurrentPage","totalPages","setTotalPages","logResponse","setLogResponse","isLoading","setLoading","userId","handleGetCustomerLogs","result","error","message","data","handleShowResponseBody","e","element","target","classList","contains","entryId","dataset","entry","resBody","JSON","parse","formattedBody","syntaxHighlight","stringify","console","log","json","undefined","replace","match","cls","test","length","display","value","initialBoundary","finalBoundary","itemNumber","parsedResBody","hideButton","format","toString","transform","__html","sanitize"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\nimport moment from \"moment\";\nimport DOMPurify from \"dompurify\";\nimport { ReactComponent as NothingFoundIcon } from \"../assets/icons/nothing-found.svg\";\nimport { ReactComponent as SpinnerIcon } from \"../assets/icons/spinner.svg\";\nimport { ReactComponent as ArrowLeftShortCircleFill } from \"../assets/icons/arrow-left-short-circle-fill.svg\";\nimport { getLoanLogs } from \"../services/customerService\";\nimport notify from \"../utils/notification\";\nimport errorHandler from \"../utils/errorHandler\";\nimport { handleOpenModal, useAuth } from \"./utilities\";\nimport ReactPaginate from \"react-paginate\";\nimport { handlePagination, limit } from \"../utils/constant\";\nimport Modal from \"./modal\";\n\nconst LoanAuditHistory = (props) => {\n  const [auditEntries, setAuditEntries] = useState(\n    Array(1)\n      .fill(\"a\")\n      .map((v, idx) => ({\n        createdAt: \"2020-11-24T09:46:08.757Z\",\n        customerId: \"65\",\n        endpoint: \"/api/v1/auth/sign_in\",\n        id: 5,\n        ip: \"8.35.57.9\",\n        requestBody: '{\"phone\":\"2348067465112\",\"password\":\"897$312game\"}',\n        requestHeaders:\n          '{\"content-length\":\"50\",\"total-route-time\":\"6\",\"x-request-start\":\"1606211168313\",\"connect-time\":\"0\",\"via\":\"1.1 vegur\",\"x-forwarded-port\":\"443\",\"x-forwarded-proto\":\"https\",\"x-forwarded-for\":\"8.35.57.9\",\"x-request-id\":\"08682b02-f276-4ae7-a5e0-da1e3f177047\",\"accept-language\":\"en-GB,en-US;q=0.9,en;q=0.8\",\"accept-encoding\":\"gzip, deflate, br\",\"referer\":\"https://npf-web.herokuapp.com/\",\"sec-fetch-dest\":\"empty\",\"sec-fetch-mode\":\"cors\",\"sec-fetch-site\":\"same-origin\",\"origin\":\"https://npf-web.herokuapp.com\",\"content-type\":\"application/json\",\"user-agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.67 Safari/537.36\",\"accept\":\"application/json\",\"connection\":\"close\",\"host\":\"20.42.119.47:8282\"}',\n        requestMethod: \"POST\",\n        responseBody:\n          '{\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NjAsImN1c3RvbWVyTnVtYmVyIjoiMTAwMjE4NDg1IiwiY29tcGFueUNvZGUiOm51bGwsImVtYWlsIjoiZnJhbmtvcmppMTYxQGdtYWlsLmNvbSIsImZpcnN0bmFtZSI6IkZyYW5rIiwibGFzdG5hbWUiOiJPcmppIiwicGhvbmUiOiIyMzQ4MDY3NDY1MTEyIiwiaWF0IjoxNjA2MjExMTY4LCJleHAiOjE2MDYyMTgzNjh9.j_SnIj4PMaFD6rTNzUUsx36OvSVOe5gF-bhuBQc3D6A\",\"message\":\"Login successful\",\"password_change_required\":false}',\n        responseCode: \"200\",\n        responseHeaders:\n          '{\"x-powered-by\":\"Express\",\"access-control-allow-origin\":\"*\"}',\n        updatedAt: \"2020-11-24T09:46:08.757Z\",\n      }))\n  );\n  const auth = useAuth();\n  const [itemsPerPage, setItemsPerPage] = useState(5);\n  const handleError = errorHandler(auth);\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(0);\n  const [logResponse, setLogResponse] = useState(null);\n\n  const [isLoading, setLoading] = useState(false);\n  const { userId } = props;\n\n  useEffect(() => {\n    handleGetCustomerLogs();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleGetCustomerLogs = async () => {\n    setLoading(true);\n    try {\n      const result = await getLoanLogs(1, limit);\n\n      setLoading(false);\n      if (result.error) return notify(result.message, \"error\");\n      setAuditEntries(result.data.data);\n      setTotalPages(result.data.totalPages - 1);\n    } catch (error) {\n      handleError(error, notify, () => setLoading(false));\n    }\n  };\n\n  const handleShowResponseBody = (e) => {\n    const element = e.target;\n    if (!element.classList.contains(\"action-btn\")) return;\n    const entryId = element.dataset.entryId;\n    const entry = auditEntries[entryId];\n\n    let resBody = JSON.parse(entry.responseBody);\n\n    if (typeof resBody === \"string\") {\n      notify(resBody, \"error\");\n      return;\n    }\n\n    const formattedBody = syntaxHighlight(JSON.stringify(resBody, null, 2));\n    // const preElement = document.querySelector(\"res-body-pre\");\n    console.log(resBody, typeof resBody, formattedBody);\n    setLogResponse(formattedBody);\n    // preElement.innerHTML = formattedBody;\n    handleOpenModal(\"#resBodyModal\");\n  };\n\n  function syntaxHighlight(json) {\n    if (typeof json != \"string\") {\n      json = JSON.stringify(json, undefined, 2);\n    }\n    json = json\n      .replace(/&/g, \"&amp;\")\n      .replace(/</g, \"&lt;\")\n      .replace(/>/g, \"&gt;\");\n    return json.replace(\n      /(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)/g,\n      function (match) {\n        var cls = \"number\";\n        if (/^\"/.test(match)) {\n          if (/:$/.test(match)) {\n            cls = \"key\";\n          } else {\n            cls = \"string\";\n          }\n        } else if (/true|false/.test(match)) {\n          cls = \"boolean\";\n        } else if (/null/.test(match)) {\n          cls = \"null\";\n        }\n        return '<span class=\"' + cls + '\">' + match + \"</span>\";\n      }\n    );\n  }\n\n  console.log(auditEntries);\n\n  return (\n    <>\n      <main className=\"customers-page\">\n        {(isLoading || auditEntries.length === 0) && (\n          <div className=\"searching-block\">\n            <div className={\"svg-holder \" + (!isLoading ? \"not-loading\" : \"\")}>\n              {isLoading ? (\n                <SpinnerIcon className=\"rotating\" />\n              ) : (\n                <NothingFoundIcon />\n              )}\n            </div>\n            {!isLoading && <p>NOTHING FOUND!</p>}\n          </div>\n        )}\n        {!isLoading && auditEntries.length !== 0 && (\n          <>\n            <div>\n              Entries per page:{\" \"}\n              <div className=\"form-group\" style={{ display: \"inline-block\" }}>\n                <select\n                  className=\"form-control\"\n                  onChange={(e) => setItemsPerPage(e.target.value)}\n                  value={itemsPerPage}\n                >\n                  <option value={5}>5</option>\n                  <option value={10}>10</option>\n                  <option value={20}>20</option>\n                  <option value={50}>50</option>\n                  <option value={100}>100</option>\n                  <option value={150}>150</option>\n                  <option value={200}>200</option>\n                </select>\n              </div>\n            </div>\n            <table className=\"table table-borderless\">\n              <thead className=\"color-dark-text-blue\">\n                <tr>\n                  {/* <th scope=\"col\">\n              <input type=\"checkbox\" />\n            </th> */}\n                  <th scope=\"col\">Source IP</th>\n                  <th scope=\"col\">Created At</th>\n                  <th scope=\"col-3\">URL</th>\n                  <th scope=\"col\">Response Status</th>\n                  <th scope=\"col\">Response Body</th>\n                </tr>\n              </thead>\n              <tbody onClick={handleShowResponseBody}>\n                <tr className=\"spacer\" />\n                {auditEntries &&\n                  auditEntries.map((v, idx) => {\n                    const initialBoundary =\n                      (currentPage - 1) * itemsPerPage + 1;\n                    const finalBoundary = currentPage * itemsPerPage;\n                    const itemNumber = idx + 1;\n                    if (\n                      itemNumber < initialBoundary ||\n                      itemNumber > finalBoundary\n                    )\n                      return null;\n                    let parsedResBody;\n                    try {\n                      parsedResBody = JSON.parse(v.responseBody);\n                    } catch (error) {\n                      console.log(\"There was an error\");\n                      parsedResBody = { hideButton: true };\n                    }\n                    return (\n                      <Fragment key={idx}>\n                        <tr className=\"audit-history-card\">\n                          {/* <th scope=\"row\">\n                    <input type=\"checkbox\" />\n                  </th>\n                  <td className=\"major-details\">\n                    <div className=\"name font-weight-bold\">{v.firstname} {v.lastname}</div>\n                    <div className=\"email font-weight-light\">{v.email}</div>\n                    <div className=\"acc-number\">AC/N: {v.accountNumber}</div>\n                  </td>\n                  <td className=\"\">&#8358;{numeral(v.amount).format(\"0,0.00\")}</td> */}\n                          <td className=\"\">{v.ip}</td>\n                          <td className=\"col-2\">\n                            {moment(v.createdAt).format(\n                              \"DD/MM/YYYY, h:mm:ss a\"\n                            )}\n                          </td>\n                          <td className=\"col-2\">{v.endpoint}</td>\n                          <td className=\"\">{v.responseCode}</td>\n                          <td className=\"res-body\">\n                            <p>\n                              error:{\" \"}\n                              {parsedResBody.error?.toString() || \"false\"}\n                            </p>\n                            {!parsedResBody.hideButton && (\n                              <button\n                                onClick={handleShowResponseBody}\n                                data-entry-id={idx}\n                                className=\"btn btn-success action-btn\"\n                              >\n                                View Response Body\n                              </button>\n                            )}\n                            {/* {responseBody.map(([propt, value], idx) => (\n                      <div className=\"row\" key={idx}>\n                        <div className=\"col-4 res-propt text-break\">{propt}:</div>\n                        <div className=\"col res-value text-break\">{value.toString()}</div>\n                      </div>\n                    ))} */}\n                          </td>\n                          {/* <td>\n                    <span className={`txn-type ${v.type.toLowerCase()}`}>\n                      {v.type}\n                    </span>\n                  </td>\n                  <td className=\"\">{v.originBranch}</td>\n                  <td className=\"\">{v.transDate}</td>\n                  <td className=\"\">\n                    {v.narrative.split(\"/n\")[0]} <br/> {v.narrative.split(\"/n\")[1]}\n                  </td> */}\n                        </tr>\n                        {idx !== auditEntries.length - 1 && (\n                          <tr className=\"spacer\" />\n                        )}\n                      </Fragment>\n                    );\n                  })}\n              </tbody>\n            </table>\n            <div className=\"audit-history-footer\">\n              <ReactPaginate\n                pageCount={totalPages}\n                marginPagesDisplayed={2}\n                pageRangeDisplayed={3}\n                forcePage={currentPage - 1}\n                onPageChange={(data) =>\n                  handlePagination(data, setAuditEntries, getLoanLogs)\n                }\n                containerClassName=\"pagination-btns\"\n                activeLinkClassName=\"active\"\n                pageLinkClassName=\"btn\"\n                previousLabel={<ArrowLeftShortCircleFill />}\n                previousLinkClassName=\"btn icon\"\n                nextLabel={\n                  <ArrowLeftShortCircleFill\n                    style={{ transform: \"rotateY(180deg)\" }}\n                  />\n                }\n                nextLinkClassName=\"btn icon\"\n                disabledClassName=\"disabled\"\n              />\n            </div>\n          </>\n        )}\n      </main>\n      <Modal id=\"resBodyModal\" showCloseX>\n        <pre\n          className=\"res-body-pre\"\n          dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(logResponse) }}\n        ></pre>\n      </Modal>\n    </>\n  );\n};\n\nexport default LoanAuditHistory;\n"]},"metadata":{},"sourceType":"module"}