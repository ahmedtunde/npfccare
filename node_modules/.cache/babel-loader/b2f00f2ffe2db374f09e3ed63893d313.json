{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/xerde2/Downloads/npf-admin-web/src/components/loanManagement/AllLoanApplications.js\",\n    _s = $RefreshSig$();\n\nimport face from \"../../assets/img/placeholder-img.png\";\nimport { ReactComponent as SearchIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/search.svg\";\nimport { ReactComponent as PlusIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/icons8-plus.svg\";\nimport { ReactComponent as ArrowLeftShortCircleFill } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/arrow-left-short-circle-fill.svg\";\nimport { ReactComponent as SpinnerIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/spinner.svg\";\nimport { ReactComponent as NothingFoundIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/nothing-found.svg\";\nimport { ReactComponent as MenuIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/menu.svg\";\nimport { useState, useEffect, useCallback } from \"react\";\nimport ReactPaginate from \"react-paginate\";\nimport LoanCustomerCard from \"./loanCustomerCard\";\nimport RunningLoans from \"./runningLoans\";\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\nimport { getBranches, getPendingLoans } from \"../../services/loanService\";\nimport numeral from \"numeral\";\nimport jwt_decode from \"jwt-decode\";\nimport { useAuth } from \"../utilities\";\nimport { LoanErrorHandler, validateToken } from \"../../utils/errorHandler\";\nimport notify from \"../../utils/notification\";\nimport { getAccessToken, getAdminName, getBranchId, getRoles } from \"../../utils/localStorageService\";\nimport { easternRegion, northernRegion, westernRegion } from \"../../utils/constant\";\n\nconst AllLoanApplications = props => {\n  _s();\n\n  var _allLoans$showCustome2, _allLoans$showCustome3, _allLoans$showCustome4, _allLoans$showCustome5;\n\n  const history = useHistory();\n  const {\n    path\n  } = useRouteMatch();\n  const adminName = getAdminName();\n  const auth = useAuth(); // useCallback ensures that handle error function isn't recreated on every render\n\n  const handleError = useCallback((errorObject, notify, cb) => LoanErrorHandler(auth)(errorObject, notify, cb), [auth]);\n  const [allLoans, setLoans] = useState({\n    inProcess: [],\n    approved: [],\n    declined: [],\n    running: [],\n    paid: []\n  });\n  const [itemsPerPage, setItemsPerPage] = useState(5);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [showCustomers, setShowCustomers] = useState(\"inProcess\");\n  const [isLoading, setLoading] = useState(false);\n  const [branches, setBranches] = useState([]);\n  const [branchesId, setBranchesId] = useState([]);\n  const [dashboardItems, setDashboardItems] = useState({\n    new_applications: 0,\n    upcoming_disbursement: 0,\n    total_loan_value: 0,\n    total_repayments: 0\n  });\n  const HQ_ID = Number(process.env.REACT_APP_HQ_ID);\n  const WQ_ID = Number(process.env.REACT_APP_WQ_ID);\n  const NQ_ID = Number(process.env.REACT_APP_NQ_ID);\n  const EQ_ID = Number(process.env.REACT_APP_EQ_ID);\n  const adminBranchId = getBranchId();\n  const roles = getRoles();\n  const idNum = Number(adminBranchId);\n  const token = getAccessToken();\n  useEffect(() => {\n    validateToken(token, history, jwt_decode, auth, notify);\n  }, [auth, history, token]);\n  useEffect(() => {\n    async function handleGetAllLoanApplications() {\n      try {\n        var _result$data, _result$data2, _result$data3, _result$data4;\n\n        setLoading(true);\n        const result = await getPendingLoans();\n        setLoading(false);\n        if (result === null || result === void 0 ? void 0 : (_result$data = result.data) === null || _result$data === void 0 ? void 0 : _result$data.loans) setLoans(result === null || result === void 0 ? void 0 : (_result$data2 = result.data) === null || _result$data2 === void 0 ? void 0 : _result$data2.loans);\n        if (result === null || result === void 0 ? void 0 : (_result$data3 = result.data) === null || _result$data3 === void 0 ? void 0 : _result$data3.dashboard) setDashboardItems(result === null || result === void 0 ? void 0 : (_result$data4 = result.data) === null || _result$data4 === void 0 ? void 0 : _result$data4.dashboard);\n      } catch (error) {\n        handleError(error, notify, () => setLoading(false));\n      }\n    }\n\n    handleGetAllLoanApplications(); // console.log('newc', customer);\n  }, [handleError]); // console.log(branchesId, branches);\n\n  useEffect(() => {\n    const northernRegionIds = [];\n    const easternRegionIds = [];\n    const westernRegionIds = [];\n\n    const handleGetBranches = async () => {\n      const getAllBranches = await getBranches();\n      if (getAllBranches === null || getAllBranches === void 0 ? void 0 : getAllBranches.data) setBranches(getAllBranches === null || getAllBranches === void 0 ? void 0 : getAllBranches.data); // console.log(getAllBranches.data);\n\n      if (getAllBranches) {\n        branches.forEach(item => {\n          if (northernRegion.includes(item.name.toLowerCase())) {\n            northernRegionIds.push(item.id);\n          }\n\n          if (easternRegion.includes(item.name.toLowerCase())) {\n            easternRegionIds.push(item.id);\n          }\n\n          if (westernRegion.includes(item.name.toLowerCase())) {\n            westernRegionIds.push(item.id);\n          }\n        });\n\n        if (easternRegionIds && easternRegionIds.includes(idNum)) {\n          setBranchesId(easternRegionIds);\n        } else if (northernRegionIds && northernRegionIds.includes(idNum)) {\n          setBranchesId(northernRegionIds);\n        } else if (westernRegionIds && westernRegionIds.includes(idNum)) {\n          setBranchesId(westernRegionIds);\n        } else {\n          setBranchesId([]);\n        } // console.log(northernRegionIds, easternRegionIds, branchesId);\n\n      }\n    };\n\n    handleGetBranches();\n  }, [branches, idNum]);\n\n  const handleNavigateToCustomer = e => {\n    const element = e.target;\n    if (!element.classList.contains(\"action-btn\")) return;\n    const userId = element.dataset.userId; // console.log(userId);\n    // const requestedCustomer = customers[customers.findIndex(v => v.id.toString() === userId)];\n    // history.push(`${path}/${userId}`, {requestedCustomer: requestedCustomer});\n\n    if (showCustomers === \"inProcess\") {\n      history.push(`${path}/inProcess?id=${userId}`);\n      return;\n    }\n\n    if (showCustomers === \"running\" || showCustomers === \"paid\") {\n      history.push(`${path}/schedule?id=${userId}`);\n      return;\n    }\n\n    history.push(`${path}/customer?id=${userId}`);\n  }; // let customerCount = 0;\n\n\n  const customerCount = () => {\n    var _allLoans$showCustome;\n\n    let countArr = [];\n    (_allLoans$showCustome = allLoans[showCustomers]) === null || _allLoans$showCustome === void 0 ? void 0 : _allLoans$showCustome.forEach(customer => {\n      // check.push(customer.approvalBranch_id);\n      if (idNum === HQ_ID) {\n        countArr.push(customer.approvalBranch_id);\n      } else if (idNum === customer.approvalBranch_id) {\n        const checkCount = [];\n        checkCount.push(customer.approvalBranch_id);\n\n        for (let count of checkCount) {\n          if (count) countArr.push(count);\n        }\n      } else if (idNum === NQ_ID && branchesId.includes(customer.approvalBranch_id)) {\n        const checkCount = [];\n        checkCount.push(customer.approvalBranch_id);\n\n        for (let count of checkCount) {\n          if (count) countArr.push(count);\n        }\n      } else if (idNum === WQ_ID && branchesId.includes(customer.approvalBranch_id)) {\n        const checkCount = [];\n        checkCount.push(customer.approvalBranch_id);\n\n        for (let count of checkCount) {\n          if (count) countArr.push(count);\n        }\n      } else if (idNum === EQ_ID && branchesId.includes(customer.approvalBranch_id)) {\n        const checkCount = [];\n        checkCount.push(customer.approvalBranch_id);\n\n        for (let count of checkCount) {\n          if (count) countArr.push(count);\n        }\n      }\n    });\n    return countArr.length;\n  };\n\n  const upcomingDisbursement = () => {\n    let amount = 0;\n    allLoans[\"approved\"].forEach(customer => {\n      // console.log(idNum, customer.approvalBranch_id)\n      if (idNum === HQ_ID) {\n        amount += customer.approved_amount;\n      } else if (idNum === customer.approvalBranch_id) {\n        amount += customer.approved_amount;\n      } else if (idNum === NQ_ID && branchesId.includes(customer.approvalBranch_id)) {\n        amount += customer.approved_amount;\n      } else if (idNum === WQ_ID && branchesId.includes(customer.approvalBranch_id)) {\n        amount += customer.approved_amount;\n      } else if (idNum === EQ_ID && branchesId.includes(customer.approvalBranch_id)) {\n        amount += customer.approved_amount;\n      }\n    }); // handleBranches();\n\n    return amount;\n  };\n\n  const totalLoanValue = () => {\n    let amount = 0;\n    const disbursedLoans = upcomingDisbursement();\n    allLoans[\"running\"].forEach(customer => {\n      if (idNum === HQ_ID) {\n        amount += customer.approved_amount;\n      } else if (idNum === customer.approvalBranch_id) {\n        amount += customer.approved_amount;\n      } else if (idNum === NQ_ID && branchesId.includes(customer.approvalBranch_id)) {\n        amount += customer.approved_amount;\n      } else if (idNum === WQ_ID && branchesId.includes(customer.approvalBranch_id)) {\n        amount += customer.approved_amount;\n      } else if (idNum === EQ_ID && branchesId.includes(customer.approvalBranch_id)) {\n        amount += customer.approved_amount;\n      }\n    });\n    return amount + disbursedLoans;\n  };\n\n  const totalRepayments = () => {\n    let amount = 0;\n    allLoans[\"paid\"].forEach(customer => {\n      if (idNum === HQ_ID) {\n        amount += customer.approved_amount;\n      } else if (idNum === customer.approvalBranch_id) {\n        amount += customer.approved_amount;\n      } else if (idNum === NQ_ID && branchesId.includes(customer.approvalBranch_id)) {\n        amount += customer.approved_amount;\n      } else if (idNum === WQ_ID && branchesId.includes(customer.approvalBranch_id)) {\n        amount += customer.approved_amount;\n      } else if (idNum === EQ_ID && branchesId.includes(customer.approvalBranch_id)) {\n        amount += customer.approved_amount;\n      }\n    });\n    return amount;\n  };\n\n  const applicationCount = () => {\n    let appCount;\n\n    switch (showCustomers) {\n      case \"paid\":\n        appCount = \"Closed Applications\";\n        break;\n\n      case \"approved\":\n        appCount = \"Approved Applications\";\n        break;\n\n      case \"declined\":\n        appCount = \"Declined Applications\";\n        break;\n\n      case \"running\":\n        appCount = \"Running Applications\";\n        break;\n\n      default:\n        appCount = \"New Applications\";\n    }\n\n    return appCount;\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"loans-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Loan Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"small-admin-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: face,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this), adminName || `NPF Admin`, /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"arrow down\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loan-dashboard\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loan-dashboard-card row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-3 side-icon\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"side-icon-inner color-purplish bg-color-purplish\",\n            style: {\n              paddingRight: \"18px\",\n              paddingLeft: \"18px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(MenuIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-details col-9\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-content\",\n            children: numeral(customerCount()).format(\"0,0\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-title\",\n            children: applicationCount()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loan-dashboard-card row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-3 side-icon\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"side-icon-inner bg-color-blueish color-blueish\",\n            children: \"\\u20A6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-details col-9\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-content\",\n            children: [\"\\u20A6 \", numeral(upcomingDisbursement()).format(\"0,0.00\")]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-title\",\n            children: \"Upcoming Disbursement\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loan-dashboard-card row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-3 side-icon\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"side-icon-inner bg-color-redish color-redish\",\n            children: \"\\u20A6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-details col-9\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-content\",\n            children: [\"\\u20A6 \", numeral(totalLoanValue()).format(\"0,0.00\")]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-title\",\n            children: \"Total Loan Value\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loan-dashboard-card row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-3 side-icon\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"side-icon-inner color-greenish bg-color-greenish\",\n            children: \"\\u20A6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-details col-9\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-content\",\n            children: [\"\\u20A6 \", numeral(totalRepayments()).format(\"0,0.00\")]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-title\",\n            children: \"Total Repayments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loan-nav-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          className: showCustomers === \"inProcess\" ? \"active\" : \"\",\n          onClick: e => setShowCustomers(\"inProcess\"),\n          children: \"In process\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          className: showCustomers === \"approved\" ? \"active\" : \"\",\n          onClick: e => setShowCustomers(\"approved\"),\n          children: \"Approved\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          className: showCustomers === \"declined\" ? \"active\" : \"\",\n          onClick: e => setShowCustomers(\"declined\"),\n          children: \"Declined\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          className: showCustomers === \"running\" ? \"active\" : \"\",\n          onClick: e => setShowCustomers(\"running\"),\n          children: \"Running\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          className: showCustomers === \"paid\" ? \"active\" : \"\",\n          onClick: e => setShowCustomers(\"paid\"),\n          children: \"Closed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"some-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-div d-none\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"search\",\n            children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"search\",\n            className: \"form-control\",\n            name: \"search\",\n            id: \"search\",\n            \"aria-label\": \"Search for customers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn create-admin-btn\",\n          onClick: e => history.push(`${path}/new/selectCustomer`),\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: /*#__PURE__*/_jsxDEV(PlusIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 13\n          }, this), \"New application\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 7\n    }, this), branchesId.length > 0 || idNum === HQ_ID ? /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"loans-page customers-page\",\n      children: [(isLoading || ((_allLoans$showCustome2 = allLoans[showCustomers]) === null || _allLoans$showCustome2 === void 0 ? void 0 : _allLoans$showCustome2.length) === 0) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"searching-block\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"svg-holder \" + (!isLoading ? \"not-loading\" : \"\"),\n          children: isLoading ? /*#__PURE__*/_jsxDEV(SpinnerIcon, {\n            className: \"rotating\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(NothingFoundIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 15\n        }, this), !isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"NOTHING FOUND!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 30\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 13\n      }, this), !isLoading && ((_allLoans$showCustome3 = allLoans[showCustomers]) === null || _allLoans$showCustome3 === void 0 ? void 0 : _allLoans$showCustome3.length) > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"color-dark-text-blue\",\n          children: [\"Entries per page:\", \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              display: \"inline-block\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-control\",\n              onChange: e => {\n                setItemsPerPage(e.target.value);\n                setCurrentPage(1);\n              },\n              value: itemsPerPage,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: 5,\n                children: \"5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 10,\n                children: \"10\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 20,\n                children: \"20\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 50,\n                children: \"50\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 100,\n                children: \"100\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 150,\n                children: \"150\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 200,\n                children: \"200\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 15\n        }, this), showCustomers === \"running\" ? /*#__PURE__*/_jsxDEV(RunningLoans, {\n          idNum: idNum,\n          HQ_ID: HQ_ID,\n          EQ_ID: EQ_ID,\n          NQ_ID: NQ_ID,\n          WQ_ID: WQ_ID,\n          branchesId: branchesId,\n          customers: allLoans[showCustomers],\n          roles: roles\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table table-borderless table-hover\",\n          onClick: handleNavigateToCustomer,\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"color-dark-text-blue\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  name: \"selCustomer-all\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 505,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Customer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 23\n              }, this), (showCustomers === \"submitted\" || showCustomers === \"inProcess\") && /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Loan Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 511,\n                columnNumber: 25\n              }, this), showCustomers !== \"submitted\" && showCustomers !== \"inProcess\" && /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Customer Request\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 516,\n                columnNumber: 27\n              }, this), (showCustomers === \"approved\" || showCustomers === \"paid\") && /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Bank Offer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 521,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Repayment Method\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 23\n              }, this), showCustomers === \"submitted\" && /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: [\"DTI \\xA0 \\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"dti positive\",\n                  children: \"%\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 527,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 25\n              }, this), showCustomers === \"inProcess\" && /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 531,\n                columnNumber: 25\n              }, this), (showCustomers === \"inProcess\" || showCustomers === \"approved\") && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: [\"System Score \\xA0 \\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"dti positive\",\n                    children: \"%\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 538,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 536,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false), showCustomers === \"declined\" && /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                className: \"col-4\",\n                children: \"Narrative\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 544,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: showCustomers === \"paid\" ? \"Closed\" : \"Application Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 548,\n                columnNumber: 23\n              }, this), showCustomers !== \"declined\" && /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Action\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 555,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"spacer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 560,\n              columnNumber: 21\n            }, this), (_allLoans$showCustome4 = allLoans[showCustomers]) === null || _allLoans$showCustome4 === void 0 ? void 0 : _allLoans$showCustome4.map((customer, idx, arr) => {\n              const checkItemNumber = [];\n\n              if (idNum === HQ_ID) {\n                checkItemNumber.push(customer.approvalBranch_id);\n                const initialBoundary = (currentPage - 1) * itemsPerPage + 1;\n                const finalBoundary = currentPage * itemsPerPage;\n                const itemNumber = idx + 1;\n                if (itemNumber < initialBoundary || itemNumber > finalBoundary) return null;\n                return /*#__PURE__*/_jsxDEV(LoanCustomerCard, {\n                  customerDetails: customer,\n                  showMajorDetails: true,\n                  shownCustomerCategory: showCustomers,\n                  roles: roles,\n                  children: idx !== arr.length - 1 && /*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: \"spacer\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 584,\n                    columnNumber: 31\n                  }, this)\n                }, customer.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 576,\n                  columnNumber: 27\n                }, this);\n              } else if (idNum === customer.approvalBranch_id) {\n                checkItemNumber.push(customer.approvalBranch_id);\n                const initialBoundary = (currentPage - 1) * itemsPerPage + 1;\n                const finalBoundary = currentPage * itemsPerPage;\n                const itemNumber = idx + 1;\n                if (itemNumber < initialBoundary || itemNumber > finalBoundary) return null;\n                return /*#__PURE__*/_jsxDEV(LoanCustomerCard, {\n                  customerDetails: customer,\n                  showMajorDetails: true,\n                  shownCustomerCategory: showCustomers,\n                  roles: roles,\n                  children: idx !== arr.length - 1 && /*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: \"spacer\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 609,\n                    columnNumber: 31\n                  }, this)\n                }, customer.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 601,\n                  columnNumber: 27\n                }, this);\n              } else if (idNum === NQ_ID && branchesId.includes(customer.approvalBranch_id)) {\n                checkItemNumber.push(customer.approvalBranch_id);\n                const initialBoundary = (currentPage - 1) * itemsPerPage + 1;\n                const finalBoundary = currentPage * itemsPerPage;\n                const itemNumber = idx + 1;\n                if (itemNumber < initialBoundary || itemNumber > finalBoundary) return null;\n                return /*#__PURE__*/_jsxDEV(LoanCustomerCard, {\n                  customerDetails: customer,\n                  showMajorDetails: true,\n                  shownCustomerCategory: showCustomers,\n                  roles: roles,\n                  children: idx !== arr.length - 1 && /*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: \"spacer\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 637,\n                    columnNumber: 31\n                  }, this)\n                }, customer.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 629,\n                  columnNumber: 27\n                }, this);\n              } else if (idNum === EQ_ID && branchesId.includes(customer.approvalBranch_id)) {\n                checkItemNumber.push(customer.approvalBranch_id);\n                const initialBoundary = (currentPage - 1) * itemsPerPage + 1;\n                const finalBoundary = currentPage * itemsPerPage;\n                const itemNumber = idx + 1;\n                if (itemNumber < initialBoundary || itemNumber > finalBoundary) return null;\n                return /*#__PURE__*/_jsxDEV(LoanCustomerCard, {\n                  customerDetails: customer,\n                  showMajorDetails: true,\n                  shownCustomerCategory: showCustomers,\n                  roles: roles,\n                  children: idx !== arr.length - 1 && /*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: \"spacer\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 665,\n                    columnNumber: 31\n                  }, this)\n                }, customer.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 657,\n                  columnNumber: 27\n                }, this);\n              } else if (idNum === WQ_ID && branchesId.includes(customer.approvalBranch_id)) {\n                checkItemNumber.push(customer.approvalBranch_id);\n                const initialBoundary = (currentPage - 1) * itemsPerPage + 1;\n                const finalBoundary = currentPage * itemsPerPage;\n                const itemNumber = idx + 1;\n                if (itemNumber < initialBoundary || itemNumber > finalBoundary) return null;\n                return /*#__PURE__*/_jsxDEV(LoanCustomerCard, {\n                  customerDetails: customer,\n                  showMajorDetails: true,\n                  shownCustomerCategory: showCustomers,\n                  roles: roles,\n                  children: idx !== arr.length - 1 && /*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: \"spacer\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 693,\n                    columnNumber: 31\n                  }, this)\n                }, customer.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 685,\n                  columnNumber: 27\n                }, this);\n              }\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"paginate-footer\",\n          children: /*#__PURE__*/_jsxDEV(ReactPaginate, {\n            pageCount: Math.ceil(((_allLoans$showCustome5 = allLoans[showCustomers]) === null || _allLoans$showCustome5 === void 0 ? void 0 : _allLoans$showCustome5.length) / itemsPerPage),\n            marginPagesDisplayed: 2,\n            pageRangeDisplayed: 3,\n            forcePage: currentPage - 5,\n            onPageChange: selectedItem => setCurrentPage(selectedItem.selected + 1),\n            containerClassName: \"pagination-btns\",\n            activeLinkClassName: \"active\",\n            pageLinkClassName: \"btn\",\n            previousLabel: /*#__PURE__*/_jsxDEV(ArrowLeftShortCircleFill, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 716,\n              columnNumber: 34\n            }, this),\n            previousLinkClassName: \"btn icon\",\n            nextLabel: /*#__PURE__*/_jsxDEV(ArrowLeftShortCircleFill, {\n              style: {\n                transform: \"rotateY(180deg)\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 719,\n              columnNumber: 21\n            }, this),\n            nextLinkClassName: \"btn icon\",\n            disabledClassName: \"disabled\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 703,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 702,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"searching-block\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"svg-holder \" + (!isLoading ? \"not-loading\" : \"\"),\n        children: isLoading ? /*#__PURE__*/_jsxDEV(SpinnerIcon, {\n          className: \"rotating\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 734,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(NothingFoundIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 736,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 732,\n        columnNumber: 11\n      }, this), !isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"NOTHING FOUND!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 739,\n        columnNumber: 26\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 731,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(AllLoanApplications, \"3XV7CjgEwZaJzb3sT11+kGQCJVI=\", false, function () {\n  return [useHistory, useRouteMatch, useAuth];\n});\n\n_c = AllLoanApplications;\nexport default AllLoanApplications;\n\nvar _c;\n\n$RefreshReg$(_c, \"AllLoanApplications\");","map":{"version":3,"sources":["/Users/xerde2/Downloads/npf-admin-web/src/components/loanManagement/AllLoanApplications.js"],"names":["face","useState","useEffect","useCallback","ReactPaginate","LoanCustomerCard","RunningLoans","useHistory","useRouteMatch","getBranches","getPendingLoans","numeral","jwt_decode","useAuth","LoanErrorHandler","validateToken","notify","getAccessToken","getAdminName","getBranchId","getRoles","easternRegion","northernRegion","westernRegion","AllLoanApplications","props","history","path","adminName","auth","handleError","errorObject","cb","allLoans","setLoans","inProcess","approved","declined","running","paid","itemsPerPage","setItemsPerPage","currentPage","setCurrentPage","showCustomers","setShowCustomers","isLoading","setLoading","branches","setBranches","branchesId","setBranchesId","dashboardItems","setDashboardItems","new_applications","upcoming_disbursement","total_loan_value","total_repayments","HQ_ID","Number","process","env","REACT_APP_HQ_ID","WQ_ID","REACT_APP_WQ_ID","NQ_ID","REACT_APP_NQ_ID","EQ_ID","REACT_APP_EQ_ID","adminBranchId","roles","idNum","token","handleGetAllLoanApplications","result","data","loans","dashboard","error","northernRegionIds","easternRegionIds","westernRegionIds","handleGetBranches","getAllBranches","forEach","item","includes","name","toLowerCase","push","id","handleNavigateToCustomer","e","element","target","classList","contains","userId","dataset","customerCount","countArr","customer","approvalBranch_id","checkCount","count","length","upcomingDisbursement","amount","approved_amount","totalLoanValue","disbursedLoans","totalRepayments","applicationCount","appCount","paddingRight","paddingLeft","format","display","value","map","idx","arr","checkItemNumber","initialBoundary","finalBoundary","itemNumber","Math","ceil","selectedItem","selected","transform"],"mappings":"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","sourcesContent":["import face from \"../../assets/img/placeholder-img.png\";\nimport { ReactComponent as SearchIcon } from \"../../assets/icons/search.svg\";\nimport { ReactComponent as PlusIcon } from \"../../assets/icons/icons8-plus.svg\";\nimport { ReactComponent as ArrowLeftShortCircleFill } from \"../../assets/icons/arrow-left-short-circle-fill.svg\";\nimport { ReactComponent as SpinnerIcon } from \"../../assets/icons/spinner.svg\";\nimport { ReactComponent as NothingFoundIcon } from \"../../assets/icons/nothing-found.svg\";\nimport { ReactComponent as MenuIcon } from \"../../assets/icons/menu.svg\";\nimport { useState, useEffect, useCallback } from \"react\";\nimport ReactPaginate from \"react-paginate\";\nimport LoanCustomerCard from \"./loanCustomerCard\";\nimport RunningLoans from \"./runningLoans\";\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\nimport { getBranches, getPendingLoans } from \"../../services/loanService\";\nimport numeral from \"numeral\";\nimport jwt_decode from \"jwt-decode\";\nimport { useAuth } from \"../utilities\";\nimport { LoanErrorHandler, validateToken } from \"../../utils/errorHandler\";\nimport notify from \"../../utils/notification\";\nimport {\n  getAccessToken,\n  getAdminName,\n  getBranchId,\n  getRoles,\n} from \"../../utils/localStorageService\";\nimport {\n  easternRegion,\n  northernRegion,\n  westernRegion,\n} from \"../../utils/constant\";\n\nconst AllLoanApplications = (props) => {\n  const history = useHistory();\n  const { path } = useRouteMatch();\n  const adminName = getAdminName();\n\n  const auth = useAuth();\n  // useCallback ensures that handle error function isn't recreated on every render\n  const handleError = useCallback(\n    (errorObject, notify, cb) =>\n      LoanErrorHandler(auth)(errorObject, notify, cb),\n    [auth]\n  );\n\n  const [allLoans, setLoans] = useState({\n    inProcess: [],\n    approved: [],\n    declined: [],\n    running: [],\n    paid: [],\n  });\n\n  const [itemsPerPage, setItemsPerPage] = useState(5);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [showCustomers, setShowCustomers] = useState(\"inProcess\");\n  const [isLoading, setLoading] = useState(false);\n  const [branches, setBranches] = useState([]);\n  const [branchesId, setBranchesId] = useState([]);\n  const [dashboardItems, setDashboardItems] = useState({\n    new_applications: 0,\n    upcoming_disbursement: 0,\n    total_loan_value: 0,\n    total_repayments: 0,\n  });\n\n  const HQ_ID = Number(process.env.REACT_APP_HQ_ID);\n  const WQ_ID = Number(process.env.REACT_APP_WQ_ID);\n  const NQ_ID = Number(process.env.REACT_APP_NQ_ID);\n  const EQ_ID = Number(process.env.REACT_APP_EQ_ID);\n  const adminBranchId = getBranchId();\n  const roles = getRoles();\n  const idNum = Number(adminBranchId);\n  const token = getAccessToken();\n\n  useEffect(() => {\n    validateToken(token, history, jwt_decode, auth, notify);\n  }, [auth, history, token]);\n\n  useEffect(() => {\n    async function handleGetAllLoanApplications() {\n      try {\n        setLoading(true);\n        const result = await getPendingLoans();\n        setLoading(false);\n        if (result?.data?.loans) setLoans(result?.data?.loans);\n        if (result?.data?.dashboard) setDashboardItems(result?.data?.dashboard);\n      } catch (error) {\n        handleError(error, notify, () => setLoading(false));\n      }\n    }\n\n    handleGetAllLoanApplications();\n\n    // console.log('newc', customer);\n  }, [handleError]);\n\n  // console.log(branchesId, branches);\n\n  useEffect(() => {\n    const northernRegionIds = [];\n    const easternRegionIds = [];\n    const westernRegionIds = [];\n    const handleGetBranches = async () => {\n      const getAllBranches = await getBranches();\n      if (getAllBranches?.data) setBranches(getAllBranches?.data);\n      // console.log(getAllBranches.data);\n\n      if (getAllBranches) {\n        branches.forEach((item) => {\n          if (northernRegion.includes(item.name.toLowerCase())) {\n            northernRegionIds.push(item.id);\n          }\n\n          if (easternRegion.includes(item.name.toLowerCase())) {\n            easternRegionIds.push(item.id);\n          }\n          if (westernRegion.includes(item.name.toLowerCase())) {\n            westernRegionIds.push(item.id);\n          }\n        });\n\n        if (easternRegionIds && easternRegionIds.includes(idNum)) {\n          setBranchesId(easternRegionIds);\n        } else if (northernRegionIds && northernRegionIds.includes(idNum)) {\n          setBranchesId(northernRegionIds);\n        } else if (westernRegionIds && westernRegionIds.includes(idNum)) {\n          setBranchesId(westernRegionIds);\n        } else {\n          setBranchesId([]);\n        }\n\n        // console.log(northernRegionIds, easternRegionIds, branchesId);\n      }\n    };\n\n    handleGetBranches();\n  }, [branches, idNum]);\n\n  const handleNavigateToCustomer = (e) => {\n    const element = e.target;\n    if (!element.classList.contains(\"action-btn\")) return;\n    const userId = element.dataset.userId;\n    // console.log(userId);\n    // const requestedCustomer = customers[customers.findIndex(v => v.id.toString() === userId)];\n    // history.push(`${path}/${userId}`, {requestedCustomer: requestedCustomer});\n    if (showCustomers === \"inProcess\") {\n      history.push(`${path}/inProcess?id=${userId}`);\n      return;\n    }\n    if (showCustomers === \"running\" || showCustomers === \"paid\") {\n      history.push(`${path}/schedule?id=${userId}`);\n      return;\n    }\n    history.push(`${path}/customer?id=${userId}`);\n  };\n\n  // let customerCount = 0;\n\n  const customerCount = () => {\n    let countArr = [];\n\n    allLoans[showCustomers]?.forEach((customer) => {\n      // check.push(customer.approvalBranch_id);\n\n      if (idNum === HQ_ID) {\n        countArr.push(customer.approvalBranch_id);\n      } else if (idNum === customer.approvalBranch_id) {\n        const checkCount = [];\n        checkCount.push(customer.approvalBranch_id);\n        for (let count of checkCount) {\n          if (count) countArr.push(count);\n        }\n      } else if (\n        idNum === NQ_ID &&\n        branchesId.includes(customer.approvalBranch_id)\n      ) {\n        const checkCount = [];\n        checkCount.push(customer.approvalBranch_id);\n        for (let count of checkCount) {\n          if (count) countArr.push(count);\n        }\n      } else if (\n        idNum === WQ_ID &&\n        branchesId.includes(customer.approvalBranch_id)\n      ) {\n        const checkCount = [];\n        checkCount.push(customer.approvalBranch_id);\n        for (let count of checkCount) {\n          if (count) countArr.push(count);\n        }\n      } else if (\n        idNum === EQ_ID &&\n        branchesId.includes(customer.approvalBranch_id)\n      ) {\n        const checkCount = [];\n        checkCount.push(customer.approvalBranch_id);\n        for (let count of checkCount) {\n          if (count) countArr.push(count);\n        }\n      }\n    });\n\n    return countArr.length;\n  };\n\n  const upcomingDisbursement = () => {\n    let amount = 0;\n    allLoans[\"approved\"].forEach((customer) => {\n      // console.log(idNum, customer.approvalBranch_id)\n      if (idNum === HQ_ID) {\n        amount += customer.approved_amount;\n      } else if (idNum === customer.approvalBranch_id) {\n        amount += customer.approved_amount;\n      } else if (\n        idNum === NQ_ID &&\n        branchesId.includes(customer.approvalBranch_id)\n      ) {\n        amount += customer.approved_amount;\n      } else if (\n        idNum === WQ_ID &&\n        branchesId.includes(customer.approvalBranch_id)\n      ) {\n        amount += customer.approved_amount;\n      } else if (\n        idNum === EQ_ID &&\n        branchesId.includes(customer.approvalBranch_id)\n      ) {\n        amount += customer.approved_amount;\n      }\n    });\n    // handleBranches();\n    return amount;\n  };\n\n  const totalLoanValue = () => {\n    let amount = 0;\n    const disbursedLoans = upcomingDisbursement();\n    allLoans[\"running\"].forEach((customer) => {\n      if (idNum === HQ_ID) {\n        amount += customer.approved_amount;\n      } else if (idNum === customer.approvalBranch_id) {\n        amount += customer.approved_amount;\n      } else if (\n        idNum === NQ_ID &&\n        branchesId.includes(customer.approvalBranch_id)\n      ) {\n        amount += customer.approved_amount;\n      } else if (\n        idNum === WQ_ID &&\n        branchesId.includes(customer.approvalBranch_id)\n      ) {\n        amount += customer.approved_amount;\n      } else if (\n        idNum === EQ_ID &&\n        branchesId.includes(customer.approvalBranch_id)\n      ) {\n        amount += customer.approved_amount;\n      }\n    });\n    return amount + disbursedLoans;\n  };\n\n  const totalRepayments = () => {\n    let amount = 0;\n    allLoans[\"paid\"].forEach((customer) => {\n      if (idNum === HQ_ID) {\n        amount += customer.approved_amount;\n      } else if (idNum === customer.approvalBranch_id) {\n        amount += customer.approved_amount;\n      } else if (\n        idNum === NQ_ID &&\n        branchesId.includes(customer.approvalBranch_id)\n      ) {\n        amount += customer.approved_amount;\n      } else if (\n        idNum === WQ_ID &&\n        branchesId.includes(customer.approvalBranch_id)\n      ) {\n        amount += customer.approved_amount;\n      } else if (\n        idNum === EQ_ID &&\n        branchesId.includes(customer.approvalBranch_id)\n      ) {\n        amount += customer.approved_amount;\n      }\n    });\n    return amount;\n  };\n\n  const applicationCount = () => {\n    let appCount;\n\n    switch (showCustomers) {\n      case \"paid\":\n        appCount = \"Closed Applications\";\n        break;\n      case \"approved\":\n        appCount = \"Approved Applications\";\n        break;\n      case \"declined\":\n        appCount = \"Declined Applications\";\n        break;\n      case \"running\":\n        appCount = \"Running Applications\";\n        break;\n      default:\n        appCount = \"New Applications\";\n    }\n\n    return appCount;\n  };\n\n  return (\n    <>\n      <header className=\"loans-header\">\n        <div>\n          <h1>Loan Management</h1>\n        </div>\n        <div>\n          <div className=\"small-admin-details\">\n            <img src={face} alt=\"\" />\n            {adminName || `NPF Admin`}\n            <i className=\"arrow down\"></i>\n          </div>\n        </div>\n      </header>\n      <div className=\"loan-dashboard\">\n        <div className=\"loan-dashboard-card row\">\n          <div className=\"col-3 side-icon\">\n            <span\n              className=\"side-icon-inner color-purplish bg-color-purplish\"\n              style={{\n                paddingRight: \"18px\",\n                paddingLeft: \"18px\",\n              }}\n            >\n              <MenuIcon />\n            </span>\n          </div>\n          <div className=\"card-details col-9\">\n            <div className=\"card-content\">\n              {numeral(customerCount()).format(\"0,0\")}\n            </div>\n            <div className=\"card-title\">{applicationCount()}</div>\n          </div>\n        </div>\n        <div className=\"loan-dashboard-card row\">\n          <div className=\"col-3 side-icon\">\n            <span className=\"side-icon-inner bg-color-blueish color-blueish\">\n              &#8358;\n            </span>\n          </div>\n          <div className=\"card-details col-9\">\n            <div className=\"card-content\">\n              &#8358; {numeral(upcomingDisbursement()).format(\"0,0.00\")}\n            </div>\n            <div className=\"card-title\">Upcoming Disbursement</div>\n          </div>\n        </div>\n        <div className=\"loan-dashboard-card row\">\n          <div className=\"col-3 side-icon\">\n            <span className=\"side-icon-inner bg-color-redish color-redish\">\n              &#8358;\n            </span>\n          </div>\n          <div className=\"card-details col-9\">\n            <div className=\"card-content\">\n              &#8358; {numeral(totalLoanValue()).format(\"0,0.00\")}\n            </div>\n            <div className=\"card-title\">Total Loan Value</div>\n          </div>\n        </div>\n        <div className=\"loan-dashboard-card row\">\n          <div className=\"col-3 side-icon\">\n            <span className=\"side-icon-inner color-greenish bg-color-greenish\">\n              &#8358;\n            </span>\n          </div>\n          <div className=\"card-details col-9\">\n            <div className=\"card-content\">\n              &#8358; {numeral(totalRepayments()).format(\"0,0.00\")}\n            </div>\n            <div className=\"card-title\">Total Repayments</div>\n          </div>\n        </div>\n      </div>\n      <div className=\"loan-nav-wrapper\">\n        <nav>\n          {/* eslint-disable jsx-a11y/anchor-is-valid */}\n          <a\n            className={showCustomers === \"inProcess\" ? \"active\" : \"\"}\n            onClick={(e) => setShowCustomers(\"inProcess\")}\n          >\n            In process\n          </a>\n          <a\n            className={showCustomers === \"approved\" ? \"active\" : \"\"}\n            onClick={(e) => setShowCustomers(\"approved\")}\n          >\n            Approved\n          </a>\n          <a\n            className={showCustomers === \"declined\" ? \"active\" : \"\"}\n            onClick={(e) => setShowCustomers(\"declined\")}\n          >\n            Declined\n          </a>\n          <a\n            className={showCustomers === \"running\" ? \"active\" : \"\"}\n            onClick={(e) => setShowCustomers(\"running\")}\n          >\n            Running\n          </a>\n          <a\n            className={showCustomers === \"paid\" ? \"active\" : \"\"}\n            onClick={(e) => setShowCustomers(\"paid\")}\n          >\n            Closed\n          </a>\n          {/* eslint-enable */}\n        </nav>\n        <div className=\"some-container\">\n          <div className=\"search-div d-none\">\n            <label htmlFor=\"search\">\n              <SearchIcon />\n            </label>\n            <input\n              type=\"search\"\n              className=\"form-control\"\n              name=\"search\"\n              id=\"search\"\n              aria-label=\"Search for customers\"\n            />\n          </div>\n          <button\n            className=\"btn create-admin-btn\"\n            onClick={(e) => history.push(`${path}/new/selectCustomer`)}\n          >\n            <span>\n              <PlusIcon />\n            </span>\n            New application\n          </button>\n        </div>\n      </div>\n\n      {branchesId.length > 0 || idNum === HQ_ID ? (\n        <main className=\"loans-page customers-page\">\n          {(isLoading || allLoans[showCustomers]?.length === 0) && (\n            <div className=\"searching-block\">\n              <div\n                className={\"svg-holder \" + (!isLoading ? \"not-loading\" : \"\")}\n              >\n                {isLoading ? (\n                  <SpinnerIcon className=\"rotating\" />\n                ) : (\n                  <NothingFoundIcon />\n                )}\n              </div>\n              {!isLoading && <p>NOTHING FOUND!</p>}\n            </div>\n          )}\n          {!isLoading && allLoans[showCustomers]?.length > 0 && (\n            <>\n              <div className=\"color-dark-text-blue\">\n                Entries per page:{\" \"}\n                <div className=\"form-group\" style={{ display: \"inline-block\" }}>\n                  <select\n                    className=\"form-control\"\n                    onChange={(e) => {\n                      setItemsPerPage(e.target.value);\n                      setCurrentPage(1);\n                    }}\n                    value={itemsPerPage}\n                  >\n                    <option value={5}>5</option>\n                    <option value={10}>10</option>\n                    <option value={20}>20</option>\n                    <option value={50}>50</option>\n                    <option value={100}>100</option>\n                    <option value={150}>150</option>\n                    <option value={200}>200</option>\n                  </select>\n                </div>\n              </div>\n\n              {showCustomers === \"running\" ? (\n                <RunningLoans\n                  idNum={idNum}\n                  HQ_ID={HQ_ID}\n                  EQ_ID={EQ_ID}\n                  NQ_ID={NQ_ID}\n                  WQ_ID={WQ_ID}\n                  branchesId={branchesId}\n                  customers={allLoans[showCustomers]}\n                  roles={roles}\n                />\n              ) : (\n                <table\n                  className=\"table table-borderless table-hover\"\n                  onClick={handleNavigateToCustomer}\n                >\n                  <thead className=\"color-dark-text-blue\">\n                    <tr>\n                      <th scope=\"col\">\n                        <input type=\"checkbox\" name=\"selCustomer-all\" />\n                      </th>\n                      <th scope=\"col\">Customer</th>\n                      {/* Show loan details only when on submitted or inProcess tabs */}\n                      {(showCustomers === \"submitted\" ||\n                        showCustomers === \"inProcess\") && (\n                        <th scope=\"col\">Loan Details</th>\n                      )}\n                      {/* Show Customer Request only when NOT on submitted or inProcess tabs */}\n                      {showCustomers !== \"submitted\" &&\n                        showCustomers !== \"inProcess\" && (\n                          <th scope=\"col\">Customer Request</th>\n                        )}\n                      {/* Show Bank offer only when on approved or paid tabs */}\n                      {(showCustomers === \"approved\" ||\n                        showCustomers === \"paid\") && (\n                        <th scope=\"col\">Bank Offer</th>\n                      )}\n                      <th scope=\"col\">Repayment Method</th>\n                      {showCustomers === \"submitted\" && (\n                        <th scope=\"col\">\n                          DTI &nbsp; &nbsp;\n                          <span className=\"dti positive\">%</span>\n                        </th>\n                      )}\n                      {showCustomers === \"inProcess\" && (\n                        <th scope=\"col\">Status</th>\n                      )}\n                      {(showCustomers === \"inProcess\" ||\n                        showCustomers === \"approved\") && (\n                        <>\n                          <th scope=\"col\">\n                            System Score &nbsp; &nbsp;\n                            <span className=\"dti positive\">%</span>\n                          </th>\n                        </>\n                      )}\n                      {/* Show narrative when declined tab is active */}\n                      {showCustomers === \"declined\" && (\n                        <th scope=\"col\" className=\"col-4\">\n                          Narrative\n                        </th>\n                      )}\n                      <th scope=\"col\">\n                        {showCustomers === \"paid\"\n                          ? \"Closed\"\n                          : \"Application Date\"}\n                      </th>\n                      {/* Hide action when declined tab is active */}\n                      {showCustomers !== \"declined\" && (\n                        <th scope=\"col\">Action</th>\n                      )}\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr className=\"spacer\"></tr>\n                    {allLoans[showCustomers]?.map((customer, idx, arr) => {\n                      const checkItemNumber = [];\n                      if (idNum === HQ_ID) {\n                        checkItemNumber.push(customer.approvalBranch_id);\n                        const initialBoundary =\n                          (currentPage - 1) * itemsPerPage + 1;\n                        const finalBoundary = currentPage * itemsPerPage;\n                        const itemNumber = idx + 1;\n\n                        if (\n                          itemNumber < initialBoundary ||\n                          itemNumber > finalBoundary\n                        )\n                          return null;\n                        return (\n                          <LoanCustomerCard\n                            customerDetails={customer}\n                            showMajorDetails\n                            shownCustomerCategory={showCustomers}\n                            key={customer.id}\n                            roles={roles}\n                          >\n                            {idx !== arr.length - 1 && (\n                              <tr className=\"spacer\" />\n                            )}\n                          </LoanCustomerCard>\n                        );\n                      } else if (idNum === customer.approvalBranch_id) {\n                        checkItemNumber.push(customer.approvalBranch_id);\n                        const initialBoundary =\n                          (currentPage - 1) * itemsPerPage + 1;\n                        const finalBoundary = currentPage * itemsPerPage;\n                        const itemNumber = idx + 1;\n\n                        if (\n                          itemNumber < initialBoundary ||\n                          itemNumber > finalBoundary\n                        )\n                          return null;\n                        return (\n                          <LoanCustomerCard\n                            customerDetails={customer}\n                            showMajorDetails\n                            shownCustomerCategory={showCustomers}\n                            key={customer.id}\n                            roles={roles}\n                          >\n                            {idx !== arr.length - 1 && (\n                              <tr className=\"spacer\" />\n                            )}\n                          </LoanCustomerCard>\n                        );\n                      } else if (\n                        idNum === NQ_ID &&\n                        branchesId.includes(customer.approvalBranch_id)\n                      ) {\n                        checkItemNumber.push(customer.approvalBranch_id);\n                        const initialBoundary =\n                          (currentPage - 1) * itemsPerPage + 1;\n                        const finalBoundary = currentPage * itemsPerPage;\n                        const itemNumber = idx + 1;\n\n                        if (\n                          itemNumber < initialBoundary ||\n                          itemNumber > finalBoundary\n                        )\n                          return null;\n                        return (\n                          <LoanCustomerCard\n                            customerDetails={customer}\n                            showMajorDetails\n                            shownCustomerCategory={showCustomers}\n                            key={customer.id}\n                            roles={roles}\n                          >\n                            {idx !== arr.length - 1 && (\n                              <tr className=\"spacer\" />\n                            )}\n                          </LoanCustomerCard>\n                        );\n                      } else if (\n                        idNum === EQ_ID &&\n                        branchesId.includes(customer.approvalBranch_id)\n                      ) {\n                        checkItemNumber.push(customer.approvalBranch_id);\n                        const initialBoundary =\n                          (currentPage - 1) * itemsPerPage + 1;\n                        const finalBoundary = currentPage * itemsPerPage;\n                        const itemNumber = idx + 1;\n\n                        if (\n                          itemNumber < initialBoundary ||\n                          itemNumber > finalBoundary\n                        )\n                          return null;\n                        return (\n                          <LoanCustomerCard\n                            customerDetails={customer}\n                            showMajorDetails\n                            shownCustomerCategory={showCustomers}\n                            key={customer.id}\n                            roles={roles}\n                          >\n                            {idx !== arr.length - 1 && (\n                              <tr className=\"spacer\" />\n                            )}\n                          </LoanCustomerCard>\n                        );\n                      } else if (\n                        idNum === WQ_ID &&\n                        branchesId.includes(customer.approvalBranch_id)\n                      ) {\n                        checkItemNumber.push(customer.approvalBranch_id);\n                        const initialBoundary =\n                          (currentPage - 1) * itemsPerPage + 1;\n                        const finalBoundary = currentPage * itemsPerPage;\n                        const itemNumber = idx + 1;\n\n                        if (\n                          itemNumber < initialBoundary ||\n                          itemNumber > finalBoundary\n                        )\n                          return null;\n                        return (\n                          <LoanCustomerCard\n                            customerDetails={customer}\n                            showMajorDetails\n                            shownCustomerCategory={showCustomers}\n                            key={customer.id}\n                            roles={roles}\n                          >\n                            {idx !== arr.length - 1 && (\n                              <tr className=\"spacer\" />\n                            )}\n                          </LoanCustomerCard>\n                        );\n                      }\n                    })}\n                  </tbody>\n                </table>\n              )}\n              <div className=\"paginate-footer\">\n                <ReactPaginate\n                  pageCount={Math.ceil(\n                    allLoans[showCustomers]?.length / itemsPerPage\n                  )}\n                  marginPagesDisplayed={2}\n                  pageRangeDisplayed={3}\n                  forcePage={currentPage - 5}\n                  onPageChange={(selectedItem) =>\n                    setCurrentPage(selectedItem.selected + 1)\n                  }\n                  containerClassName=\"pagination-btns\"\n                  activeLinkClassName=\"active\"\n                  pageLinkClassName=\"btn\"\n                  previousLabel={<ArrowLeftShortCircleFill />}\n                  previousLinkClassName=\"btn icon\"\n                  nextLabel={\n                    <ArrowLeftShortCircleFill\n                      style={{ transform: \"rotateY(180deg)\" }}\n                    />\n                  }\n                  nextLinkClassName=\"btn icon\"\n                  disabledClassName=\"disabled\"\n                />\n              </div>\n            </>\n          )}\n        </main>\n      ) : (\n        <div className=\"searching-block\">\n          <div className={\"svg-holder \" + (!isLoading ? \"not-loading\" : \"\")}>\n            {isLoading ? (\n              <SpinnerIcon className=\"rotating\" />\n            ) : (\n              <NothingFoundIcon />\n            )}\n          </div>\n          {!isLoading && <p>NOTHING FOUND!</p>}\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default AllLoanApplications;\n"]},"metadata":{},"sourceType":"module"}