{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useEffect,useState}from\"react\";import jwt_decode from\"jwt-decode\";import{getCommentByLoanId}from\"../../services/loanService\";import{ReactComponent as NothingFoundIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/nothing-found.svg\";import notify from\"../../utils/notification\";import{useAuth}from\"../../components/utilities\";import{getAllAdminProfiles}from\"../../services/adminService\";import{useHistory,useLocation,useRouteMatch,useParams}from\"react-router-dom\";import{validateToken}from\"../../utils/errorHandler\";import{getAccessToken}from\"../../utils/localStorageService\";var AdminCard=function AdminCard(_ref){var comments=_ref.comments,branch=_ref.branch,path=_ref.path;var history=useHistory();var auth=useAuth();var token=getAccessToken();useEffect(function(){validateToken(token,history,jwt_decode,auth,notify);},[auth,history,token]);var handleNavigateToAdminDetails=function handleNavigateToAdminDetails(id){history.push(\"\".concat(path,\"/adminDetails?id=\").concat(id));return;};console.log(comments);return/*#__PURE__*/_jsx(_Fragment,{children:comments&&comments.length>0?/*#__PURE__*/_jsxs(\"table\",{className:\"table table-borderless admin-table-hover table-hover\"// onClick={handleNavigateToCustomer}\n,children:[/*#__PURE__*/_jsx(\"thead\",{className:\"color-dark-text-blue\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Staff ID\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Admin Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Admin Role\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Branch\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Action\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsx(\"tr\",{className:\"spacer\"}),comments&&comments.map(function(data){return/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return handleNavigateToAdminDetails(data.id);},className:\"customer-card font-weight-600\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"repay-method\",children:/*#__PURE__*/_jsx(\"p\",{children:data.staff_id})}),/*#__PURE__*/_jsx(\"td\",{className:\"repay-method\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\".concat(data.firstname,\" \").concat(data.lastname)})}),/*#__PURE__*/_jsx(\"td\",{className:\"repay-method\",children:/*#__PURE__*/_jsx(\"p\",{children:data.username})}),/*#__PURE__*/_jsx(\"td\",{className:\"repay-method\",children:data.AdminUserRoles.map(function(role){return role.code!==null&&role.code!==\"\"?/*#__PURE__*/_jsx(\"p\",{children:\"\".concat(role.name,\" (\").concat(role.code,\")\")}):/*#__PURE__*/_jsx(\"p\",{children:\"\".concat(role.name)});})}),/*#__PURE__*/_jsx(\"td\",{className:\"repay-method\",children:branch&&branch.map(function(dtx){return dtx.id===Number(data.branch)&&/*#__PURE__*/_jsx(\"p\",{children:dtx.name},dtx.id);})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleNavigateToAdminDetails(data.id);},className:\"btn btn-success action-btn bg-color-green\",children:\"View\"})})]},data.id);})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"no-comment\",children:/*#__PURE__*/_jsx(\"p\",{children:\"NO ADMIN FOUND!\"})})});};export default AdminCard;","map":{"version":3,"sources":["/Users/xerde2/Downloads/npf-admin-web/src/components/loanManagement/adminCard.js"],"names":["React","useEffect","useState","jwt_decode","getCommentByLoanId","notify","useAuth","getAllAdminProfiles","useHistory","useLocation","useRouteMatch","useParams","validateToken","getAccessToken","AdminCard","comments","branch","path","history","auth","token","handleNavigateToAdminDetails","id","push","console","log","length","map","data","staff_id","firstname","lastname","username","AdminUserRoles","role","code","name","dtx","Number"],"mappings":"6IAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CACA,OAASC,kBAAT,KAAmC,4BAAnC,C,yHAEA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,OAASC,OAAT,KAAwB,4BAAxB,CACA,OAASC,mBAAT,KAAoC,6BAApC,CACA,OACEC,UADF,CAEEC,WAFF,CAGEC,aAHF,CAIEC,SAJF,KAKO,kBALP,CAMA,OAASC,aAAT,KAA8B,0BAA9B,CACA,OAASC,cAAT,KAA+B,iCAA/B,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAAgC,IAA7BC,CAAAA,QAA6B,MAA7BA,QAA6B,CAAnBC,MAAmB,MAAnBA,MAAmB,CAAXC,IAAW,MAAXA,IAAW,CAChD,GAAMC,CAAAA,OAAO,CAAGV,UAAU,EAA1B,CACA,GAAMW,CAAAA,IAAI,CAAGb,OAAO,EAApB,CACA,GAAMc,CAAAA,KAAK,CAAGP,cAAc,EAA5B,CAEAZ,SAAS,CAAC,UAAM,CACdW,aAAa,CAACQ,KAAD,CAAQF,OAAR,CAAiBf,UAAjB,CAA6BgB,IAA7B,CAAmCd,MAAnC,CAAb,CACD,CAFQ,CAEN,CAACc,IAAD,CAAOD,OAAP,CAAgBE,KAAhB,CAFM,CAAT,CAIA,GAAMC,CAAAA,4BAA4B,CAAG,QAA/BA,CAAAA,4BAA+B,CAACC,EAAD,CAAQ,CAC3CJ,OAAO,CAACK,IAAR,WAAgBN,IAAhB,6BAAwCK,EAAxC,GACA,OACD,CAHD,CAKAE,OAAO,CAACC,GAAR,CAAYV,QAAZ,EAEA,mBACE,yBACGA,QAAQ,EAAIA,QAAQ,CAACW,MAAT,CAAkB,CAA9B,cACC,eACE,SAAS,CAAC,sDACV;AAFF,wBAIE,cAAO,SAAS,CAAC,sBAAjB,uBACE,mCACE,WAAI,KAAK,CAAC,KAAV,sBADF,cAGE,WAAI,KAAK,CAAC,KAAV,wBAHF,cAKE,WAAI,KAAK,CAAC,KAAV,mBALF,cAOE,WAAI,KAAK,CAAC,KAAV,wBAPF,cASE,WAAI,KAAK,CAAC,KAAV,oBATF,cAWE,WAAI,KAAK,CAAC,KAAV,oBAXF,GADF,EAJF,cAmBE,sCACE,WAAI,SAAS,CAAC,QAAd,EADF,CAEGX,QAAQ,EACPA,QAAQ,CAACY,GAAT,CAAa,SAACC,IAAD,qBACX,YACE,OAAO,CAAE,yBAAMP,CAAAA,4BAA4B,CAACO,IAAI,CAACN,EAAN,CAAlC,EADX,CAGE,SAAS,CAAC,+BAHZ,wBAKE,WAAI,SAAS,CAAC,cAAd,uBACE,mBAAIM,IAAI,CAACC,QAAT,EADF,EALF,cASE,WAAI,SAAS,CAAC,cAAd,uBACE,6BAAOD,IAAI,CAACE,SAAZ,aAAyBF,IAAI,CAACG,QAA9B,GADF,EATF,cAaE,WAAI,SAAS,CAAC,cAAd,uBACE,mBAAIH,IAAI,CAACI,QAAT,EADF,EAbF,cAiBE,WAAI,SAAS,CAAC,cAAd,UACGJ,IAAI,CAACK,cAAL,CAAoBN,GAApB,CAAwB,SAACO,IAAD,QACvBA,CAAAA,IAAI,CAACC,IAAL,GAAc,IAAd,EAAsBD,IAAI,CAACC,IAAL,GAAc,EAApC,cACE,6BAAOD,IAAI,CAACE,IAAZ,cAAqBF,IAAI,CAACC,IAA1B,OADF,cAGE,6BAAOD,IAAI,CAACE,IAAZ,GAJqB,EAAxB,CADH,EAjBF,cA2BE,WAAI,SAAS,CAAC,cAAd,UACGpB,MAAM,EACLA,MAAM,CAACW,GAAP,CACE,SAACU,GAAD,QACEA,CAAAA,GAAG,CAACf,EAAJ,GAAWgB,MAAM,CAACV,IAAI,CAACZ,MAAN,CAAjB,eACE,mBAAiBqB,GAAG,CAACD,IAArB,EAAQC,GAAG,CAACf,EAAZ,CAFJ,EADF,CAFJ,EA3BF,cAqCE,iCAEE,eACE,OAAO,CAAE,yBAAMD,CAAAA,4BAA4B,CAACO,IAAI,CAACN,EAAN,CAAlC,EADX,CAEE,SAAS,CAAC,2CAFZ,kBAFF,EArCF,GAEOM,IAAI,CAACN,EAFZ,CADW,EAAb,CAHJ,GAnBF,GADD,cA2EC,YAAK,SAAS,CAAC,YAAf,uBACE,sCADF,EA5EJ,EADF,CAmFD,CAnGD,CAqGA,cAAeR,CAAAA,SAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport jwt_decode from \"jwt-decode\";\nimport { getCommentByLoanId } from \"../../services/loanService\";\nimport { ReactComponent as NothingFoundIcon } from \"../../assets/icons/nothing-found.svg\";\nimport notify from \"../../utils/notification\";\nimport { useAuth } from \"../../components/utilities\";\nimport { getAllAdminProfiles } from \"../../services/adminService\";\nimport {\n  useHistory,\n  useLocation,\n  useRouteMatch,\n  useParams,\n} from \"react-router-dom\";\nimport { validateToken } from \"../../utils/errorHandler\";\nimport { getAccessToken } from \"../../utils/localStorageService\";\n\nconst AdminCard = ({ comments, branch, path }) => {\n  const history = useHistory();\n  const auth = useAuth();\n  const token = getAccessToken();\n\n  useEffect(() => {\n    validateToken(token, history, jwt_decode, auth, notify);\n  }, [auth, history, token]);\n\n  const handleNavigateToAdminDetails = (id) => {\n    history.push(`${path}/adminDetails?id=${id}`);\n    return;\n  };\n\n  console.log(comments);\n\n  return (\n    <>\n      {comments && comments.length > 0 ? (\n        <table\n          className=\"table table-borderless admin-table-hover table-hover\"\n          // onClick={handleNavigateToCustomer}\n        >\n          <thead className=\"color-dark-text-blue\">\n            <tr>\n              <th scope=\"col\">Staff ID</th>\n\n              <th scope=\"col\">Admin Name</th>\n\n              <th scope=\"col\">Email</th>\n\n              <th scope=\"col\">Admin Role</th>\n\n              <th scope=\"col\">Branch</th>\n\n              <th scope=\"col\">Action</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr className=\"spacer\"></tr>\n            {comments &&\n              comments.map((data) => (\n                <tr\n                  onClick={() => handleNavigateToAdminDetails(data.id)}\n                  key={data.id}\n                  className=\"customer-card font-weight-600\"\n                >\n                  <td className=\"repay-method\">\n                    <p>{data.staff_id}</p>\n                  </td>\n\n                  <td className=\"repay-method\">\n                    <p>{`${data.firstname} ${data.lastname}`}</p>\n                  </td>\n\n                  <td className=\"repay-method\">\n                    <p>{data.username}</p>\n                  </td>\n\n                  <td className=\"repay-method\">\n                    {data.AdminUserRoles.map((role) =>\n                      role.code !== null && role.code !== \"\" ? (\n                        <p>{`${role.name} (${role.code})`}</p>\n                      ) : (\n                        <p>{`${role.name}`}</p>\n                      )\n                    )}\n                  </td>\n\n                  <td className=\"repay-method\">\n                    {branch &&\n                      branch.map(\n                        (dtx) =>\n                          dtx.id === Number(data.branch) && (\n                            <p key={dtx.id}>{dtx.name}</p>\n                          )\n                      )}\n                  </td>\n\n                  <td>\n                    {/* define operation based on active tab */}\n                    <button\n                      onClick={() => handleNavigateToAdminDetails(data.id)}\n                      className=\"btn btn-success action-btn bg-color-green\"\n                    >\n                      View\n                    </button>\n                  </td>\n                </tr>\n              ))}\n          </tbody>\n        </table>\n      ) : (\n        <div className=\"no-comment\">\n          <p>NO ADMIN FOUND!</p>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default AdminCard;\n"]},"metadata":{},"sourceType":"module"}