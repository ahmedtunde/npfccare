{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/xerde2/Downloads/npf-admin-web/src/components/loanManagement/newApplications/selectCustomer.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useState, useRef, useCallback } from \"react\";\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\nimport face from \"../../../assets/img/placeholder-img.png\";\nimport placeholderImg from \"../../../assets/img/placeholder-img.png\";\nimport { ReactComponent as TimesIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/icons/times.svg\";\nimport { ReactComponent as CheckCircleFill } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/icons/check-circle-fill.svg\";\nimport { ReactComponent as ArrowRightShort } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/icons/arrow-right-short.svg\";\nimport { ReactComponent as SearchIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/icons/search.svg\";\nimport { ReactComponent as ArrowLeftShortCircleFill } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/icons/arrow-left-short-circle-fill.svg\";\nimport { ReactComponent as SpinnerIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/icons/spinner.svg\";\nimport { ReactComponent as NothingFoundIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/icons/nothing-found.svg\";\nimport { searchCustomers } from \"../../../services/customerService\";\nimport errorHandler from \"../../../utils/errorHandler\";\nimport notify from \"../../../utils/notification\";\nimport { useAuth } from \"../../utilities\";\nimport ReactPaginate from \"react-paginate\";\n\nconst SelectCustomer = props => {\n  _s();\n\n  const {\n    path\n  } = useRouteMatch();\n  const history = useHistory();\n  const auth = useAuth(); // useCallback ensures that handle error function isn't recreated on every render\n\n  const handleError = useCallback((errorObject, notify, cb) => errorHandler(auth)(errorObject, notify, cb), [auth]);\n  const [customers, setCustomers] = useState(() => Array(0).fill(\"\").map((v, idx) => ({\n    id: `40${idx}`,\n    bvnhash: \"\",\n    firstname: \"\",\n    lastname: \"\",\n    middlename: null,\n    phone: \"\",\n    simswapstatus: null,\n    otpstatus: null,\n    email: \"\",\n    dob: \"1999-06-30T00:00:00.000Z\",\n    pob: null,\n    bucket: \"npf-mfb\",\n    photo_location: \"\",\n    photo_key: \"40/photo/livelinesscheck.png\",\n    photo_number: null,\n    video_location: \"\",\n    video_key: \"\",\n    signature_location: \"\",\n    signature_key: \"\",\n    document_location: \"\",\n    document_key: \"\",\n    document_number: \"\",\n    document_type_id: 2,\n    documentschecked: null,\n    isnewbankcustomer: null,\n    document_issue_date: \"\",\n    document_expiry_date: \"\",\n    isotpverified: true,\n    livelinesschecked: null,\n    salary_officer: false,\n    force_number: \"N/A\",\n    ippis_number: \"N/A\",\n    address: \"N/A\",\n    has_pin: true,\n    createdAt: \"2020-11-04T15:11:59.904Z\",\n    updatedAt: \"2020-11-06T09:11:40.700Z\",\n    user: 62,\n    accountNumber: \"0209525729\",\n    bvn: \"\",\n    accountStatus: idx === 0 || idx === 2 ? false : true,\n    liveliness: idx === 0 || idx === 2 ? false : true,\n    PND: true,\n    signup_incomplete: false\n  })));\n  const [values, setValues] = useState({\n    search: \"\"\n  });\n  const [currentPage, setCurrentPage] = useState(1);\n  const [isLoading, setLoading] = useState(false);\n  const [itemsPerPage, setItemsPerPage] = useState(5);\n  const isSearching = useRef(false);\n\n  const handleNavigateToCustomer = e => {\n    const element = e.target;\n    if (!element.classList.contains(\"action-btn\")) return;\n    const userId = element.dataset.userId;\n    history.push(`${path.replace(\"/selectCustomer\", \"\")}?customer_id=${userId}`);\n  };\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setValues(prev => ({ ...prev,\n      [name]: name === \"search\" ? value.trim() : value\n    }));\n    if (name === \"search\") handleSearchCustomers(value);\n  };\n\n  const handleSearchCustomers = async searchPhrase => {\n    setCurrentPage(1); // setFilter(\"\");\n\n    if (!searchPhrase) {\n      isSearching.current = false;\n      setLoading(false);\n      setCustomers([]);\n      return;\n    }\n\n    isSearching.current = true;\n    setLoading(true);\n\n    try {\n      const result = await searchCustomers(searchPhrase);\n      setLoading(false);\n      if (result.error) return notify(result.message, \"error\");\n      isSearching.current && setCustomers(result.result);\n      isSearching.current = false;\n    } catch (error) {\n      handleError(error, notify, () => setLoading(false));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => history.goBack(),\n            className: \"btn btn-primary back-btn\",\n            children: /*#__PURE__*/_jsxDEV(ArrowRightShort, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), \"Select Customer for New Loan\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"small-admin-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: face,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), \"NPF Admin\", /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"arrow down\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"some-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-div\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"search\",\n              children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"search\",\n              className: \"form-control\",\n              name: \"search\",\n              id: \"search\",\n              \"aria-label\": \"Search for customers\",\n              value: values.search,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"customers-page\",\n      children: [(isLoading || customers.length === 0) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"searching-block\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"svg-holder \" + (!isLoading ? \"not-loading\" : \"\"),\n          children: isLoading ? /*#__PURE__*/_jsxDEV(SpinnerIcon, {\n            className: \"rotating\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(NothingFoundIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this), !isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: values.search ? \"NOTHING FOUND!\" : \"You can search for the customer with the top right search bar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 11\n      }, this), !isLoading && customers.length !== 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"color-dark-text-blue\",\n          children: [\"Customers per page:\", \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              display: \"inline-block\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-control\",\n              onChange: e => {\n                setItemsPerPage(e.target.value);\n                setCurrentPage(1);\n              },\n              value: itemsPerPage,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: 5,\n                children: \"5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 10,\n                children: \"10\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 20,\n                children: \"20\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 50,\n                children: \"50\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 100,\n                children: \"100\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 150,\n                children: \"150\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 200,\n                children: \"200\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table table-borderless table-hover\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"color-dark-text-blue\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Customer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"BVN\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Phone\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Account Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Facial Liveliness Check\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Action\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            onClick: handleNavigateToCustomer,\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"spacer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 17\n            }, this), customers.map((v, idx) => {\n              const initialBoundary = (currentPage - 1) * itemsPerPage + 1;\n              const finalBoundary = currentPage * itemsPerPage;\n              const itemNumber = idx + 1;\n              if (itemNumber < initialBoundary || itemNumber > finalBoundary) return null;\n              const pseudoAccStatus = !v.PND;\n              const showIncompleteBadge = v.signup_incomplete;\n              return /*#__PURE__*/_jsxDEV(Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"customer-card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"major-details\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"row\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"customer-img\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: v.photo_location || placeholderImg,\n                          className: \"\",\n                          alt: \"\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 240,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 239,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"name font-weight-bold\",\n                          children: [v.firstname, \" \", v.lastname, showIncompleteBadge && \" (Incomplete)\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 247,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"email font-weight-light\",\n                          children: v.email\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 251,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 246,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 238,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"bvn font-weight-light\",\n                    children: v.bvnhash || \"N/A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"phone font-weight-light\",\n                    children: [\"(234) \", v.phone.replace(\"234\", \"0\")]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `account-status ${pseudoAccStatus ? \"active\" : \"pending\"}`,\n                      children: pseudoAccStatus ? \"ACTIVE\" : \"PND\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 264,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `liveliness ${v.video_location ? \"provided\" : \"\"}`,\n                      children: [v.video_location ? /*#__PURE__*/_jsxDEV(CheckCircleFill, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 279,\n                        columnNumber: 31\n                      }, this) : /*#__PURE__*/_jsxDEV(TimesIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 281,\n                        columnNumber: 31\n                      }, this), v.video_location ? \" P\" : \"Not p\", \"rovided\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 273,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      \"data-user-id\": v.id,\n                      className: \"btn btn-success action-btn\",\n                      children: \"Continue\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 287,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 23\n                }, this), idx !== customers.length - 1 && /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"spacer\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 25\n                }, this)]\n              }, `${v.user} + ${idx}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 21\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"audit-history-footer\",\n          children: /*#__PURE__*/_jsxDEV(ReactPaginate, {\n            pageCount: Math.ceil(customers.length / itemsPerPage) || 1,\n            marginPagesDisplayed: 2,\n            pageRangeDisplayed: 3,\n            forcePage: currentPage - 1,\n            onPageChange: selectedItem => setCurrentPage(selectedItem.selected + 1),\n            containerClassName: \"pagination-btns\",\n            activeLinkClassName: \"active\",\n            pageLinkClassName: \"btn\",\n            previousLabel: /*#__PURE__*/_jsxDEV(ArrowLeftShortCircleFill, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 32\n            }, this),\n            previousLinkClassName: \"btn icon\",\n            nextLabel: /*#__PURE__*/_jsxDEV(ArrowLeftShortCircleFill, {\n              style: {\n                transform: \"rotateY(180deg)\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 19\n            }, this),\n            nextLinkClassName: \"btn icon\",\n            disabledClassName: \"disabled\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 13\n        }, this), \" \"]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(SelectCustomer, \"6t/brjMKNwAFBeTXMUV+yITBPFQ=\", false, function () {\n  return [useRouteMatch, useHistory, useAuth];\n});\n\n_c = SelectCustomer;\nexport default SelectCustomer;\n\nvar _c;\n\n$RefreshReg$(_c, \"SelectCustomer\");","map":{"version":3,"sources":["/Users/xerde2/Downloads/npf-admin-web/src/components/loanManagement/newApplications/selectCustomer.js"],"names":["React","Fragment","useState","useRef","useCallback","useHistory","useRouteMatch","face","placeholderImg","searchCustomers","errorHandler","notify","useAuth","ReactPaginate","SelectCustomer","props","path","history","auth","handleError","errorObject","cb","customers","setCustomers","Array","fill","map","v","idx","id","bvnhash","firstname","lastname","middlename","phone","simswapstatus","otpstatus","email","dob","pob","bucket","photo_location","photo_key","photo_number","video_location","video_key","signature_location","signature_key","document_location","document_key","document_number","document_type_id","documentschecked","isnewbankcustomer","document_issue_date","document_expiry_date","isotpverified","livelinesschecked","salary_officer","force_number","ippis_number","address","has_pin","createdAt","updatedAt","user","accountNumber","bvn","accountStatus","liveliness","PND","signup_incomplete","values","setValues","search","currentPage","setCurrentPage","isLoading","setLoading","itemsPerPage","setItemsPerPage","isSearching","handleNavigateToCustomer","e","element","target","classList","contains","userId","dataset","push","replace","handleChange","name","value","prev","trim","handleSearchCustomers","searchPhrase","current","result","error","message","goBack","length","display","initialBoundary","finalBoundary","itemNumber","pseudoAccStatus","showIncompleteBadge","Math","ceil","selectedItem","selected","transform"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,QAA1B,EAAoCC,MAApC,EAA4CC,WAA5C,QAA+D,OAA/D;AACA,SAASC,UAAT,EAAqBC,aAArB,QAA0C,kBAA1C;AACA,OAAOC,IAAP,MAAiB,yCAAjB;AACA,OAAOC,cAAP,MAA2B,yCAA3B;;;;;;;;AAQA,SAASC,eAAT,QAAgC,mCAAhC;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,OAAOC,MAAP,MAAmB,6BAAnB;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,OAAOC,aAAP,MAA0B,gBAA1B;;AAEA,MAAMC,cAAc,GAAIC,KAAD,IAAW;AAAA;;AAChC,QAAM;AAAEC,IAAAA;AAAF,MAAWV,aAAa,EAA9B;AACA,QAAMW,OAAO,GAAGZ,UAAU,EAA1B;AACA,QAAMa,IAAI,GAAGN,OAAO,EAApB,CAHgC,CAIhC;;AACA,QAAMO,WAAW,GAAGf,WAAW,CAC7B,CAACgB,WAAD,EAAcT,MAAd,EAAsBU,EAAtB,KAA6BX,YAAY,CAACQ,IAAD,CAAZ,CAAmBE,WAAnB,EAAgCT,MAAhC,EAAwCU,EAAxC,CADA,EAE7B,CAACH,IAAD,CAF6B,CAA/B;AAKA,QAAM,CAACI,SAAD,EAAYC,YAAZ,IAA4BrB,QAAQ,CAAC,MACzCsB,KAAK,CAAC,CAAD,CAAL,CACGC,IADH,CACQ,EADR,EAEGC,GAFH,CAEO,CAACC,CAAD,EAAIC,GAAJ,MAAa;AAChBC,IAAAA,EAAE,EAAG,KAAID,GAAI,EADG;AAEhBE,IAAAA,OAAO,EAAE,EAFO;AAGhBC,IAAAA,SAAS,EAAE,EAHK;AAIhBC,IAAAA,QAAQ,EAAE,EAJM;AAKhBC,IAAAA,UAAU,EAAE,IALI;AAMhBC,IAAAA,KAAK,EAAE,EANS;AAOhBC,IAAAA,aAAa,EAAE,IAPC;AAQhBC,IAAAA,SAAS,EAAE,IARK;AAShBC,IAAAA,KAAK,EAAE,EATS;AAUhBC,IAAAA,GAAG,EAAE,0BAVW;AAWhBC,IAAAA,GAAG,EAAE,IAXW;AAYhBC,IAAAA,MAAM,EAAE,SAZQ;AAahBC,IAAAA,cAAc,EAAE,EAbA;AAchBC,IAAAA,SAAS,EAAE,8BAdK;AAehBC,IAAAA,YAAY,EAAE,IAfE;AAgBhBC,IAAAA,cAAc,EAAE,EAhBA;AAiBhBC,IAAAA,SAAS,EAAE,EAjBK;AAkBhBC,IAAAA,kBAAkB,EAAE,EAlBJ;AAmBhBC,IAAAA,aAAa,EAAE,EAnBC;AAoBhBC,IAAAA,iBAAiB,EAAE,EApBH;AAqBhBC,IAAAA,YAAY,EAAE,EArBE;AAsBhBC,IAAAA,eAAe,EAAE,EAtBD;AAuBhBC,IAAAA,gBAAgB,EAAE,CAvBF;AAwBhBC,IAAAA,gBAAgB,EAAE,IAxBF;AAyBhBC,IAAAA,iBAAiB,EAAE,IAzBH;AA0BhBC,IAAAA,mBAAmB,EAAE,EA1BL;AA2BhBC,IAAAA,oBAAoB,EAAE,EA3BN;AA4BhBC,IAAAA,aAAa,EAAE,IA5BC;AA6BhBC,IAAAA,iBAAiB,EAAE,IA7BH;AA8BhBC,IAAAA,cAAc,EAAE,KA9BA;AA+BhBC,IAAAA,YAAY,EAAE,KA/BE;AAgChBC,IAAAA,YAAY,EAAE,KAhCE;AAiChBC,IAAAA,OAAO,EAAE,KAjCO;AAkChBC,IAAAA,OAAO,EAAE,IAlCO;AAmChBC,IAAAA,SAAS,EAAE,0BAnCK;AAoChBC,IAAAA,SAAS,EAAE,0BApCK;AAqChBC,IAAAA,IAAI,EAAE,EArCU;AAsChBC,IAAAA,aAAa,EAAE,YAtCC;AAuChBC,IAAAA,GAAG,EAAE,EAvCW;AAwChBC,IAAAA,aAAa,EAAExC,GAAG,KAAK,CAAR,IAAaA,GAAG,KAAK,CAArB,GAAyB,KAAzB,GAAiC,IAxChC;AAyChByC,IAAAA,UAAU,EAAEzC,GAAG,KAAK,CAAR,IAAaA,GAAG,KAAK,CAArB,GAAyB,KAAzB,GAAiC,IAzC7B;AA0ChB0C,IAAAA,GAAG,EAAE,IA1CW;AA2ChBC,IAAAA,iBAAiB,EAAE;AA3CH,GAAb,CAFP,CADwC,CAA1C;AAkDA,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBvE,QAAQ,CAAC;AACnCwE,IAAAA,MAAM,EAAE;AAD2B,GAAD,CAApC;AAGA,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgC1E,QAAQ,CAAC,CAAD,CAA9C;AACA,QAAM,CAAC2E,SAAD,EAAYC,UAAZ,IAA0B5E,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAAC6E,YAAD,EAAeC,eAAf,IAAkC9E,QAAQ,CAAC,CAAD,CAAhD;AACA,QAAM+E,WAAW,GAAG9E,MAAM,CAAC,KAAD,CAA1B;;AAEA,QAAM+E,wBAAwB,GAAIC,CAAD,IAAO;AACtC,UAAMC,OAAO,GAAGD,CAAC,CAACE,MAAlB;AACA,QAAI,CAACD,OAAO,CAACE,SAAR,CAAkBC,QAAlB,CAA2B,YAA3B,CAAL,EAA+C;AAC/C,UAAMC,MAAM,GAAGJ,OAAO,CAACK,OAAR,CAAgBD,MAA/B;AACAvE,IAAAA,OAAO,CAACyE,IAAR,CACG,GAAE1E,IAAI,CAAC2E,OAAL,CAAa,iBAAb,EAAgC,EAAhC,CAAoC,gBAAeH,MAAO,EAD/D;AAGD,GAPD;;AASA,QAAMI,YAAY,GAAIT,CAAD,IAAO;AAC1B,UAAM;AAAEU,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAkBX,CAAC,CAACE,MAA1B;AAEAZ,IAAAA,SAAS,CAAEsB,IAAD,KAAW,EACnB,GAAGA,IADgB;AAEnB,OAACF,IAAD,GAAQA,IAAI,KAAK,QAAT,GAAoBC,KAAK,CAACE,IAAN,EAApB,GAAmCF;AAFxB,KAAX,CAAD,CAAT;AAKA,QAAID,IAAI,KAAK,QAAb,EAAuBI,qBAAqB,CAACH,KAAD,CAArB;AACxB,GATD;;AAWA,QAAMG,qBAAqB,GAAG,MAAOC,YAAP,IAAwB;AACpDtB,IAAAA,cAAc,CAAC,CAAD,CAAd,CADoD,CAEpD;;AACA,QAAI,CAACsB,YAAL,EAAmB;AACjBjB,MAAAA,WAAW,CAACkB,OAAZ,GAAsB,KAAtB;AACArB,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAvD,MAAAA,YAAY,CAAC,EAAD,CAAZ;AACA;AACD;;AACD0D,IAAAA,WAAW,CAACkB,OAAZ,GAAsB,IAAtB;AACArB,IAAAA,UAAU,CAAC,IAAD,CAAV;;AACA,QAAI;AACF,YAAMsB,MAAM,GAAG,MAAM3F,eAAe,CAACyF,YAAD,CAApC;AACApB,MAAAA,UAAU,CAAC,KAAD,CAAV;AACA,UAAIsB,MAAM,CAACC,KAAX,EAAkB,OAAO1F,MAAM,CAACyF,MAAM,CAACE,OAAR,EAAiB,OAAjB,CAAb;AAClBrB,MAAAA,WAAW,CAACkB,OAAZ,IAAuB5E,YAAY,CAAC6E,MAAM,CAACA,MAAR,CAAnC;AACAnB,MAAAA,WAAW,CAACkB,OAAZ,GAAsB,KAAtB;AACD,KAND,CAME,OAAOE,KAAP,EAAc;AACdlF,MAAAA,WAAW,CAACkF,KAAD,EAAQ1F,MAAR,EAAgB,MAAMmE,UAAU,CAAC,KAAD,CAAhC,CAAX;AACD;AACF,GApBD;;AAsBA,sBACE;AAAA,4BACE;AAAA,8BACE;AAAA,+BACE;AAAA,kCACE;AACE,YAAA,OAAO,EAAGK,CAAD,IAAOlE,OAAO,CAACsF,MAAR,EADlB;AAEE,YAAA,SAAS,EAAC,0BAFZ;AAAA,mCAIE,QAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAJF;AAAA;AAAA;AAAA;AAAA,kBADF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAYE;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,qBAAf;AAAA,kCACE;AAAK,YAAA,GAAG,EAAEhG,IAAV;AAAgB,YAAA,GAAG,EAAC;AAApB;AAAA;AAAA;AAAA;AAAA,kBADF,4BAGE;AAAG,YAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,kBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAME;AAAK,UAAA,SAAS,EAAC,gBAAf;AAAA,iCACE;AAAK,YAAA,SAAS,EAAC,YAAf;AAAA,oCACE;AAAO,cAAA,OAAO,EAAC,QAAf;AAAA,qCACE,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE;AACE,cAAA,IAAI,EAAC,QADP;AAEE,cAAA,SAAS,EAAC,cAFZ;AAGE,cAAA,IAAI,EAAC,QAHP;AAIE,cAAA,EAAE,EAAC,QAJL;AAKE,4BAAW,sBALb;AAME,cAAA,KAAK,EAAEiE,MAAM,CAACE,MANhB;AAOE,cAAA,QAAQ,EAAEkB;AAPZ;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBANF;AAAA;AAAA;AAAA;AAAA;AAAA,cAZF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAqCE;AAAM,MAAA,SAAS,EAAC,gBAAhB;AAAA,iBACG,CAACf,SAAS,IAAIvD,SAAS,CAACkF,MAAV,KAAqB,CAAnC,kBACC;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA,gCACE;AAAK,UAAA,SAAS,EAAE,iBAAiB,CAAC3B,SAAD,GAAa,aAAb,GAA6B,EAA9C,CAAhB;AAAA,oBACGA,SAAS,gBACR,QAAC,WAAD;AAAa,YAAA,SAAS,EAAC;AAAvB;AAAA;AAAA;AAAA;AAAA,kBADQ,gBAGR,QAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAJJ;AAAA;AAAA;AAAA;AAAA,gBADF,EAQG,CAACA,SAAD,iBACC;AAAA,oBACGL,MAAM,CAACE,MAAP,GACG,gBADH,GAEG;AAHN;AAAA;AAAA;AAAA;AAAA,gBATJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,EAmBG,CAACG,SAAD,IAAcvD,SAAS,CAACkF,MAAV,KAAqB,CAAnC,iBACC;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,sBAAf;AAAA,4CACsB,GADtB,eAEE;AAAK,YAAA,SAAS,EAAC,YAAf;AAA4B,YAAA,KAAK,EAAE;AAAEC,cAAAA,OAAO,EAAE;AAAX,aAAnC;AAAA,mCACE;AACE,cAAA,SAAS,EAAC,cADZ;AAEE,cAAA,QAAQ,EAAGtB,CAAD,IAAO;AACfH,gBAAAA,eAAe,CAACG,CAAC,CAACE,MAAF,CAASS,KAAV,CAAf;AACAlB,gBAAAA,cAAc,CAAC,CAAD,CAAd;AACD,eALH;AAME,cAAA,KAAK,EAAEG,YANT;AAAA,sCAQE;AAAQ,gBAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBARF,eASE;AAAQ,gBAAA,KAAK,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBATF,eAUE;AAAQ,gBAAA,KAAK,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAVF,eAWE;AAAQ,gBAAA,KAAK,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAXF,eAYE;AAAQ,gBAAA,KAAK,EAAE,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAZF,eAaE;AAAQ,gBAAA,KAAK,EAAE,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAbF,eAcE;AAAQ,gBAAA,KAAK,EAAE,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAdF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAsBE;AAAO,UAAA,SAAS,EAAC,oCAAjB;AAAA,kCACE;AAAO,YAAA,SAAS,EAAC,sBAAjB;AAAA,mCACE;AAAA,sCACE;AAAI,gBAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAI,gBAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF,eAGE;AAAI,gBAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHF,eAIE;AAAI,gBAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJF,eAKE;AAAI,gBAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBALF,eAME;AAAI,gBAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBANF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAWE;AAAO,YAAA,OAAO,EAAEG,wBAAhB;AAAA,oCACE;AAAI,cAAA,SAAS,EAAC;AAAd;AAAA;AAAA;AAAA;AAAA,oBADF,EAEG5D,SAAS,CAACI,GAAV,CAAc,CAACC,CAAD,EAAIC,GAAJ,KAAY;AACzB,oBAAM8E,eAAe,GAAG,CAAC/B,WAAW,GAAG,CAAf,IAAoBI,YAApB,GAAmC,CAA3D;AACA,oBAAM4B,aAAa,GAAGhC,WAAW,GAAGI,YAApC;AACA,oBAAM6B,UAAU,GAAGhF,GAAG,GAAG,CAAzB;AACA,kBACEgF,UAAU,GAAGF,eAAb,IACAE,UAAU,GAAGD,aAFf,EAIE,OAAO,IAAP;AAEF,oBAAME,eAAe,GAAG,CAAClF,CAAC,CAAC2C,GAA3B;AACA,oBAAMwC,mBAAmB,GAAGnF,CAAC,CAAC4C,iBAA9B;AAEA,kCACE,QAAC,QAAD;AAAA,wCACE;AAAI,kBAAA,SAAS,EAAC,eAAd;AAAA,0CACE;AAAI,oBAAA,SAAS,EAAC,eAAd;AAAA,2CACE;AAAK,sBAAA,SAAS,EAAC,KAAf;AAAA,8CACE;AAAK,wBAAA,SAAS,EAAC,cAAf;AAAA,+CACE;AACE,0BAAA,GAAG,EAAE5C,CAAC,CAACc,cAAF,IAAoBjC,cAD3B;AAEE,0BAAA,SAAS,EAAC,EAFZ;AAGE,0BAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,8BADF,eAQE;AAAK,wBAAA,SAAS,EAAC,KAAf;AAAA,gDACE;AAAK,0BAAA,SAAS,EAAC,uBAAf;AAAA,qCACGmB,CAAC,CAACI,SADL,OACiBJ,CAAC,CAACK,QADnB,EAEG8E,mBAAmB,IAAI,eAF1B;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,eAKE;AAAK,0BAAA,SAAS,EAAC,yBAAf;AAAA,oCACGnF,CAAC,CAACU;AADL;AAAA;AAAA;AAAA;AAAA,gCALF;AAAA;AAAA;AAAA;AAAA;AAAA,8BARF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BADF,eAqBE;AAAI,oBAAA,SAAS,EAAC,uBAAd;AAAA,8BACGV,CAAC,CAACG,OAAF,IAAa;AADhB;AAAA;AAAA;AAAA;AAAA,0BArBF,eAwBE;AAAI,oBAAA,SAAS,EAAC,yBAAd;AAAA,yCACSH,CAAC,CAACO,KAAF,CAAQyD,OAAR,CAAgB,KAAhB,EAAuB,GAAvB,CADT;AAAA;AAAA;AAAA;AAAA;AAAA,0BAxBF,eA2BE;AAAA,2CACE;AACE,sBAAA,SAAS,EAAG,kBACVkB,eAAe,GAAG,QAAH,GAAc,SAC9B,EAHH;AAAA,gCAKGA,eAAe,GAAG,QAAH,GAAc;AALhC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BA3BF,eAoCE;AAAA,2CACE;AACE,sBAAA,SAAS,EAAG,cACVlF,CAAC,CAACiB,cAAF,GAAmB,UAAnB,GAAgC,EACjC,EAHH;AAAA,iCAKGjB,CAAC,CAACiB,cAAF,gBACC,QAAC,eAAD;AAAA;AAAA;AAAA;AAAA,8BADD,gBAGC,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,8BARJ,EAUGjB,CAAC,CAACiB,cAAF,GAAmB,IAAnB,GAA0B,OAV7B;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BApCF,eAkDE;AAAA,2CACE;AACE,sCAAcjB,CAAC,CAACE,EADlB;AAEE,sBAAA,SAAS,EAAC,4BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BAlDF;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EA4DGD,GAAG,KAAKN,SAAS,CAACkF,MAAV,GAAmB,CAA3B,iBACC;AAAI,kBAAA,SAAS,EAAC;AAAd;AAAA;AAAA;AAAA;AAAA,wBA7DJ;AAAA,iBAAgB,GAAE7E,CAAC,CAACsC,IAAK,MAAKrC,GAAI,EAAlC;AAAA;AAAA;AAAA;AAAA,sBADF;AAkED,aA/EA,CAFH;AAAA;AAAA;AAAA;AAAA;AAAA,kBAXF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAtBF,eAqHE;AAAK,UAAA,SAAS,EAAC,sBAAf;AAAA,iCACE,QAAC,aAAD;AACE,YAAA,SAAS,EAAEmF,IAAI,CAACC,IAAL,CAAU1F,SAAS,CAACkF,MAAV,GAAmBzB,YAA7B,KAA8C,CAD3D;AAEE,YAAA,oBAAoB,EAAE,CAFxB;AAGE,YAAA,kBAAkB,EAAE,CAHtB;AAIE,YAAA,SAAS,EAAEJ,WAAW,GAAG,CAJ3B;AAKE,YAAA,YAAY,EAAGsC,YAAD,IACZrC,cAAc,CAACqC,YAAY,CAACC,QAAb,GAAwB,CAAzB,CANlB;AAQE,YAAA,kBAAkB,EAAC,iBARrB;AASE,YAAA,mBAAmB,EAAC,QATtB;AAUE,YAAA,iBAAiB,EAAC,KAVpB;AAWE,YAAA,aAAa,eAAE,QAAC,wBAAD;AAAA;AAAA;AAAA;AAAA,oBAXjB;AAYE,YAAA,qBAAqB,EAAC,UAZxB;AAaE,YAAA,SAAS,eACP,QAAC,wBAAD;AACE,cAAA,KAAK,EAAE;AAAEC,gBAAAA,SAAS,EAAE;AAAb;AADT;AAAA;AAAA;AAAA;AAAA,oBAdJ;AAkBE,YAAA,iBAAiB,EAAC,UAlBpB;AAmBE,YAAA,iBAAiB,EAAC;AAnBpB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBArHF,EA2IS,GA3IT;AAAA,sBApBJ;AAAA;AAAA;AAAA;AAAA;AAAA,YArCF;AAAA,kBADF;AA2MD,CAzTD;;GAAMrG,c;UACaR,a,EACDD,U,EACHO,O;;;KAHTE,c;AA2TN,eAAeA,cAAf","sourcesContent":["import React, { Fragment, useState, useRef, useCallback } from \"react\";\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\nimport face from \"../../../assets/img/placeholder-img.png\";\nimport placeholderImg from \"../../../assets/img/placeholder-img.png\";\nimport { ReactComponent as TimesIcon } from \"../../../assets/icons/times.svg\";\nimport { ReactComponent as CheckCircleFill } from \"../../../assets/icons/check-circle-fill.svg\";\nimport { ReactComponent as ArrowRightShort } from \"../../../assets/icons/arrow-right-short.svg\";\nimport { ReactComponent as SearchIcon } from \"../../../assets/icons/search.svg\";\nimport { ReactComponent as ArrowLeftShortCircleFill } from \"../../../assets/icons/arrow-left-short-circle-fill.svg\";\nimport { ReactComponent as SpinnerIcon } from \"../../../assets/icons/spinner.svg\";\nimport { ReactComponent as NothingFoundIcon } from \"../../../assets/icons/nothing-found.svg\";\nimport { searchCustomers } from \"../../../services/customerService\";\nimport errorHandler from \"../../../utils/errorHandler\";\nimport notify from \"../../../utils/notification\";\nimport { useAuth } from \"../../utilities\";\nimport ReactPaginate from \"react-paginate\";\n\nconst SelectCustomer = (props) => {\n  const { path } = useRouteMatch();\n  const history = useHistory();\n  const auth = useAuth();\n  // useCallback ensures that handle error function isn't recreated on every render\n  const handleError = useCallback(\n    (errorObject, notify, cb) => errorHandler(auth)(errorObject, notify, cb),\n    [auth]\n  );\n\n  const [customers, setCustomers] = useState(() =>\n    Array(0)\n      .fill(\"\")\n      .map((v, idx) => ({\n        id: `40${idx}`,\n        bvnhash: \"\",\n        firstname: \"\",\n        lastname: \"\",\n        middlename: null,\n        phone: \"\",\n        simswapstatus: null,\n        otpstatus: null,\n        email: \"\",\n        dob: \"1999-06-30T00:00:00.000Z\",\n        pob: null,\n        bucket: \"npf-mfb\",\n        photo_location: \"\",\n        photo_key: \"40/photo/livelinesscheck.png\",\n        photo_number: null,\n        video_location: \"\",\n        video_key: \"\",\n        signature_location: \"\",\n        signature_key: \"\",\n        document_location: \"\",\n        document_key: \"\",\n        document_number: \"\",\n        document_type_id: 2,\n        documentschecked: null,\n        isnewbankcustomer: null,\n        document_issue_date: \"\",\n        document_expiry_date: \"\",\n        isotpverified: true,\n        livelinesschecked: null,\n        salary_officer: false,\n        force_number: \"N/A\",\n        ippis_number: \"N/A\",\n        address: \"N/A\",\n        has_pin: true,\n        createdAt: \"2020-11-04T15:11:59.904Z\",\n        updatedAt: \"2020-11-06T09:11:40.700Z\",\n        user: 62,\n        accountNumber: \"0209525729\",\n        bvn: \"\",\n        accountStatus: idx === 0 || idx === 2 ? false : true,\n        liveliness: idx === 0 || idx === 2 ? false : true,\n        PND: true,\n        signup_incomplete: false,\n      }))\n  );\n\n  const [values, setValues] = useState({\n    search: \"\",\n  });\n  const [currentPage, setCurrentPage] = useState(1);\n  const [isLoading, setLoading] = useState(false);\n  const [itemsPerPage, setItemsPerPage] = useState(5);\n  const isSearching = useRef(false);\n\n  const handleNavigateToCustomer = (e) => {\n    const element = e.target;\n    if (!element.classList.contains(\"action-btn\")) return;\n    const userId = element.dataset.userId;\n    history.push(\n      `${path.replace(\"/selectCustomer\", \"\")}?customer_id=${userId}`\n    );\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n\n    setValues((prev) => ({\n      ...prev,\n      [name]: name === \"search\" ? value.trim() : value,\n    }));\n\n    if (name === \"search\") handleSearchCustomers(value);\n  };\n\n  const handleSearchCustomers = async (searchPhrase) => {\n    setCurrentPage(1);\n    // setFilter(\"\");\n    if (!searchPhrase) {\n      isSearching.current = false;\n      setLoading(false);\n      setCustomers([]);\n      return;\n    }\n    isSearching.current = true;\n    setLoading(true);\n    try {\n      const result = await searchCustomers(searchPhrase);\n      setLoading(false);\n      if (result.error) return notify(result.message, \"error\");\n      isSearching.current && setCustomers(result.result);\n      isSearching.current = false;\n    } catch (error) {\n      handleError(error, notify, () => setLoading(false));\n    }\n  };\n\n  return (\n    <>\n      <header>\n        <div>\n          <h1>\n            <button\n              onClick={(e) => history.goBack()}\n              className=\"btn btn-primary back-btn\"\n            >\n              <ArrowRightShort />\n            </button>\n            Select Customer for New Loan\n          </h1>\n        </div>\n        <div>\n          <div className=\"small-admin-details\">\n            <img src={face} alt=\"\" />\n            NPF Admin\n            <i className=\"arrow down\"></i>\n          </div>\n          <div className=\"some-container\">\n            <div className=\"search-div\">\n              <label htmlFor=\"search\">\n                <SearchIcon />\n              </label>\n              <input\n                type=\"search\"\n                className=\"form-control\"\n                name=\"search\"\n                id=\"search\"\n                aria-label=\"Search for customers\"\n                value={values.search}\n                onChange={handleChange}\n              />\n            </div>\n          </div>\n        </div>\n      </header>\n      <main className=\"customers-page\">\n        {(isLoading || customers.length === 0) && (\n          <div className=\"searching-block\">\n            <div className={\"svg-holder \" + (!isLoading ? \"not-loading\" : \"\")}>\n              {isLoading ? (\n                <SpinnerIcon className=\"rotating\" />\n              ) : (\n                <NothingFoundIcon />\n              )}\n            </div>\n            {!isLoading && (\n              <p>\n                {values.search\n                  ? \"NOTHING FOUND!\"\n                  : \"You can search for the customer with the top right search bar\"}\n              </p>\n            )}\n          </div>\n        )}\n        {!isLoading && customers.length !== 0 && (\n          <>\n            <div className=\"color-dark-text-blue\">\n              Customers per page:{\" \"}\n              <div className=\"form-group\" style={{ display: \"inline-block\" }}>\n                <select\n                  className=\"form-control\"\n                  onChange={(e) => {\n                    setItemsPerPage(e.target.value);\n                    setCurrentPage(1);\n                  }}\n                  value={itemsPerPage}\n                >\n                  <option value={5}>5</option>\n                  <option value={10}>10</option>\n                  <option value={20}>20</option>\n                  <option value={50}>50</option>\n                  <option value={100}>100</option>\n                  <option value={150}>150</option>\n                  <option value={200}>200</option>\n                </select>\n              </div>\n            </div>\n            <table className=\"table table-borderless table-hover\">\n              <thead className=\"color-dark-text-blue\">\n                <tr>\n                  <th scope=\"col\">Customer</th>\n                  <th scope=\"col\">BVN</th>\n                  <th scope=\"col\">Phone</th>\n                  <th scope=\"col\">Account Status</th>\n                  <th scope=\"col\">Facial Liveliness Check</th>\n                  <th scope=\"col\">Action</th>\n                </tr>\n              </thead>\n              <tbody onClick={handleNavigateToCustomer}>\n                <tr className=\"spacer\" />\n                {customers.map((v, idx) => {\n                  const initialBoundary = (currentPage - 1) * itemsPerPage + 1;\n                  const finalBoundary = currentPage * itemsPerPage;\n                  const itemNumber = idx + 1;\n                  if (\n                    itemNumber < initialBoundary ||\n                    itemNumber > finalBoundary\n                  )\n                    return null;\n\n                  const pseudoAccStatus = !v.PND;\n                  const showIncompleteBadge = v.signup_incomplete;\n\n                  return (\n                    <Fragment key={`${v.user} + ${idx}`}>\n                      <tr className=\"customer-card\">\n                        <td className=\"major-details\">\n                          <div className=\"row\">\n                            <div className=\"customer-img\">\n                              <img\n                                src={v.photo_location || placeholderImg}\n                                className=\"\"\n                                alt=\"\"\n                              />\n                            </div>\n                            <div className=\"col\">\n                              <div className=\"name font-weight-bold\">\n                                {v.firstname} {v.lastname}\n                                {showIncompleteBadge && \" (Incomplete)\"}\n                              </div>\n                              <div className=\"email font-weight-light\">\n                                {v.email}\n                              </div>\n                            </div>\n                          </div>\n                        </td>\n                        <td className=\"bvn font-weight-light\">\n                          {v.bvnhash || \"N/A\"}\n                        </td>\n                        <td className=\"phone font-weight-light\">\n                          (234) {v.phone.replace(\"234\", \"0\")}\n                        </td>\n                        <td>\n                          <span\n                            className={`account-status ${\n                              pseudoAccStatus ? \"active\" : \"pending\"\n                            }`}\n                          >\n                            {pseudoAccStatus ? \"ACTIVE\" : \"PND\"}\n                          </span>\n                        </td>\n                        <td>\n                          <span\n                            className={`liveliness ${\n                              v.video_location ? \"provided\" : \"\"\n                            }`}\n                          >\n                            {v.video_location ? (\n                              <CheckCircleFill />\n                            ) : (\n                              <TimesIcon />\n                            )}\n                            {v.video_location ? \" P\" : \"Not p\"}rovided\n                          </span>\n                        </td>\n                        <td>\n                          <button\n                            data-user-id={v.id}\n                            className=\"btn btn-success action-btn\"\n                          >\n                            Continue\n                          </button>\n                        </td>\n                      </tr>\n                      {idx !== customers.length - 1 && (\n                        <tr className=\"spacer\" />\n                      )}\n                    </Fragment>\n                  );\n                })}\n              </tbody>\n            </table>\n            <div className=\"audit-history-footer\">\n              <ReactPaginate\n                pageCount={Math.ceil(customers.length / itemsPerPage) || 1}\n                marginPagesDisplayed={2}\n                pageRangeDisplayed={3}\n                forcePage={currentPage - 1}\n                onPageChange={(selectedItem) =>\n                  setCurrentPage(selectedItem.selected + 1)\n                }\n                containerClassName=\"pagination-btns\"\n                activeLinkClassName=\"active\"\n                pageLinkClassName=\"btn\"\n                previousLabel={<ArrowLeftShortCircleFill />}\n                previousLinkClassName=\"btn icon\"\n                nextLabel={\n                  <ArrowLeftShortCircleFill\n                    style={{ transform: \"rotateY(180deg)\" }}\n                  />\n                }\n                nextLinkClassName=\"btn icon\"\n                disabledClassName=\"disabled\"\n              />\n            </div>{\" \"}\n          </>\n        )}\n      </main>\n    </>\n  );\n};\n\nexport default SelectCustomer;\n"]},"metadata":{},"sourceType":"module"}