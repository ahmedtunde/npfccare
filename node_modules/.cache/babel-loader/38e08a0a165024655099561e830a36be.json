{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import moment from\"moment\";import numeral from\"numeral\";import{ReactComponent as ClockIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/clock.svg\";var LoanCustomerCard=function LoanCustomerCard(_ref){var customerDetails=_ref.customerDetails,showMajorDetails=_ref.showMajorDetails,shownCustomerCategory=_ref.shownCustomerCategory,roles=_ref.roles,children=_ref.children;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{className:\"customer-card font-weight-600\",children:[showMajorDetails&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",style:{verticalAlign:\"middle\"},children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"selCustomer-\".concat(customerDetails.id)})}),/*#__PURE__*/_jsx(\"td\",{className:\"major-details\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"customer-img col-3\",children:/*#__PURE__*/_jsx(\"img\",{src:customerDetails.photo_location,className:\"\",alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"pl-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"name font-weight-bold\",children:customerDetails.name}),/*#__PURE__*/_jsx(\"div\",{className:\"email font-weight-light\",children:customerDetails.email})]})]})})]}),(shownCustomerCategory===\"submitted\"||shownCustomerCategory===\"inProcess\"||shownCustomerCategory===\"running\")&&/*#__PURE__*/_jsxs(\"td\",{className:\"card-loan-details\",children:[/*#__PURE__*/_jsx(\"p\",{children:customerDetails.loan_name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u20A6 \",numeral(customerDetails.loan_amount).format(\"0,0.00\")]})]}),shownCustomerCategory!==\"submitted\"&&shownCustomerCategory!==\"inProcess\"&&shownCustomerCategory!==\"running\"&&/*#__PURE__*/_jsxs(\"td\",{className:\"repay-method\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-weight-bold\",children:\"Amount: \\xA0\\xA0\"}),\"\\u20A6\",numeral(customerDetails.loan_amount).format(\"0,0.00\")]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-weight-bold\",children:\"Tenure: \\xA0\\xA0\"}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(ClockIcon,{})}),\"\\xA0\\xA0\",customerDetails.loan_repayment_tenure]})]}),(shownCustomerCategory===\"approved\"||shownCustomerCategory===\"paid\")&&/*#__PURE__*/_jsxs(\"td\",{className:\"repay-method\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-weight-bold\",children:\"Amount: \\xA0\\xA0\"}),\"\\u20A6\",numeral(customerDetails.approved_amount).format(\"0,0.00\")]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-weight-bold\",children:\"Tenure: \\xA0\\xA0\"}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(ClockIcon,{})}),\"\\xA0\\xA0\",customerDetails.approved_tenure]})]}),/*#__PURE__*/_jsxs(\"td\",{className:\"repay-method\",children:[/*#__PURE__*/_jsx(\"p\",{children:customerDetails.loan_repayment_method}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(ClockIcon,{})}),\"\\xA0\\xA0\",customerDetails.loan_repayment_tenure]})]}),shownCustomerCategory===\"inProcess\"&&/*#__PURE__*/_jsx(\"td\",{className:\"loan-status \".concat(customerDetails.status===\"APPROVE\"?\"color-green\":\"\"),children:customerDetails.status}),shownCustomerCategory!==\"declined\"&&shownCustomerCategory!==\"paid\"&&/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"dti \".concat(customerDetails[shownCustomerCategory!==\"submitted\"?\"score\":\"debtToIncome\"]<50?\"negative\":\"positive\"),children:[customerDetails[shownCustomerCategory!==\"submitted\"?\"score\":\"debtToIncome\"],\" \",\"%\"]})}),shownCustomerCategory===\"declined\"&&/*#__PURE__*/_jsx(\"td\",{className:\"font-weight-normal\",children:customerDetails.narrative}),/*#__PURE__*/_jsx(\"td\",{children:moment(customerDetails[shownCustomerCategory===\"paid\"?\"date_completed\":\"application_date\"]).format(\"Do MMMM YYYY\")}),shownCustomerCategory!==\"declined\"&&/*#__PURE__*/_jsx(\"td\",{children:roles===\"AUDIT\"?/*#__PURE__*/_jsx(\"button\",{\"data-user-id\":customerDetails.id,\"data-operation-type\":shownCustomerCategory===\"approved\"?\"Review Approved Application\":shownCustomerCategory===\"paid\"||shownCustomerCategory===\"running\"?\"Review Running Loan\":\"Review Loan Application\",className:\"btn btn-success action-btn bg-color-green\",children:shownCustomerCategory===\"approved\"?\"Review Approved Application\":shownCustomerCategory===\"paid\"||shownCustomerCategory===\"running\"?\"Review Running Loan\":\"Review Loan Application\"}):/*#__PURE__*/_jsx(\"button\",{\"data-user-id\":customerDetails.id,\"data-operation-type\":shownCustomerCategory===\"approved\"?\"disburse\":shownCustomerCategory===\"paid\"||shownCustomerCategory===\"running\"?\"schedule\":\"view\",className:\"btn btn-success action-btn bg-color-green\",children:shownCustomerCategory===\"approved\"?\"View\":shownCustomerCategory===\"paid\"||shownCustomerCategory===\"running\"?\"Schedule\":\"View\"})})]}),children]});};export default LoanCustomerCard;","map":{"version":3,"sources":["/Users/xerde2/Downloads/npf-admin-web/src/components/loanManagement/loanCustomerCard.js"],"names":["moment","numeral","LoanCustomerCard","customerDetails","showMajorDetails","shownCustomerCategory","roles","children","verticalAlign","id","photo_location","name","email","loan_name","loan_amount","format","loan_repayment_tenure","approved_amount","approved_tenure","loan_repayment_method","status","narrative"],"mappings":"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","sourcesContent":["import moment from \"moment\";\nimport numeral from \"numeral\";\nimport { ReactComponent as ClockIcon } from \"../../assets/icons/clock.svg\";\n\nconst LoanCustomerCard = ({\n  customerDetails,\n  showMajorDetails,\n  shownCustomerCategory,\n  roles,\n  children,\n}) => {\n  return (\n    <>\n      <tr className=\"customer-card font-weight-600\">\n        {showMajorDetails && (\n          <>\n            <th scope=\"row\" style={{ verticalAlign: \"middle\" }}>\n              <input\n                type=\"checkbox\"\n                name={`selCustomer-${customerDetails.id}`}\n              />\n            </th>\n            <td className=\"major-details\">\n              <div className=\"row\">\n                <div className=\"customer-img col-3\">\n                  <img\n                    src={customerDetails.photo_location}\n                    className=\"\"\n                    alt=\"\"\n                  />\n                </div>\n                <div className=\"pl-2\">\n                  <div className=\"name font-weight-bold\">\n                    {customerDetails.name}\n                  </div>\n                  <div className=\"email font-weight-light\">\n                    {customerDetails.email}\n                  </div>\n                </div>\n              </div>\n            </td>\n          </>\n        )}\n        {/* Show loan details only when on submitted or inProcess tabs */}\n        {(shownCustomerCategory === \"submitted\" ||\n          shownCustomerCategory === \"inProcess\" ||\n          shownCustomerCategory === \"running\") && (\n          <td className=\"card-loan-details\">\n            <p>{customerDetails.loan_name}</p>\n            <p>\n              &#8358; {numeral(customerDetails.loan_amount).format(\"0,0.00\")}\n            </p>\n          </td>\n        )}\n        {/* Show Customer Request only when NOT on submitted or inProcess or running tabs */}\n        {shownCustomerCategory !== \"submitted\" &&\n          shownCustomerCategory !== \"inProcess\" &&\n          shownCustomerCategory !== \"running\" && (\n            <td className=\"repay-method\">\n              <p>\n                <span className=\"font-weight-bold\">Amount: &nbsp;&nbsp;</span>\n                &#8358;{numeral(customerDetails.loan_amount).format(\"0,0.00\")}\n              </p>\n              <p>\n                <span className=\"font-weight-bold\">Tenure: &nbsp;&nbsp;</span>\n                <span>\n                  <ClockIcon />\n                </span>\n                &nbsp;&nbsp;{customerDetails.loan_repayment_tenure}\n              </p>\n            </td>\n          )}\n\n        {/* Show Bank offer only when on approved or paid tabs */}\n        {(shownCustomerCategory === \"approved\" ||\n          shownCustomerCategory === \"paid\") && (\n          <td className=\"repay-method\">\n            <p>\n              <span className=\"font-weight-bold\">Amount: &nbsp;&nbsp;</span>\n              &#8358;\n              {numeral(customerDetails.approved_amount).format(\"0,0.00\")}\n            </p>\n            <p>\n              <span className=\"font-weight-bold\">Tenure: &nbsp;&nbsp;</span>\n              <span>\n                <ClockIcon />\n              </span>\n              &nbsp;&nbsp;{customerDetails.approved_tenure}\n            </p>\n          </td>\n        )}\n\n        <td className=\"repay-method\">\n          <p>{customerDetails.loan_repayment_method}</p>\n          <p>\n            <span>\n              <ClockIcon />\n            </span>\n            &nbsp;&nbsp;{customerDetails.loan_repayment_tenure}\n          </p>\n        </td>\n\n        {shownCustomerCategory === \"inProcess\" && (\n          <td\n            className={`loan-status ${\n              customerDetails.status === \"APPROVE\" ? \"color-green\" : \"\"\n            }`}\n          >\n            {customerDetails.status}\n          </td>\n        )}\n\n        {/* Hide score/DTI when declined/paid tabs are active */}\n        {shownCustomerCategory !== \"declined\" &&\n          shownCustomerCategory !== \"paid\" && (\n            <td>\n              <span\n                className={`dti ${\n                  customerDetails[\n                    shownCustomerCategory !== \"submitted\"\n                      ? \"score\"\n                      : \"debtToIncome\"\n                  ] < 50\n                    ? \"negative\"\n                    : \"positive\"\n                }`}\n              >\n                {\n                  customerDetails[\n                    shownCustomerCategory !== \"submitted\"\n                      ? \"score\"\n                      : \"debtToIncome\"\n                  ]\n                }{\" \"}\n                %\n              </span>\n            </td>\n          )}\n        {/* Show narrative when declined tab is active */}\n        {shownCustomerCategory === \"declined\" && (\n          <td className=\"font-weight-normal\">{customerDetails.narrative}</td>\n        )}\n        <td>\n          {moment(\n            customerDetails[\n              shownCustomerCategory === \"paid\"\n                ? \"date_completed\"\n                : \"application_date\"\n            ]\n          ).format(\"Do MMMM YYYY\")}\n        </td>\n        {shownCustomerCategory !== \"declined\" && (\n          <td>\n            {/* define operation based on active tab */}\n            {roles === \"AUDIT\" ? (\n              <button\n                data-user-id={customerDetails.id}\n                data-operation-type={\n                  shownCustomerCategory === \"approved\"\n                    ? \"Review Approved Application\"\n                    : shownCustomerCategory === \"paid\" ||\n                      shownCustomerCategory === \"running\"\n                    ? \"Review Running Loan\"\n                    : \"Review Loan Application\"\n                }\n                className=\"btn btn-success action-btn bg-color-green\"\n              >\n                {shownCustomerCategory === \"approved\"\n                  ? \"Review Approved Application\"\n                  : shownCustomerCategory === \"paid\" ||\n                    shownCustomerCategory === \"running\"\n                  ? \"Review Running Loan\"\n                  : \"Review Loan Application\"}\n              </button>\n            ) : (\n              <button\n                data-user-id={customerDetails.id}\n                data-operation-type={\n                  shownCustomerCategory === \"approved\"\n                    ? \"disburse\"\n                    : shownCustomerCategory === \"paid\" ||\n                      shownCustomerCategory === \"running\"\n                    ? \"schedule\"\n                    : \"view\"\n                }\n                className=\"btn btn-success action-btn bg-color-green\"\n              >\n                {shownCustomerCategory === \"approved\"\n                  ? \"View\"\n                  : shownCustomerCategory === \"paid\" ||\n                    shownCustomerCategory === \"running\"\n                  ? \"Schedule\"\n                  : \"View\"}\n              </button>\n            )}\n          </td>\n        )}\n      </tr>\n      {children}\n    </>\n  );\n};\n\nexport default LoanCustomerCard;\n"]},"metadata":{},"sourceType":"module"}