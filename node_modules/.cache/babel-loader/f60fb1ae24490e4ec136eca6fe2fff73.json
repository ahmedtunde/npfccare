{"ast":null,"code":"import _regeneratorRuntime from\"/Users/xerde2/Downloads/npf-admin-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/xerde2/Downloads/npf-admin-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/xerde2/Downloads/npf-admin-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/xerde2/Downloads/npf-admin-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/xerde2/Downloads/npf-admin-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useCallback,useState,useEffect}from\"react\";import{useHistory,useLocation,useRouteMatch}from\"react-router-dom\";import jwt_decode from\"jwt-decode\";import ReactPaginate from\"react-paginate\";import{ReactComponent as ArrowRightCircle}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/arrow-right-circle.svg\";import{ReactComponent as ArrowLeftShortCircleFill}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/arrow-left-short-circle-fill.svg\";import{ReactComponent as SearchIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/search.svg\";import{ReactComponent as SpinnerIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/spinner.svg\";import{getAccessToken,getAdminName}from\"../../utils/localStorageService\";import{useAuth}from\"../../components/utilities\";import errorHandler,{validateToken}from\"../../utils/errorHandler\";import face from\"../../assets/img/placeholder-img.png\";import AdminCard from\"../loanManagement/adminCard\";import notify from\"../../utils/notification\";import{createAdminProfile,getAdminRoles,getAllAdminProfiles,searchAdminProfile}from\"../../services/adminService\";import{getBranches,getPendingLoans,getRoles}from\"../../services/loanService\";import{generatePassword,handlePagination,limit}from\"../../utils/constant\";var AllAdmin=function AllAdmin(){var history=useHistory();var location=useLocation();var adminName=getAdminName();var auth=useAuth();var _useRouteMatch=useRouteMatch(),path=_useRouteMatch.path;var handleError=useCallback(function(errorObject,notify,cb){return errorHandler(auth)(errorObject,notify,cb);},[auth]);var _useState=useState(\"all\"),_useState2=_slicedToArray(_useState,2),showSection=_useState2[0],setShowSection=_useState2[1];// const [showAuditHistory, setShowAuditHistory] = useState(\"all\");\nvar _useState3=useState({userFull:false,submit:false,rejectApplication:false,approveApplication:false,printApplication:false,loadPage:false}),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setLoading=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),comments=_useState6[0],setComments=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),branch=_useState8[0],setBranch=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),roles=_useState10[0],setRoles=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),totalPages=_useState12[0],setTotalPages=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),loanWorkFlow=_useState14[0],setLoanWorkFlow=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),adminRole=_useState16[0],setAdminRole=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),firstName=_useState18[0],setFirstName=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),lastName=_useState20[0],setLastName=_useState20[1];var _useState21=useState(\"\"),_useState22=_slicedToArray(_useState21,2),email=_useState22[0],setEmail=_useState22[1];var _useState23=useState(\"\"),_useState24=_slicedToArray(_useState23,2),phoneNumber=_useState24[0],setPhoneNumber=_useState24[1];var _useState25=useState(\"8\"),_useState26=_slicedToArray(_useState25,2),branchId=_useState26[0],setBranchId=_useState26[1];var _useState27=useState(\"CSO\"),_useState28=_slicedToArray(_useState27,2),roleName=_useState28[0],setRoleName=_useState28[1];var _useState29=useState(\"\"),_useState30=_slicedToArray(_useState29,2),loanOfficerCode=_useState30[0],setLoanOfficerCode=_useState30[1];var _useState31=useState(\"\"),_useState32=_slicedToArray(_useState31,2),staffId=_useState32[0],setStaffId=_useState32[1];var _useState33=useState(\"\"),_useState34=_slicedToArray(_useState33,2),rank=_useState34[0],setRank=_useState34[1];var _useState35=useState(\"\"),_useState36=_slicedToArray(_useState35,2),password=_useState36[0],setPassword=_useState36[1];var _useState37=useState(\"\"),_useState38=_slicedToArray(_useState37,2),searchEmail=_useState38[0],setSearchEmail=_useState38[1];var token=getAccessToken();useEffect(function(){validateToken(token,history,jwt_decode,auth,notify);},[auth,history,token]);var handleChangeLoading=function handleChangeLoading(name,value){return setLoading(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},name,value));});};useEffect(function(){setAdminRole(\"\");var getAllAdmin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _callLoan$data,callLoan,response,result,_roles,workFlow;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;handleChangeLoading(\"loadPage\",true);_context.next=4;return getPendingLoans();case 4:callLoan=_context.sent;if(!(callLoan===null||callLoan===void 0?void 0:(_callLoan$data=callLoan.data)===null||_callLoan$data===void 0?void 0:_callLoan$data.loans)){_context.next=27;break;}_context.next=8;return getAllAdminProfiles(1,limit);case 8:response=_context.sent;_context.next=11;return getBranches();case 11:result=_context.sent;_context.next=14;return getAdminRoles();case 14:_roles=_context.sent;_context.next=17;return getRoles();case 17:workFlow=_context.sent;if(!(response&&result)){_context.next=27;break;}if(!(response.data.status&&result.status===\"success\")){_context.next=27;break;}setTotalPages(response.data.totalPages-1);setComments(response.data.data);setBranch(result.data);setRoles(_roles.result);setLoanWorkFlow(workFlow.data);handleChangeLoading(\"loadPage\",false);return _context.abrupt(\"return\");case 27:handleChangeLoading(\"loadPage\",false);notify(\"Something went wrong\",\"error\");return _context.abrupt(\"return\");case 32:_context.prev=32;_context.t0=_context[\"catch\"](0);console.log(_context.t0);handleChangeLoading(\"loadPage\",false);return _context.abrupt(\"return\");case 37:case\"end\":return _context.stop();}}},_callee,null,[[0,32]]);}));return function getAllAdmin(){return _ref.apply(this,arguments);};}();getAllAdmin();},[]);var handleEventSelect=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();if(e.target.name===\"role\"){setAdminRole(e.target.value);}if(e.target.value!==\"LOAN OFFICER\"){setLoanOfficerCode(\"\");}setRoleName(e.target.value);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function handleEventSelect(_x){return _ref2.apply(this,arguments);};}();var handleSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){var getRoleId,getpassword,payload,response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.preventDefault();handleChangeLoading(\"submit\",true);_context3.prev=2;roles&&roles.forEach(function(option){if(roleName===option.name){getRoleId=option.id;}});_context3.next=6;return generatePassword(15);case 6:getpassword=_context3.sent;setPassword(getpassword);payload={email:email,password:getpassword,firstName:firstName,lastName:lastName,phoneNumber:phoneNumber,branchId:branchId,roleName:roleName,roleId:parseInt(getRoleId),loanOfficerCode:loanOfficerCode,staffId:staffId,rank:rank};console.log(payload);_context3.next=12;return createAdminProfile(payload);case 12:response=_context3.sent;console.log(response,getpassword);if(!response.error){_context3.next=18;break;}notify(response.message,\"error\");handleChangeLoading(\"submit\",false);return _context3.abrupt(\"return\");case 18:console.log(e,payload);notify(response.message,\"success\");handleChangeLoading(\"submit\",false);setTimeout(function(){window.location.reload();},2500);return _context3.abrupt(\"return\");case 25:_context3.prev=25;_context3.t0=_context3[\"catch\"](2);notify(\"Something went wrong\",\"success\");handleChangeLoading(\"submit\",false);return _context3.abrupt(\"return\");case 30:case\"end\":return _context3.stop();}}},_callee3,null,[[2,25]]);}));return function handleSubmit(_x2){return _ref3.apply(this,arguments);};}();var handleSearch=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(e){var response;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;e.preventDefault();handleChangeLoading(\"loadPage\",true);_context4.next=5;return searchAdminProfile(searchEmail);case 5:response=_context4.sent;console.log(response.data.data,searchEmail);if(!response.error){_context4.next=11;break;}notify(response.message,\"error\");handleChangeLoading(\"submit\",false);return _context4.abrupt(\"return\");case 11:if(!response.data.status){_context4.next=15;break;}setComments([response.data.data]);handleChangeLoading(\"loadPage\",false);return _context4.abrupt(\"return\");case 15:_context4.next=22;break;case 17:_context4.prev=17;_context4.t0=_context4[\"catch\"](0);notify(\"Invalid email address\",\"success\");handleChangeLoading(\"loadPage\",false);return _context4.abrupt(\"return\");case 22:case\"end\":return _context4.stop();}}},_callee4,null,[[0,17]]);}));return function handleSearch(_x3){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Admin Management\"}),/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(\"a\",{className:showSection===\"all\"?\"active\":\"\",onClick:function onClick(e){return setShowSection(\"all\");},children:\"Admin Overview\"}),/*#__PURE__*/_jsx(\"a\",{className:showSection===\"create-admin\"?\"active\":\"\",onClick:function onClick(e){setShowSection(\"create-admin\");},children:\"Create Admin\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"small-admin-details\",children:[/*#__PURE__*/_jsx(\"img\",{src:face,alt:\"\"}),adminName||\"NPF Admin\",/*#__PURE__*/_jsx(\"i\",{className:\"arrow down\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"some-container\",children:showSection===\"all\"&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSearch,className:\"search-div\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"search\",children:/*#__PURE__*/_jsx(SearchIcon,{})}),/*#__PURE__*/_jsx(\"input\",{type:\"search\",className:\"form-control\",name:\"search\",id:\"search\",\"aria-label\":\"Search by email\",placeholder:\"Search by email\",value:searchEmail,onChange:function onChange(e){return setSearchEmail(e.target.value);}})]})})]})]}),isLoading.loadPage===true?/*#__PURE__*/_jsx(\"div\",{className:\"searching-block\",children:/*#__PURE__*/_jsx(\"div\",{className:\"svg-holder\",children:/*#__PURE__*/_jsx(SpinnerIcon,{className:\"rotating\"})})}):/*#__PURE__*/_jsxs(\"main\",{className:\"loan-inprocess-page\",children:[showSection===\"all\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AdminCard,{branch:branch,path:path,comments:comments}),comments.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"paginate-footer\",children:/*#__PURE__*/_jsx(ReactPaginate,{pageCount:totalPages,marginPagesDisplayed:2,pageRangeDisplayed:3//   forcePage={currentPage - 5}\n,onPageChange:function onPageChange(data){return handlePagination(data,setComments,getAllAdminProfiles);},containerClassName:\"pagination-btns\",activeLinkClassName:\"active\",pageLinkClassName:\"btn\",previousLabel:/*#__PURE__*/_jsx(ArrowLeftShortCircleFill,{}),previousLinkClassName:\"btn icon\",nextLabel:/*#__PURE__*/_jsx(ArrowLeftShortCircleFill,{style:{transform:\"rotateY(180deg)\"}}),nextLinkClassName:\"btn icon\",disabledClassName:\"disabled\"})})]}),showSection===\"create-admin\"&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"customer-details row animated fadeIn delay-05s\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"loan-details col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"details-header\",children:\"Admin\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 mb-3\",children:[\"Staff ID:\",/*#__PURE__*/_jsx(\"span\",{className:\"not-verified\",children:\"\\xA0 *\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 mb-3\",children:[\"First Name:\",/*#__PURE__*/_jsx(\"span\",{className:\"not-verified\",children:\"\\xA0 *\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 mb-3\",children:[\"Last Name:\",/*#__PURE__*/_jsx(\"span\",{className:\"not-verified\",children:\"\\xA0 *\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 mb-3\",children:[\"Email:\",/*#__PURE__*/_jsx(\"span\",{className:\"not-verified\",children:\"\\xA0 *\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 mb-3\",children:[\"Rank:\",/*#__PURE__*/_jsx(\"span\",{className:\"not-verified\",children:\"\\xA0 *\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 mb-3\",children:\"Phone Number:\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 mb-3\",children:\"Branch:\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 mb-3\",children:\"Admin Role:\"})}),adminRole===\"LOAN OFFICER\"&&/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 mb-3\",children:\"Workflow Level:\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"personal-details col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"details-header\",children:\"Details\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row col-9\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"staffId\",id:\"staffId\",className:\"form-control\",required:true,onChange:function onChange(e){setStaffId(e.target.value);},value:staffId})}),/*#__PURE__*/_jsx(\"div\",{className:\"row col-9\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"firstname\",id:\"firstname\",className:\"form-control\",required:true,onChange:function onChange(e){return setFirstName(e.target.value);},value:firstName})}),/*#__PURE__*/_jsx(\"div\",{className:\"row col-9\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"lastname\",id:\"lastname\",className:\"form-control\",required:true,onChange:function onChange(e){return setLastName(e.target.value);},value:lastName})}),/*#__PURE__*/_jsx(\"div\",{className:\"row col-9\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",id:\"email\",className:\"form-control\",required:true,onChange:function onChange(e){setEmail(e.target.value);},value:email})}),/*#__PURE__*/_jsx(\"div\",{className:\"row col-9\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"rank\",id:\"rank\",className:\"form-control\",required:true,onChange:function onChange(e){setRank(e.target.value);},value:rank})}),/*#__PURE__*/_jsx(\"div\",{className:\"row col-9\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phone\",id:\"phone\",className:\"form-control\",onChange:function onChange(e){return setPhoneNumber(e.target.value);},value:phoneNumber})}),/*#__PURE__*/_jsx(\"div\",{className:\"row col-9\",children:/*#__PURE__*/_jsx(\"select\",{name:\"branch\",class:\"btn dropdown-toggle\",style:{border:\"1px solid #ccc\",outline:\"none\",borderRadius:\"10px\",fontSize:\"14px\",padding:\"0.8em 1em\",width:\"100%\",fontWeight:\"600\"},value:branchId,onChange:function onChange(e){setBranchId(e.target.value);},children:branch&&branch.map(function(option,idx){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"option\",{value:option.id,children:option.name},idx+option.code)});})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row col-9\",children:/*#__PURE__*/_jsx(\"select\",{name:\"role\",class:\"btn dropdown-toggle\",style:{border:\"1px solid #ccc\",outline:\"none\",borderRadius:\"10px\",fontSize:\"14px\",padding:\"0.8em 1em\",width:\"100%\",fontWeight:\"600\"},value:roleName,onChange:function onChange(e){handleEventSelect(e);},children:roles&&roles.map(function(option,idx){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"option\",{value:option.name,children:option.name!==\"SUSPEND ACCOUNT\"&&option.name},idx+option.code)});})})}),adminRole===\"LOAN OFFICER\"&&/*#__PURE__*/_jsx(\"div\",{className:\"row col-9\",children:/*#__PURE__*/_jsx(\"select\",{name:\"workflowlevel\",class:\"btn dropdown-toggle\",style:{border:\"1px solid #ccc\",outline:\"none\",borderRadius:\"10px\",fontSize:\"14px\",padding:\"0.8em 1em\",width:\"100%\",fontWeight:\"600\"},value:loanOfficerCode,onChange:function onChange(e){setLoanOfficerCode(e.target.value);},children:loanWorkFlow&&loanWorkFlow.map(function(option,idx){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"option\",{value:option.code,children:option.name!==\"devnpfuser\"&&option.name},idx+option.code)});})})}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn export-ifrs-btn mt-3\",disabled:firstName!==\"\"&&lastName!==\"\"&&email!==\"\"&&staffId!==\"\"&&rank!==\"\"?false:true,children:[\"Submit\",/*#__PURE__*/_jsx(\"span\",{className:\"pl-2\",children:isLoading.submit?/*#__PURE__*/_jsx(SpinnerIcon,{className:\"limit-loading rotating\"}):/*#__PURE__*/_jsx(ArrowRightCircle,{})})]})]})]})})]})]});};export default AllAdmin;","map":{"version":3,"sources":["/Users/xerde2/Downloads/npf-admin-web/src/components/admin/allAdmin.js"],"names":["React","useCallback","useState","useEffect","useHistory","useLocation","useRouteMatch","jwt_decode","ReactPaginate","getAccessToken","getAdminName","useAuth","errorHandler","validateToken","face","AdminCard","notify","createAdminProfile","getAdminRoles","getAllAdminProfiles","searchAdminProfile","getBranches","getPendingLoans","getRoles","generatePassword","handlePagination","limit","AllAdmin","history","location","adminName","auth","path","handleError","errorObject","cb","showSection","setShowSection","userFull","submit","rejectApplication","approveApplication","printApplication","loadPage","isLoading","setLoading","comments","setComments","branch","setBranch","roles","setRoles","totalPages","setTotalPages","loanWorkFlow","setLoanWorkFlow","adminRole","setAdminRole","firstName","setFirstName","lastName","setLastName","email","setEmail","phoneNumber","setPhoneNumber","branchId","setBranchId","roleName","setRoleName","loanOfficerCode","setLoanOfficerCode","staffId","setStaffId","rank","setRank","password","setPassword","searchEmail","setSearchEmail","token","handleChangeLoading","name","value","prev","getAllAdmin","callLoan","data","loans","response","result","workFlow","status","console","log","handleEventSelect","e","preventDefault","target","handleSubmit","forEach","option","getRoleId","id","getpassword","payload","roleId","parseInt","error","message","setTimeout","window","reload","handleSearch","length","transform","border","outline","borderRadius","fontSize","padding","width","fontWeight","map","idx","code"],"mappings":"u5BAAA,MAAOA,CAAAA,KAAP,EAAgBC,WAAhB,CAA6BC,QAA7B,CAAuCC,SAAvC,KAAwD,OAAxD,CACA,OAASC,UAAT,CAAqBC,WAArB,CAAkCC,aAAlC,KAAuD,kBAAvD,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CACA,MAAOC,CAAAA,aAAP,KAA0B,gBAA1B,C,weAKA,OAASC,cAAT,CAAyBC,YAAzB,KAA6C,iCAA7C,CACA,OAASC,OAAT,KAAwB,4BAAxB,CACA,MAAOC,CAAAA,YAAP,EAAuBC,aAAvB,KAA4C,0BAA5C,CACA,MAAOC,CAAAA,IAAP,KAAiB,sCAAjB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,OACEC,kBADF,CAEEC,aAFF,CAGEC,mBAHF,CAIEC,kBAJF,KAKO,6BALP,CAMA,OACEC,WADF,CAEEC,eAFF,CAGEC,QAHF,KAIO,4BAJP,CAKA,OACEC,gBADF,CAEEC,gBAFF,CAGEC,KAHF,KAIO,sBAJP,CAMA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrB,GAAMC,CAAAA,OAAO,CAAGxB,UAAU,EAA1B,CACA,GAAMyB,CAAAA,QAAQ,CAAGxB,WAAW,EAA5B,CACA,GAAMyB,CAAAA,SAAS,CAAGpB,YAAY,EAA9B,CACA,GAAMqB,CAAAA,IAAI,CAAGpB,OAAO,EAApB,CAJqB,mBAKJL,aAAa,EALT,CAKb0B,IALa,gBAKbA,IALa,CAOrB,GAAMC,CAAAA,WAAW,CAAGhC,WAAW,CAC7B,SAACiC,WAAD,CAAclB,MAAd,CAAsBmB,EAAtB,QAA6BvB,CAAAA,YAAY,CAACmB,IAAD,CAAZ,CAAmBG,WAAnB,CAAgClB,MAAhC,CAAwCmB,EAAxC,CAA7B,EAD6B,CAE7B,CAACJ,IAAD,CAF6B,CAA/B,CAPqB,cAYiB7B,QAAQ,CAAC,KAAD,CAZzB,wCAYdkC,WAZc,eAYDC,cAZC,eAarB;AAbqB,eAcWnC,QAAQ,CAAC,CACvCoC,QAAQ,CAAE,KAD6B,CAEvCC,MAAM,CAAE,KAF+B,CAGvCC,iBAAiB,CAAE,KAHoB,CAIvCC,kBAAkB,CAAE,KAJmB,CAKvCC,gBAAgB,CAAE,KALqB,CAMvCC,QAAQ,CAAE,KAN6B,CAAD,CAdnB,yCAcdC,SAdc,eAcHC,UAdG,8BAsBW3C,QAAQ,CAAC,EAAD,CAtBnB,yCAsBd4C,QAtBc,eAsBJC,WAtBI,8BAuBO7C,QAAQ,CAAC,EAAD,CAvBf,yCAuBd8C,MAvBc,eAuBNC,SAvBM,8BAwBK/C,QAAQ,CAAC,EAAD,CAxBb,0CAwBdgD,KAxBc,gBAwBPC,QAxBO,gCAyBejD,QAAQ,CAAC,CAAD,CAzBvB,2CAyBdkD,UAzBc,gBAyBFC,aAzBE,gCA0BmBnD,QAAQ,CAAC,EAAD,CA1B3B,2CA0BdoD,YA1Bc,gBA0BAC,eA1BA,gCA2BarD,QAAQ,CAAC,EAAD,CA3BrB,2CA2BdsD,SA3Bc,gBA2BHC,YA3BG,gCA4BavD,QAAQ,CAAC,EAAD,CA5BrB,2CA4BdwD,SA5Bc,gBA4BHC,YA5BG,gCA6BWzD,QAAQ,CAAC,EAAD,CA7BnB,2CA6Bd0D,QA7Bc,gBA6BJC,WA7BI,gCA8BK3D,QAAQ,CAAC,EAAD,CA9Bb,2CA8Bd4D,KA9Bc,gBA8BPC,QA9BO,gCA+BiB7D,QAAQ,CAAC,EAAD,CA/BzB,2CA+Bd8D,WA/Bc,gBA+BDC,cA/BC,gCAgCW/D,QAAQ,CAAC,GAAD,CAhCnB,2CAgCdgE,QAhCc,gBAgCJC,WAhCI,gCAiCWjE,QAAQ,CAAC,KAAD,CAjCnB,2CAiCdkE,QAjCc,gBAiCJC,WAjCI,gCAkCyBnE,QAAQ,CAAC,EAAD,CAlCjC,2CAkCdoE,eAlCc,gBAkCGC,kBAlCH,gCAmCSrE,QAAQ,CAAC,EAAD,CAnCjB,2CAmCdsE,OAnCc,gBAmCLC,UAnCK,gCAoCGvE,QAAQ,CAAC,EAAD,CApCX,2CAoCdwE,IApCc,gBAoCRC,OApCQ,gCAqCWzE,QAAQ,CAAC,EAAD,CArCnB,2CAqCd0E,QArCc,gBAqCJC,WArCI,gCAsCiB3E,QAAQ,CAAC,EAAD,CAtCzB,2CAsCd4E,WAtCc,gBAsCDC,cAtCC,gBAwCrB,GAAMC,CAAAA,KAAK,CAAGvE,cAAc,EAA5B,CAEAN,SAAS,CAAC,UAAM,CACdU,aAAa,CAACmE,KAAD,CAAQpD,OAAR,CAAiBrB,UAAjB,CAA6BwB,IAA7B,CAAmCf,MAAnC,CAAb,CACD,CAFQ,CAEN,CAACe,IAAD,CAAOH,OAAP,CAAgBoD,KAAhB,CAFM,CAAT,CAIA,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,IAAD,CAAOC,KAAP,QAC1BtC,CAAAA,UAAU,CAAC,SAACuC,IAAD,wCACNA,IADM,wBAERF,IAFQ,CAEDC,KAFC,IAAD,CADgB,EAA5B,CAMAhF,SAAS,CAAC,UAAM,CACdsD,YAAY,CAAC,EAAD,CAAZ,CACA,GAAM4B,CAAAA,WAAW,0FAAG,+MAEhBJ,mBAAmB,CAAC,UAAD,CAAa,IAAb,CAAnB,CAFgB,sBAGO3D,CAAAA,eAAe,EAHtB,QAGVgE,QAHU,oBAKZA,QALY,SAKZA,QALY,iCAKZA,QAAQ,CAAEC,IALE,yCAKZ,eAAgBC,KALJ,iDAMSrE,CAAAA,mBAAmB,CAAC,CAAD,CAAIO,KAAJ,CAN5B,QAMR+D,QANQ,sCAOOpE,CAAAA,WAAW,EAPlB,SAORqE,MAPQ,sCAQMxE,CAAAA,aAAa,EARnB,SAQRgC,MARQ,sCASS3B,CAAAA,QAAQ,EATjB,SASRoE,QATQ,oBAWVF,QAAQ,EAAIC,MAXF,gCAYRD,QAAQ,CAACF,IAAT,CAAcK,MAAd,EAAwBF,MAAM,CAACE,MAAP,GAAkB,SAZlC,2BAaVvC,aAAa,CAACoC,QAAQ,CAACF,IAAT,CAAcnC,UAAd,CAA2B,CAA5B,CAAb,CACAL,WAAW,CAAC0C,QAAQ,CAACF,IAAT,CAAcA,IAAf,CAAX,CACAtC,SAAS,CAACyC,MAAM,CAACH,IAAR,CAAT,CACApC,QAAQ,CAACD,MAAK,CAACwC,MAAP,CAAR,CACAnC,eAAe,CAACoC,QAAQ,CAACJ,IAAV,CAAf,CACAN,mBAAmB,CAAC,UAAD,CAAa,KAAb,CAAnB,CAlBU,yCAuBhBA,mBAAmB,CAAC,UAAD,CAAa,KAAb,CAAnB,CACAjE,MAAM,CAAC,sBAAD,CAAyB,OAAzB,CAAN,CAxBgB,2FA2BhB6E,OAAO,CAACC,GAAR,cACAb,mBAAmB,CAAC,UAAD,CAAa,KAAb,CAAnB,CA5BgB,sGAAH,kBAAXI,CAAAA,WAAW,0CAAjB,CAiCAA,WAAW,GACZ,CApCQ,CAoCN,EApCM,CAAT,CAsCA,GAAMU,CAAAA,iBAAiB,2FAAG,kBAAOC,CAAP,sHACxBA,CAAC,CAACC,cAAF,GACA,GAAID,CAAC,CAACE,MAAF,CAAShB,IAAT,GAAkB,MAAtB,CAA8B,CAC5BzB,YAAY,CAACuC,CAAC,CAACE,MAAF,CAASf,KAAV,CAAZ,CACD,CACD,GAAIa,CAAC,CAACE,MAAF,CAASf,KAAT,GAAmB,cAAvB,CAAuC,CACrCZ,kBAAkB,CAAC,EAAD,CAAlB,CACD,CAEDF,WAAW,CAAC2B,CAAC,CAACE,MAAF,CAASf,KAAV,CAAX,CATwB,wDAAH,kBAAjBY,CAAAA,iBAAiB,6CAAvB,CAYA,GAAMI,CAAAA,YAAY,2FAAG,kBAAOH,CAAP,iKACnBA,CAAC,CAACC,cAAF,GACAhB,mBAAmB,CAAC,QAAD,CAAW,IAAX,CAAnB,CAFmB,iBAKjB/B,KAAK,EACHA,KAAK,CAACkD,OAAN,CAAc,SAACC,MAAD,CAAY,CACxB,GAAIjC,QAAQ,GAAKiC,MAAM,CAACnB,IAAxB,CAA8B,CAC5BoB,SAAS,CAAGD,MAAM,CAACE,EAAnB,CACD,CACF,CAJD,CADF,CALiB,uBAYS/E,CAAAA,gBAAgB,CAAC,EAAD,CAZzB,QAYXgF,WAZW,gBAajB3B,WAAW,CAAC2B,WAAD,CAAX,CAEMC,OAfW,CAeD,CACd3C,KAAK,CAALA,KADc,CAEdc,QAAQ,CAAE4B,WAFI,CAGd9C,SAAS,CAATA,SAHc,CAIdE,QAAQ,CAARA,QAJc,CAKdI,WAAW,CAAXA,WALc,CAMdE,QAAQ,CAARA,QANc,CAOdE,QAAQ,CAARA,QAPc,CAQdsC,MAAM,CAAEC,QAAQ,CAACL,SAAD,CARF,CASdhC,eAAe,CAAfA,eATc,CAUdE,OAAO,CAAPA,OAVc,CAWdE,IAAI,CAAJA,IAXc,CAfC,CA6BjBmB,OAAO,CAACC,GAAR,CAAYW,OAAZ,EA7BiB,wBA+BMxF,CAAAA,kBAAkB,CAACwF,OAAD,CA/BxB,SA+BXhB,QA/BW,gBAiCjBI,OAAO,CAACC,GAAR,CAAYL,QAAZ,CAAsBe,WAAtB,EAjCiB,IAmCbf,QAAQ,CAACmB,KAnCI,2BAoCf5F,MAAM,CAACyE,QAAQ,CAACoB,OAAV,CAAmB,OAAnB,CAAN,CACA5B,mBAAmB,CAAC,QAAD,CAAW,KAAX,CAAnB,CArCe,0CAwCjBY,OAAO,CAACC,GAAR,CAAYE,CAAZ,CAAeS,OAAf,EACAzF,MAAM,CAACyE,QAAQ,CAACoB,OAAV,CAAmB,SAAnB,CAAN,CACA5B,mBAAmB,CAAC,QAAD,CAAW,KAAX,CAAnB,CACA6B,UAAU,CAAC,UAAM,CACfC,MAAM,CAAClF,QAAP,CAAgBmF,MAAhB,GACD,CAFS,CAEP,IAFO,CAAV,CA3CiB,+FAgDjBhG,MAAM,CAAC,sBAAD,CAAyB,SAAzB,CAAN,CACAiE,mBAAmB,CAAC,QAAD,CAAW,KAAX,CAAnB,CAjDiB,yGAAH,kBAAZkB,CAAAA,YAAY,8CAAlB,CAsDA,GAAMc,CAAAA,YAAY,2FAAG,kBAAOjB,CAAP,oJAEjBA,CAAC,CAACC,cAAF,GACAhB,mBAAmB,CAAC,UAAD,CAAa,IAAb,CAAnB,CAHiB,uBAKM7D,CAAAA,kBAAkB,CAAC0D,WAAD,CALxB,QAKXW,QALW,gBAOjBI,OAAO,CAACC,GAAR,CAAYL,QAAQ,CAACF,IAAT,CAAcA,IAA1B,CAAgCT,WAAhC,EAPiB,IASbW,QAAQ,CAACmB,KATI,2BAUf5F,MAAM,CAACyE,QAAQ,CAACoB,OAAV,CAAmB,OAAnB,CAAN,CACA5B,mBAAmB,CAAC,QAAD,CAAW,KAAX,CAAnB,CAXe,8CAebQ,QAAQ,CAACF,IAAT,CAAcK,MAfD,2BAgBf7C,WAAW,CAAC,CAAC0C,QAAQ,CAACF,IAAT,CAAcA,IAAf,CAAD,CAAX,CACAN,mBAAmB,CAAC,UAAD,CAAa,KAAb,CAAnB,CAjBe,+HAqBjBjE,MAAM,CAAC,uBAAD,CAA0B,SAA1B,CAAN,CACAiE,mBAAmB,CAAC,UAAD,CAAa,KAAb,CAAnB,CAtBiB,yGAAH,kBAAZgC,CAAAA,YAAY,8CAAlB,CA2BA,mBACE,wCACE,uCACE,oCACE,wCADF,cAUE,oCAEE,UACE,SAAS,CAAE7E,WAAW,GAAK,KAAhB,CAAwB,QAAxB,CAAmC,EADhD,CAEE,OAAO,CAAE,iBAAC4D,CAAD,QAAO3D,CAAAA,cAAc,CAAC,KAAD,CAArB,EAFX,4BAFF,cASI,UACE,SAAS,CAAED,WAAW,GAAK,cAAhB,CAAiC,QAAjC,CAA4C,EADzD,CAEE,OAAO,CAAE,iBAAC4D,CAAD,CAAO,CACd3D,cAAc,CAAC,cAAD,CAAd,CACD,CAJH,0BATJ,GAVF,GADF,cAwCE,oCACE,aAAK,SAAS,CAAC,qBAAf,wBACE,YAAK,GAAG,CAAEvB,IAAV,CAAgB,GAAG,CAAC,EAApB,EADF,CAEGgB,SAAS,aAFZ,cAGE,UAAG,SAAS,CAAC,YAAb,EAHF,GADF,cAME,YAAK,SAAS,CAAC,gBAAf,UACGM,WAAW,GAAK,KAAhB,eACC,cAAM,QAAQ,CAAE6E,YAAhB,CAA8B,SAAS,CAAC,YAAxC,wBACE,cAAO,OAAO,CAAC,QAAf,uBACE,KAAC,UAAD,IADF,EADF,cAIE,cACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,cAFZ,CAGE,IAAI,CAAC,QAHP,CAIE,EAAE,CAAC,QAJL,CAKE,aAAW,iBALb,CAME,WAAW,CAAC,iBANd,CAOE,KAAK,CAAEnC,WAPT,CAQE,QAAQ,CAAE,kBAACkB,CAAD,QAAOjB,CAAAA,cAAc,CAACiB,CAAC,CAACE,MAAF,CAASf,KAAV,CAArB,EARZ,EAJF,GAFJ,EANF,GAxCF,GADF,CAoEGvC,SAAS,CAACD,QAAV,GAAuB,IAAvB,cACC,YAAK,SAAS,CAAC,iBAAf,uBACE,YAAK,SAAS,CAAC,YAAf,uBACE,KAAC,WAAD,EAAa,SAAS,CAAC,UAAvB,EADF,EADF,EADD,cAOC,cAAM,SAAS,CAAC,qBAAhB,WACGP,WAAW,GAAK,KAAhB,eACC,wCACE,KAAC,SAAD,EAAW,MAAM,CAAEY,MAAnB,CAA2B,IAAI,CAAEhB,IAAjC,CAAuC,QAAQ,CAAEc,QAAjD,EADF,CAEGA,QAAQ,CAACoE,MAAT,CAAkB,CAAlB,eACC,YAAK,SAAS,CAAC,iBAAf,uBACE,KAAC,aAAD,EACE,SAAS,CAAE9D,UADb,CAEE,oBAAoB,CAAE,CAFxB,CAGE,kBAAkB,CAAE,CACpB;AAJF,CAKE,YAAY,CAAE,sBAACmC,IAAD,QACZ9D,CAAAA,gBAAgB,CAAC8D,IAAD,CAAOxC,WAAP,CAAoB5B,mBAApB,CADJ,EALhB,CAQE,kBAAkB,CAAC,iBARrB,CASE,mBAAmB,CAAC,QATtB,CAUE,iBAAiB,CAAC,KAVpB,CAWE,aAAa,cAAE,KAAC,wBAAD,IAXjB,CAYE,qBAAqB,CAAC,UAZxB,CAaE,SAAS,cACP,KAAC,wBAAD,EACE,KAAK,CAAE,CAAEgG,SAAS,CAAE,iBAAb,CADT,EAdJ,CAkBE,iBAAiB,CAAC,UAlBpB,CAmBE,iBAAiB,CAAC,UAnBpB,EADF,EAHJ,GAFJ,CAgCG/E,WAAW,GAAK,cAAhB,eACC,sCACE,cACE,QAAQ,CAAE+D,YADZ,CAEE,SAAS,CAAC,gDAFZ,wBAIE,aAAK,SAAS,CAAC,kBAAf,wBACE,YAAK,SAAS,CAAC,gBAAf,mBADF,cAEE,YAAK,SAAS,CAAC,KAAf,uBACE,aAAK,SAAS,CAAC,aAAf,oCACW,aAAM,SAAS,CAAC,cAAhB,oBADX,GADF,EAFF,cAOE,YAAK,SAAS,CAAC,KAAf,uBACE,aAAK,SAAS,CAAC,aAAf,sCACa,aAAM,SAAS,CAAC,cAAhB,oBADb,GADF,EAPF,cAYE,YAAK,SAAS,CAAC,KAAf,uBACE,aAAK,SAAS,CAAC,aAAf,qCACY,aAAM,SAAS,CAAC,cAAhB,oBADZ,GADF,EAZF,cAiBE,YAAK,SAAS,CAAC,KAAf,uBACE,aAAK,SAAS,CAAC,aAAf,iCACQ,aAAM,SAAS,CAAC,cAAhB,oBADR,GADF,EAjBF,cAuBE,YAAK,SAAS,CAAC,KAAf,uBACE,aAAK,SAAS,CAAC,aAAf,gCACO,aAAM,SAAS,CAAC,cAAhB,oBADP,GADF,EAvBF,cA4BE,YAAK,SAAS,CAAC,KAAf,uBACE,YAAK,SAAS,CAAC,aAAf,2BADF,EA5BF,cA+BE,YAAK,SAAS,CAAC,KAAf,uBACE,YAAK,SAAS,CAAC,aAAf,qBADF,EA/BF,cAkCE,YAAK,SAAS,CAAC,KAAf,uBACE,YAAK,SAAS,CAAC,aAAf,yBADF,EAlCF,CAqCG3C,SAAS,GAAK,cAAd,eACC,YAAK,SAAS,CAAC,KAAf,uBACE,YAAK,SAAS,CAAC,aAAf,6BADF,EAtCJ,GAJF,cA+CE,aAAK,SAAS,CAAC,sBAAf,wBACE,YAAK,SAAS,CAAC,gBAAf,qBADF,cAEE,YAAK,SAAS,CAAC,WAAf,uBACE,cACE,IAAI,CAAC,QADP,CAEE,IAAI,CAAC,SAFP,CAGE,EAAE,CAAC,SAHL,CAIE,SAAS,CAAC,cAJZ,CAKE,QAAQ,KALV,CAME,QAAQ,CAAE,kBAACwC,CAAD,CAAO,CACfvB,UAAU,CAACuB,CAAC,CAACE,MAAF,CAASf,KAAV,CAAV,CACD,CARH,CASE,KAAK,CAAEX,OATT,EADF,EAFF,cAeE,YAAK,SAAS,CAAC,WAAf,uBACE,cACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,WAFP,CAGE,EAAE,CAAC,WAHL,CAIE,SAAS,CAAC,cAJZ,CAKE,QAAQ,KALV,CAME,QAAQ,CAAE,kBAACwB,CAAD,QAAOrC,CAAAA,YAAY,CAACqC,CAAC,CAACE,MAAF,CAASf,KAAV,CAAnB,EANZ,CAOE,KAAK,CAAEzB,SAPT,EADF,EAfF,cA0BE,YAAK,SAAS,CAAC,WAAf,uBACE,cACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,UAFP,CAGE,EAAE,CAAC,UAHL,CAIE,SAAS,CAAC,cAJZ,CAKE,QAAQ,KALV,CAME,QAAQ,CAAE,kBAACsC,CAAD,QAAOnC,CAAAA,WAAW,CAACmC,CAAC,CAACE,MAAF,CAASf,KAAV,CAAlB,EANZ,CAOE,KAAK,CAAEvB,QAPT,EADF,EA1BF,cAqCE,YAAK,SAAS,CAAC,WAAf,uBACE,cACE,IAAI,CAAC,OADP,CAEE,IAAI,CAAC,OAFP,CAGE,EAAE,CAAC,OAHL,CAIE,SAAS,CAAC,cAJZ,CAKE,QAAQ,KALV,CAME,QAAQ,CAAE,kBAACoC,CAAD,CAAO,CACfjC,QAAQ,CAACiC,CAAC,CAACE,MAAF,CAASf,KAAV,CAAR,CACD,CARH,CASE,KAAK,CAAErB,KATT,EADF,EArCF,cAmDE,YAAK,SAAS,CAAC,WAAf,uBACE,cACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,MAFP,CAGE,EAAE,CAAC,MAHL,CAIE,SAAS,CAAC,cAJZ,CAKE,QAAQ,KALV,CAME,QAAQ,CAAE,kBAACkC,CAAD,CAAO,CACfrB,OAAO,CAACqB,CAAC,CAACE,MAAF,CAASf,KAAV,CAAP,CACD,CARH,CASE,KAAK,CAAET,IATT,EADF,EAnDF,cAgEE,YAAK,SAAS,CAAC,WAAf,uBACE,cACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,OAFP,CAGE,EAAE,CAAC,OAHL,CAIE,SAAS,CAAC,cAJZ,CAKE,QAAQ,CAAE,kBAACsB,CAAD,QAAO/B,CAAAA,cAAc,CAAC+B,CAAC,CAACE,MAAF,CAASf,KAAV,CAArB,EALZ,CAME,KAAK,CAAEnB,WANT,EADF,EAhEF,cA0EE,YAAK,SAAS,CAAC,WAAf,uBACE,eACE,IAAI,CAAC,QADP,CAEE,KAAK,CAAC,qBAFR,CAGE,KAAK,CAAE,CACLoD,MAAM,CAAE,gBADH,CAELC,OAAO,CAAE,MAFJ,CAGLC,YAAY,CAAE,MAHT,CAILC,QAAQ,CAAE,MAJL,CAKLC,OAAO,CAAE,WALJ,CAMLC,KAAK,CAAE,MANF,CAOLC,UAAU,CAAE,KAPP,CAHT,CAYE,KAAK,CAAExD,QAZT,CAaE,QAAQ,CAAE,kBAAC8B,CAAD,CAAO,CACf7B,WAAW,CAAC6B,CAAC,CAACE,MAAF,CAASf,KAAV,CAAX,CACD,CAfH,UAiBGnC,MAAM,EACLA,MAAM,CAAC2E,GAAP,CAAW,SAACtB,MAAD,CAASuB,GAAT,qBACT,sCACE,eAAgC,KAAK,CAAEvB,MAAM,CAACE,EAA9C,UACGF,MAAM,CAACnB,IADV,EAAa0C,GAAG,CAAGvB,MAAM,CAACwB,IAA1B,CADF,EADS,EAAX,CAlBJ,EADF,EA1EF,cAsGE,YAAK,SAAS,CAAC,WAAf,uBACE,eACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAC,qBAFR,CAGE,KAAK,CAAE,CACLT,MAAM,CAAE,gBADH,CAELC,OAAO,CAAE,MAFJ,CAGLC,YAAY,CAAE,MAHT,CAILC,QAAQ,CAAE,MAJL,CAKLC,OAAO,CAAE,WALJ,CAMLC,KAAK,CAAE,MANF,CAOLC,UAAU,CAAE,KAPP,CAHT,CAYE,KAAK,CAAEtD,QAZT,CAaE,QAAQ,CAAE,kBAAC4B,CAAD,CAAO,CACfD,iBAAiB,CAACC,CAAD,CAAjB,CACD,CAfH,UAiBG9C,KAAK,EACJA,KAAK,CAACyE,GAAN,CAAU,SAACtB,MAAD,CAASuB,GAAT,CAAiB,CACzB,mBACE,sCACE,eAEE,KAAK,CAAEvB,MAAM,CAACnB,IAFhB,UAIGmB,MAAM,CAACnB,IAAP,GAAgB,iBAAhB,EACCmB,MAAM,CAACnB,IALX,EACO0C,GAAG,CAAGvB,MAAM,CAACwB,IADpB,CADF,EADF,CAWD,CAZD,CAlBJ,EADF,EAtGF,CAwIGrE,SAAS,GAAK,cAAd,eACC,YAAK,SAAS,CAAC,WAAf,uBACE,eACE,IAAI,CAAC,eADP,CAEE,KAAK,CAAC,qBAFR,CAGE,KAAK,CAAE,CACL4D,MAAM,CAAE,gBADH,CAELC,OAAO,CAAE,MAFJ,CAGLC,YAAY,CAAE,MAHT,CAILC,QAAQ,CAAE,MAJL,CAKLC,OAAO,CAAE,WALJ,CAMLC,KAAK,CAAE,MANF,CAOLC,UAAU,CAAE,KAPP,CAHT,CAYE,KAAK,CAAEpD,eAZT,CAaE,QAAQ,CAAE,kBAAC0B,CAAD,CAAO,CACfzB,kBAAkB,CAACyB,CAAC,CAACE,MAAF,CAASf,KAAV,CAAlB,CACD,CAfH,UAiBG7B,YAAY,EACXA,YAAY,CAACqE,GAAb,CAAiB,SAACtB,MAAD,CAASuB,GAAT,qBACf,sCACE,eAEE,KAAK,CAAEvB,MAAM,CAACwB,IAFhB,UAIGxB,MAAM,CAACnB,IAAP,GAAgB,YAAhB,EAAgCmB,MAAM,CAACnB,IAJ1C,EACO0C,GAAG,CAAGvB,MAAM,CAACwB,IADpB,CADF,EADe,EAAjB,CAlBJ,EADF,EAzIJ,cAyKE,gBACE,SAAS,CAAC,0BADZ,CAEE,QAAQ,CACNnE,SAAS,GAAK,EAAd,EACAE,QAAQ,GAAK,EADb,EAEAE,KAAK,GAAK,EAFV,EAGAU,OAAO,GAAK,EAHZ,EAIAE,IAAI,GAAK,EAJT,CAKI,KALJ,CAMI,IATR,iCAaE,aAAM,SAAS,CAAC,MAAhB,UACG9B,SAAS,CAACL,MAAV,cACC,KAAC,WAAD,EAAa,SAAS,CAAC,wBAAvB,EADD,cAGC,KAAC,gBAAD,IAJJ,EAbF,GAzKF,GA/CF,GADF,EAjCJ,GA3EJ,GADF,CAmWD,CA1hBD,CA4hBA,cAAeZ,CAAAA,QAAf","sourcesContent":["import React, { useCallback, useState, useEffect } from \"react\";\nimport { useHistory, useLocation, useRouteMatch } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\nimport ReactPaginate from \"react-paginate\";\nimport { ReactComponent as ArrowRightCircle } from \"../../assets/icons/arrow-right-circle.svg\";\nimport { ReactComponent as ArrowLeftShortCircleFill } from \"../../assets/icons/arrow-left-short-circle-fill.svg\";\nimport { ReactComponent as SearchIcon } from \"../../assets/icons/search.svg\";\nimport { ReactComponent as SpinnerIcon } from \"../../assets/icons/spinner.svg\";\nimport { getAccessToken, getAdminName } from \"../../utils/localStorageService\";\nimport { useAuth } from \"../../components/utilities\";\nimport errorHandler, { validateToken } from \"../../utils/errorHandler\";\nimport face from \"../../assets/img/placeholder-img.png\";\nimport AdminCard from \"../loanManagement/adminCard\";\nimport notify from \"../../utils/notification\";\nimport {\n  createAdminProfile,\n  getAdminRoles,\n  getAllAdminProfiles,\n  searchAdminProfile,\n} from \"../../services/adminService\";\nimport {\n  getBranches,\n  getPendingLoans,\n  getRoles,\n} from \"../../services/loanService\";\nimport {\n  generatePassword,\n  handlePagination,\n  limit,\n} from \"../../utils/constant\";\n\nconst AllAdmin = () => {\n  const history = useHistory();\n  const location = useLocation();\n  const adminName = getAdminName();\n  const auth = useAuth();\n  const { path } = useRouteMatch();\n\n  const handleError = useCallback(\n    (errorObject, notify, cb) => errorHandler(auth)(errorObject, notify, cb),\n    [auth]\n  );\n\n  const [showSection, setShowSection] = useState(\"all\");\n  // const [showAuditHistory, setShowAuditHistory] = useState(\"all\");\n  const [isLoading, setLoading] = useState({\n    userFull: false,\n    submit: false,\n    rejectApplication: false,\n    approveApplication: false,\n    printApplication: false,\n    loadPage: false,\n  });\n  const [comments, setComments] = useState([]);\n  const [branch, setBranch] = useState([]);\n  const [roles, setRoles] = useState([]);\n  const [totalPages, setTotalPages] = useState(0);\n  const [loanWorkFlow, setLoanWorkFlow] = useState([]);\n  const [adminRole, setAdminRole] = useState(\"\");\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\n  const [branchId, setBranchId] = useState(\"8\");\n  const [roleName, setRoleName] = useState(\"CSO\");\n  const [loanOfficerCode, setLoanOfficerCode] = useState(\"\");\n  const [staffId, setStaffId] = useState(\"\");\n  const [rank, setRank] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [searchEmail, setSearchEmail] = useState(\"\");\n\n  const token = getAccessToken();\n\n  useEffect(() => {\n    validateToken(token, history, jwt_decode, auth, notify);\n  }, [auth, history, token]);\n\n  const handleChangeLoading = (name, value) =>\n    setLoading((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n\n  useEffect(() => {\n    setAdminRole(\"\");\n    const getAllAdmin = async () => {\n      try {\n        handleChangeLoading(\"loadPage\", true);\n        const callLoan = await getPendingLoans();\n\n        if (callLoan?.data?.loans) {\n          const response = await getAllAdminProfiles(1, limit);\n          const result = await getBranches();\n          const roles = await getAdminRoles();\n          const workFlow = await getRoles();\n\n          if (response && result) {\n            if (response.data.status && result.status === \"success\") {\n              setTotalPages(response.data.totalPages - 1);\n              setComments(response.data.data);\n              setBranch(result.data);\n              setRoles(roles.result);\n              setLoanWorkFlow(workFlow.data);\n              handleChangeLoading(\"loadPage\", false);\n              return;\n            }\n          }\n        }\n        handleChangeLoading(\"loadPage\", false);\n        notify(\"Something went wrong\", \"error\");\n        return;\n      } catch (error) {\n        console.log(error);\n        handleChangeLoading(\"loadPage\", false);\n        return;\n      }\n    };\n\n    getAllAdmin();\n  }, []);\n\n  const handleEventSelect = async (e) => {\n    e.preventDefault();\n    if (e.target.name === \"role\") {\n      setAdminRole(e.target.value);\n    }\n    if (e.target.value !== \"LOAN OFFICER\") {\n      setLoanOfficerCode(\"\");\n    }\n\n    setRoleName(e.target.value);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    handleChangeLoading(\"submit\", true);\n    let getRoleId;\n    try {\n      roles &&\n        roles.forEach((option) => {\n          if (roleName === option.name) {\n            getRoleId = option.id;\n          }\n        });\n\n      const getpassword = await generatePassword(15);\n      setPassword(getpassword);\n\n      const payload = {\n        email,\n        password: getpassword,\n        firstName,\n        lastName,\n        phoneNumber,\n        branchId,\n        roleName,\n        roleId: parseInt(getRoleId),\n        loanOfficerCode,\n        staffId,\n        rank,\n      };\n\n      console.log(payload);\n\n      const response = await createAdminProfile(payload);\n\n      console.log(response, getpassword);\n\n      if (response.error) {\n        notify(response.message, \"error\");\n        handleChangeLoading(\"submit\", false);\n        return;\n      }\n      console.log(e, payload);\n      notify(response.message, \"success\");\n      handleChangeLoading(\"submit\", false);\n      setTimeout(() => {\n        window.location.reload();\n      }, 2500);\n      return;\n    } catch (error) {\n      notify(\"Something went wrong\", \"success\");\n      handleChangeLoading(\"submit\", false);\n      return;\n    }\n  };\n\n  const handleSearch = async (e) => {\n    try {\n      e.preventDefault();\n      handleChangeLoading(\"loadPage\", true);\n\n      const response = await searchAdminProfile(searchEmail);\n\n      console.log(response.data.data, searchEmail);\n\n      if (response.error) {\n        notify(response.message, \"error\");\n        handleChangeLoading(\"submit\", false);\n        return;\n      }\n\n      if (response.data.status) {\n        setComments([response.data.data]);\n        handleChangeLoading(\"loadPage\", false);\n        return;\n      }\n    } catch (error) {\n      notify(\"Invalid email address\", \"success\");\n      handleChangeLoading(\"loadPage\", false);\n      return;\n    }\n  };\n\n  return (\n    <>\n      <header>\n        <div>\n          <h1>\n            {/* <button\n              onClick={(e) => history.goBack()}\n              className=\"btn btn-primary back-btn\"\n            >\n              <ArrowRightShort />\n            </button> */}\n            Admin Management\n          </h1>\n          <nav>\n            {/* eslint-disable jsx-a11y/anchor-is-valid */}\n            <a\n              className={showSection === \"all\" ? \"active\" : \"\"}\n              onClick={(e) => setShowSection(\"all\")}\n            >\n              Admin Overview\n            </a>\n            {\n              <a\n                className={showSection === \"create-admin\" ? \"active\" : \"\"}\n                onClick={(e) => {\n                  setShowSection(\"create-admin\");\n                }}\n              >\n                Create Admin\n              </a>\n            }\n            {/* <a\n              className={showSection === \"documents\" ? \"active\" : \"\"}\n              onClick={(e) => {\n                setShowSection(\"documents\");\n              }}\n            >\n              Documents\n            </a> */}\n            {/* eslint-enable */}\n          </nav>\n        </div>\n        <div>\n          <div className=\"small-admin-details\">\n            <img src={face} alt=\"\" />\n            {adminName || `NPF Admin`}\n            <i className=\"arrow down\"></i>\n          </div>\n          <div className=\"some-container\">\n            {showSection === \"all\" && (\n              <form onSubmit={handleSearch} className=\"search-div\">\n                <label htmlFor=\"search\">\n                  <SearchIcon />\n                </label>\n                <input\n                  type=\"search\"\n                  className=\"form-control\"\n                  name=\"search\"\n                  id=\"search\"\n                  aria-label=\"Search by email\"\n                  placeholder=\"Search by email\"\n                  value={searchEmail}\n                  onChange={(e) => setSearchEmail(e.target.value)}\n                />\n              </form>\n            )}\n          </div>\n        </div>\n      </header>\n      {isLoading.loadPage === true ? (\n        <div className=\"searching-block\">\n          <div className=\"svg-holder\">\n            <SpinnerIcon className=\"rotating\" />\n          </div>\n        </div>\n      ) : (\n        <main className=\"loan-inprocess-page\">\n          {showSection === \"all\" && (\n            <>\n              <AdminCard branch={branch} path={path} comments={comments} />\n              {comments.length > 0 && (\n                <div className=\"paginate-footer\">\n                  <ReactPaginate\n                    pageCount={totalPages}\n                    marginPagesDisplayed={2}\n                    pageRangeDisplayed={3}\n                    //   forcePage={currentPage - 5}\n                    onPageChange={(data) =>\n                      handlePagination(data, setComments, getAllAdminProfiles)\n                    }\n                    containerClassName=\"pagination-btns\"\n                    activeLinkClassName=\"active\"\n                    pageLinkClassName=\"btn\"\n                    previousLabel={<ArrowLeftShortCircleFill />}\n                    previousLinkClassName=\"btn icon\"\n                    nextLabel={\n                      <ArrowLeftShortCircleFill\n                        style={{ transform: \"rotateY(180deg)\" }}\n                      />\n                    }\n                    nextLinkClassName=\"btn icon\"\n                    disabledClassName=\"disabled\"\n                  />\n                </div>\n              )}\n            </>\n          )}\n\n          {showSection === \"create-admin\" && (\n            <>\n              <form\n                onSubmit={handleSubmit}\n                className=\"customer-details row animated fadeIn delay-05s\"\n              >\n                <div className=\"loan-details col\">\n                  <div className=\"details-header\">Admin</div>\n                  <div className=\"row\">\n                    <div className=\"col-12 mb-3\">\n                      Staff ID:<span className=\"not-verified\">&nbsp; *</span>\n                    </div>\n                  </div>\n                  <div className=\"row\">\n                    <div className=\"col-12 mb-3\">\n                      First Name:<span className=\"not-verified\">&nbsp; *</span>\n                    </div>\n                  </div>\n                  <div className=\"row\">\n                    <div className=\"col-12 mb-3\">\n                      Last Name:<span className=\"not-verified\">&nbsp; *</span>\n                    </div>\n                  </div>\n                  <div className=\"row\">\n                    <div className=\"col-12 mb-3\">\n                      Email:<span className=\"not-verified\">&nbsp; *</span>\n                    </div>\n                  </div>\n\n                  <div className=\"row\">\n                    <div className=\"col-12 mb-3\">\n                      Rank:<span className=\"not-verified\">&nbsp; *</span>\n                    </div>\n                  </div>\n                  <div className=\"row\">\n                    <div className=\"col-12 mb-3\">Phone Number:</div>\n                  </div>\n                  <div className=\"row\">\n                    <div className=\"col-12 mb-3\">Branch:</div>\n                  </div>\n                  <div className=\"row\">\n                    <div className=\"col-12 mb-3\">Admin Role:</div>\n                  </div>\n                  {adminRole === \"LOAN OFFICER\" && (\n                    <div className=\"row\">\n                      <div className=\"col-12 mb-3\">Workflow Level:</div>\n                    </div>\n                  )}\n                </div>\n                <div className=\"personal-details col\">\n                  <div className=\"details-header\">Details</div>\n                  <div className=\"row col-9\">\n                    <input\n                      type=\"number\"\n                      name=\"staffId\"\n                      id=\"staffId\"\n                      className=\"form-control\"\n                      required\n                      onChange={(e) => {\n                        setStaffId(e.target.value);\n                      }}\n                      value={staffId}\n                    />\n                  </div>\n                  <div className=\"row col-9\">\n                    <input\n                      type=\"text\"\n                      name=\"firstname\"\n                      id=\"firstname\"\n                      className=\"form-control\"\n                      required\n                      onChange={(e) => setFirstName(e.target.value)}\n                      value={firstName}\n                    />\n                  </div>\n                  <div className=\"row col-9\">\n                    <input\n                      type=\"text\"\n                      name=\"lastname\"\n                      id=\"lastname\"\n                      className=\"form-control\"\n                      required\n                      onChange={(e) => setLastName(e.target.value)}\n                      value={lastName}\n                    />\n                  </div>\n                  <div className=\"row col-9\">\n                    <input\n                      type=\"email\"\n                      name=\"email\"\n                      id=\"email\"\n                      className=\"form-control\"\n                      required\n                      onChange={(e) => {\n                        setEmail(e.target.value);\n                      }}\n                      value={email}\n                    />\n                  </div>\n\n                  <div className=\"row col-9\">\n                    <input\n                      type=\"text\"\n                      name=\"rank\"\n                      id=\"rank\"\n                      className=\"form-control\"\n                      required\n                      onChange={(e) => {\n                        setRank(e.target.value);\n                      }}\n                      value={rank}\n                    />\n                  </div>\n                  <div className=\"row col-9\">\n                    <input\n                      type=\"text\"\n                      name=\"phone\"\n                      id=\"phone\"\n                      className=\"form-control\"\n                      onChange={(e) => setPhoneNumber(e.target.value)}\n                      value={phoneNumber}\n                    />\n                  </div>\n                  <div className=\"row col-9\">\n                    <select\n                      name=\"branch\"\n                      class=\"btn dropdown-toggle\"\n                      style={{\n                        border: \"1px solid #ccc\",\n                        outline: \"none\",\n                        borderRadius: \"10px\",\n                        fontSize: \"14px\",\n                        padding: \"0.8em 1em\",\n                        width: \"100%\",\n                        fontWeight: \"600\",\n                      }}\n                      value={branchId}\n                      onChange={(e) => {\n                        setBranchId(e.target.value);\n                      }}\n                    >\n                      {branch &&\n                        branch.map((option, idx) => (\n                          <>\n                            <option key={idx + option.code} value={option.id}>\n                              {option.name}\n                            </option>\n                          </>\n                        ))}\n                    </select>\n                  </div>\n                  <div className=\"row col-9\">\n                    <select\n                      name=\"role\"\n                      class=\"btn dropdown-toggle\"\n                      style={{\n                        border: \"1px solid #ccc\",\n                        outline: \"none\",\n                        borderRadius: \"10px\",\n                        fontSize: \"14px\",\n                        padding: \"0.8em 1em\",\n                        width: \"100%\",\n                        fontWeight: \"600\",\n                      }}\n                      value={roleName}\n                      onChange={(e) => {\n                        handleEventSelect(e);\n                      }}\n                    >\n                      {roles &&\n                        roles.map((option, idx) => {\n                          return (\n                            <>\n                              <option\n                                key={idx + option.code}\n                                value={option.name}\n                              >\n                                {option.name !== \"SUSPEND ACCOUNT\" &&\n                                  option.name}\n                              </option>\n                            </>\n                          );\n                        })}\n                    </select>\n                  </div>\n                  {adminRole === \"LOAN OFFICER\" && (\n                    <div className=\"row col-9\">\n                      <select\n                        name=\"workflowlevel\"\n                        class=\"btn dropdown-toggle\"\n                        style={{\n                          border: \"1px solid #ccc\",\n                          outline: \"none\",\n                          borderRadius: \"10px\",\n                          fontSize: \"14px\",\n                          padding: \"0.8em 1em\",\n                          width: \"100%\",\n                          fontWeight: \"600\",\n                        }}\n                        value={loanOfficerCode}\n                        onChange={(e) => {\n                          setLoanOfficerCode(e.target.value);\n                        }}\n                      >\n                        {loanWorkFlow &&\n                          loanWorkFlow.map((option, idx) => (\n                            <>\n                              <option\n                                key={idx + option.code}\n                                value={option.code}\n                              >\n                                {option.name !== \"devnpfuser\" && option.name}\n                              </option>\n                            </>\n                          ))}\n                      </select>\n                    </div>\n                  )}\n                  <button\n                    className=\"btn export-ifrs-btn mt-3\"\n                    disabled={\n                      firstName !== \"\" &&\n                      lastName !== \"\" &&\n                      email !== \"\" &&\n                      staffId !== \"\" &&\n                      rank !== \"\"\n                        ? false\n                        : true\n                    }\n                  >\n                    Submit\n                    <span className=\"pl-2\">\n                      {isLoading.submit ? (\n                        <SpinnerIcon className=\"limit-loading rotating\" />\n                      ) : (\n                        <ArrowRightCircle />\n                      )}\n                    </span>\n                  </button>\n                </div>\n              </form>\n            </>\n          )}\n        </main>\n      )}\n    </>\n  );\n};\n\nexport default AllAdmin;\n"]},"metadata":{},"sourceType":"module"}