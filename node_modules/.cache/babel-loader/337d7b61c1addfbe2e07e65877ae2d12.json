{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/xerde2/Downloads/npf-admin-web/src/components/auditLogs.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useState, useEffect, useRef, useCallback } from \"react\";\nimport jwt_decode from \"jwt-decode\";\nimport { Route, Switch, useHistory, useRouteMatch } from \"react-router-dom\";\nimport face from \"../assets/img/placeholder-img.png\";\nimport { getAccessToken, getAdminName } from \"../utils/localStorageService\";\nimport { handleHideModal, handleOpenModal, useAuth } from \"./utilities\";\nimport errorHandler, { validateToken } from \"../utils/errorHandler\";\nimport { ReactComponent as SearchIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../assets/icons/search.svg\";\nimport notify from \"../utils/notification\";\nimport { ReactComponent as SpinnerIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../assets/icons/spinner.svg\";\nimport { ReactComponent as ExportIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../assets/icons/export.svg\";\nimport { ReactComponent as NothingFoundIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../assets/icons/nothing-found.svg\";\nimport CustomerAuditHistory from \"../components/customerAuditHistory\";\nimport LoanAuditHistory from \"./loanAuditHistory\";\n\nconst AuditLogs = () => {\n  _s();\n\n  const {\n    path\n  } = useRouteMatch();\n  const history = useHistory();\n  const auth = useAuth();\n  const adminName = getAdminName(); // useCallback ensures that handle error function isn't recreated on every render\n\n  const handleError = useCallback((errorObject, notify, cb) => errorHandler(auth)(errorObject, notify, cb), [auth]);\n  const [showSection, setShowSection] = useState(\"all\");\n  const [isLoading, setLoading] = useState(false);\n  const [selectedCustomers, setSelectedCustomers] = useState([]);\n  const [isDataExporting, setDataExporting] = useState(false);\n  const [displayedCustomers, setDisplayedCustomers] = useState([]);\n  const isSearching = useRef(false);\n  const token = getAccessToken();\n  useEffect(() => {\n    validateToken(token, history, jwt_decode, auth, notify);\n  }, [auth, history, token]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Audit Logs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            className: showSection === \"all\" ? \"active\" : \"\",\n            onClick: e => setShowSection(\"all\"),\n            children: \"CBA Logs\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            className: showSection === \"loan\" ? \"active\" : \"\",\n            onClick: e => setShowSection(\"loan\"),\n            children: \"Loan Logs\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"small-admin-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: face,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), adminName || `NPF Admin`, /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"arrow down\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"some-container\",\n          children: showSection === \"all\" && /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"search-div\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"search\",\n              children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"search\",\n              className: \"form-control\",\n              name: \"search\",\n              id: \"search\",\n              \"aria-label\": \"Search by email\",\n              placeholder: \"Search by email\" //   value={searchEmail}\n              //   onChange={(e) => setSearchEmail(e.target.value)}\n\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), !isLoading && showSection === \"all\" && /*#__PURE__*/_jsxDEV(CustomerAuditHistory, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 47\n    }, this), !isLoading && showSection === \"loan\" && /*#__PURE__*/_jsxDEV(LoanAuditHistory, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 48\n    }, this)]\n  }, void 0, true);\n};\n\n_s(AuditLogs, \"M55tSOEkM4PJiG6/4DozKIPqTlM=\", false, function () {\n  return [useRouteMatch, useHistory, useAuth];\n});\n\n_c = AuditLogs;\nexport default AuditLogs;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuditLogs\");","map":{"version":3,"sources":["/Users/xerde2/Downloads/npf-admin-web/src/components/auditLogs.js"],"names":["React","Fragment","useState","useEffect","useRef","useCallback","jwt_decode","Route","Switch","useHistory","useRouteMatch","face","getAccessToken","getAdminName","handleHideModal","handleOpenModal","useAuth","errorHandler","validateToken","notify","CustomerAuditHistory","LoanAuditHistory","AuditLogs","path","history","auth","adminName","handleError","errorObject","cb","showSection","setShowSection","isLoading","setLoading","selectedCustomers","setSelectedCustomers","isDataExporting","setDataExporting","displayedCustomers","setDisplayedCustomers","isSearching","token","e"],"mappings":"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","sourcesContent":["import React, {\n  Fragment,\n  useState,\n  useEffect,\n  useRef,\n  useCallback,\n} from \"react\";\nimport jwt_decode from \"jwt-decode\";\nimport { Route, Switch, useHistory, useRouteMatch } from \"react-router-dom\";\nimport face from \"../assets/img/placeholder-img.png\";\nimport { getAccessToken, getAdminName } from \"../utils/localStorageService\";\nimport { handleHideModal, handleOpenModal, useAuth } from \"./utilities\";\nimport errorHandler, { validateToken } from \"../utils/errorHandler\";\nimport { ReactComponent as SearchIcon } from \"../assets/icons/search.svg\";\nimport notify from \"../utils/notification\";\nimport { ReactComponent as SpinnerIcon } from \"../assets/icons/spinner.svg\";\nimport { ReactComponent as ExportIcon } from \"../assets/icons/export.svg\";\nimport { ReactComponent as NothingFoundIcon } from \"../assets/icons/nothing-found.svg\";\nimport CustomerAuditHistory from \"../components/customerAuditHistory\";\nimport LoanAuditHistory from \"./loanAuditHistory\";\n\nconst AuditLogs = () => {\n  const { path } = useRouteMatch();\n  const history = useHistory();\n  const auth = useAuth();\n  const adminName = getAdminName();\n  // useCallback ensures that handle error function isn't recreated on every render\n  const handleError = useCallback(\n    (errorObject, notify, cb) => errorHandler(auth)(errorObject, notify, cb),\n    [auth]\n  );\n\n  const [showSection, setShowSection] = useState(\"all\");\n  const [isLoading, setLoading] = useState(false);\n  const [selectedCustomers, setSelectedCustomers] = useState([]);\n  const [isDataExporting, setDataExporting] = useState(false);\n  const [displayedCustomers, setDisplayedCustomers] = useState([]);\n  const isSearching = useRef(false);\n  const token = getAccessToken();\n\n  useEffect(() => {\n    validateToken(token, history, jwt_decode, auth, notify);\n  }, [auth, history, token]);\n  return (\n    <>\n      <header>\n        <div>\n          <h1>Audit Logs</h1>\n\n          <nav>\n            {/* eslint-disable-next-line */}\n            <a\n              className={showSection === \"all\" ? \"active\" : \"\"}\n              onClick={(e) => setShowSection(\"all\")}\n            >\n              CBA Logs\n            </a>\n            {/* eslint-disable-next-line */}\n            <a\n              className={showSection === \"loan\" ? \"active\" : \"\"}\n              onClick={(e) => setShowSection(\"loan\")}\n            >\n              Loan Logs\n            </a>\n          </nav>\n        </div>\n        <div>\n          <div className=\"small-admin-details\">\n            <img src={face} alt=\"\" />\n            {adminName || `NPF Admin`}\n            <i className=\"arrow down\"></i>\n          </div>\n          <div className=\"some-container\">\n            {showSection === \"all\" && (\n              <form className=\"search-div\">\n                <label htmlFor=\"search\">\n                  <SearchIcon />\n                </label>\n                <input\n                  type=\"search\"\n                  className=\"form-control\"\n                  name=\"search\"\n                  id=\"search\"\n                  aria-label=\"Search by email\"\n                  placeholder=\"Search by email\"\n                  //   value={searchEmail}\n                  //   onChange={(e) => setSearchEmail(e.target.value)}\n                />\n              </form>\n            )}\n          </div>\n        </div>\n      </header>\n      {!isLoading && showSection === \"all\" && <CustomerAuditHistory />}\n      {!isLoading && showSection === \"loan\" && <LoanAuditHistory />}\n    </>\n  );\n};\n\nexport default AuditLogs;\n"]},"metadata":{},"sourceType":"module"}