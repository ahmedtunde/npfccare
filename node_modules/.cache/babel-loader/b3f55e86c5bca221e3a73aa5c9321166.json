{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/xerde2/Downloads/npf-admin-web/src/components/loanManagement/customer/inProcess.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useCallback, useState, useEffect } from \"react\";\nimport face from \"../../../assets/img/placeholder-img.png\";\nimport placeholderImg from \"../../../assets/img/placeholder-img.png\";\nimport { ReactComponent as ArrowRightCircle } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/icons/arrow-right-circle.svg\";\nimport { ReactComponent as CheckCircleFill } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/icons/check-circle-fill.svg\";\nimport { ReactComponent as TimesCircleFill } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/icons/times-circle-fill.svg\";\nimport { ReactComponent as ArrowRightShort } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/icons/arrow-right-short.svg\";\nimport { ReactComponent as FileEarmarkImage } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/icons/file-earmark-image.svg\";\nimport { ReactComponent as PenFill } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/icons/pen.svg\";\nimport { ReactComponent as CloudDownloadIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/icons/cloud-computing-download.svg\";\nimport { ReactComponent as PrintIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/icons/print-icon.svg\";\nimport { ReactComponent as SpinnerIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/icons/spinner.svg\";\nimport { useHistory, useLocation, useRouteMatch, useParams } from \"react-router-dom\";\nimport moment from \"moment\";\nimport jwt_decode from \"jwt-decode\";\nimport { useAuth } from \"../../utilities\";\nimport errorHandler, { validateToken } from \"../../../utils/errorHandler\";\nimport notify from \"../../../utils/notification\";\nimport LoanRightOptions from \"../loanRightOptions\";\nimport { CircularProgressbar, buildStyles } from \"react-circular-progressbar\";\nimport \"react-circular-progressbar/dist/styles.css\";\nimport UpdateScore from \"./UpdateScore\";\nimport UpdateDoc from \"./UpdateDoc\";\nimport { getCustomer } from \"../../../services/customerService\"; // import { useEffect } from \"react/cjs/react.development\";\n\nimport { adminGetLoanScore, getCustomerById, getFiles, getLoanScore, getRoles } from \"../../../services/loanService\";\nimport { AcceptLoanModal, ApprovalModal, NarrativeModal, CommentModal } from \"./approvalModal\";\nimport { getLoanRoles, getAdminName, getAccessToken, getRoles as getAdminRoles } from \"../../../utils/localStorageService\";\nimport numeral from \"numeral\";\nimport LoanComments from \"../loanComment\";\n\nconst InProcessCustomer = props => {\n  _s();\n\n  const [score, setScore] = useState(false);\n  const [scoreDoc, setScoreDoc] = useState(false);\n  const history = useHistory();\n  const location = useLocation();\n  const adminName = getAdminName();\n  const roles = getAdminRoles();\n  const {\n    url,\n    params\n  } = useLocation();\n  const {\n    state: locationState,\n    pathname,\n    search\n  } = location;\n  const auth = useAuth(); // useCallback ensures that handle error function isn't recreated on every render\n\n  const handleError = useCallback((errorObject, notify, cb) => errorHandler(auth)(errorObject, notify, cb), [auth]);\n  const [customer, setCustomer] = useState({\n    PND: false,\n    account_status: null,\n    address: \"N/A\",\n    bucket: \"npf-mfb\",\n    bvnhash: \"\",\n    companyCode: null,\n    createdAt: \"\",\n    customerNumber: \"\",\n    dob: \"\",\n    document_key: \"\",\n    document_location: face,\n    document_number: \"\",\n    document_type_id: 0,\n    email: \"thatguy@everyone.me\",\n    enabled: true,\n    firstname: \"Janet\",\n    force_number: \"\",\n    has_pin: false,\n    id: 0,\n    ippis_number: \"\",\n    isnewbankcustomer: null,\n    document_issue_date: \"\",\n    document_expiry_date: \"\",\n    photostatus: \"PENDING\",\n    documentstatus: \"PENDING\",\n    signaturestatus: \"PENDING\",\n    livelinesschecked: \"PENDING\",\n    isotpverified: true,\n    lastname: \"Montoya\",\n    middlename: \"N/A\",\n    otpstatus: null,\n    phone: \"\",\n    photo_key: \"\",\n    photo_location: \"\",\n    photo_number: null,\n    pob: null,\n    registration_channel: \"\",\n    salary_officer: true,\n    signature_key: \"\",\n    signature_location: \"\",\n    simswapstatus: null,\n    updatedAt: \"\",\n    user: 0,\n    video_key: \"\",\n    video_location: \"\",\n    signup_incomplete: true,\n    accounts: []\n  });\n  const [loan, setLoan] = useState({\n    name: \"\",\n    email: \"\",\n    photo_location: \"\",\n    bvn: null,\n    phone: \"\",\n    profilecomplete: \"\",\n    livelinesschecked: \"\",\n    dti: 0,\n    loan_app_id: 0,\n    createdBy: 0,\n    createdAt: \"\",\n    updatedAt: \"\",\n    loanApp: {\n      name: \"\",\n      loan_product_id: 0,\n      amount: 0,\n      workFlowLevel: 1,\n      approvalBranch_id: 0,\n      monthlyIncome: 0,\n      approvedAmount: 0,\n      approvedTenure: 0,\n      loan_purpose: \"\",\n      creditRptRequested: false,\n      status: \"\",\n      narrative: \"\",\n      date_completed: null,\n      customer_id: 0,\n      requested_loan_tenure: 0,\n      createdAt: \"\",\n      updatedAt: \"\",\n      loanProduct: {\n        name: \"\",\n        productType: \"\",\n        creditScoringType: \"\",\n        interestRate: 0,\n        maxTerm: 0,\n        maxTermUnit: \"\",\n        limit: 0,\n        repaymentReqmt: \"\",\n        guarantorsCnt: 0,\n        createdAt: \"\",\n        updatedAt: \"\",\n        loanProductCategory: {\n          name: \"\",\n          description: \"\",\n          categoryType: \"\",\n          createdAt: \"\",\n          updatedAt: \"\"\n        },\n        fileUpload: [],\n        adminLoanScore: [],\n        loanScore: []\n      }\n    }\n  });\n  const [showSection, setShowSection] = useState(\"all\"); // const [showAuditHistory, setShowAuditHistory] = useState(\"all\");\n\n  const [isLoading, setLoading] = useState({\n    userFull: false,\n    acceptApplication: false,\n    rejectApplication: false,\n    approveApplication: false,\n    printApplication: false,\n    loadPage: false\n  });\n  const [isScoringActive, setIsScoringActive] = useState(false);\n  const [values, setValues] = useState({});\n  const [approveModalBtn, setApproveModalBtn] = useState(false);\n  const [approveData, setApproveData] = useState({});\n  const [narrativeModalBtn, setNarrativeModalBtn] = useState(false);\n  const [acceptLoanModalBtn, setAcceptLoanModalBtn] = useState(false);\n  const [adminWorkFlowLevel, setAdminWorkFlowLevel] = useState(0);\n  const [maritalStatus, setMaritalStatus] = useState(\"\");\n  const [residentialAddress, setResidentialAddress] = useState(\"\");\n  const [lengthOfStayAtAddress, setLengthOfStayAtAddress] = useState(\"\");\n  const [engagingBusiness, setEngagingBusiness] = useState(\"\");\n  const [yearsInBusiness, setYearsInBusiness] = useState(\"\");\n  const [businessAddress, setBusinessAddress] = useState(\"\");\n  const [criteriaFiles, setCriteriaFiles] = useState([]);\n  const [commentModalBtn, setCommentModalBtn] = useState(false);\n  const [commentData, setCommentData] = useState({});\n  const searchParams = new URLSearchParams(search);\n  const loanCustomerId = searchParams.get(\"id\");\n  const token = getAccessToken();\n  useEffect(() => {\n    validateToken(token, history, jwt_decode, auth, notify);\n  }, [auth, history, token]);\n  useEffect(() => {\n    async function handleFetchSingleLoan(loanCustomerId) {\n      try {\n        var _loanApp$data, _loanApp$data$loanApp, _loanApp$data2, _loanApp$data2$loanAp;\n\n        handleChangeLoading(\"loadPage\", true);\n        setApproveModalBtn(false);\n        setNarrativeModalBtn(false);\n        setAcceptLoanModalBtn(false);\n        const loanApp = await getCustomerById(loanCustomerId);\n        if (loanApp === null || loanApp === void 0 ? void 0 : loanApp.error) return notify(loanApp === null || loanApp === void 0 ? void 0 : loanApp.data, \"error\");\n\n        if ((loanApp === null || loanApp === void 0 ? void 0 : loanApp.data) === null) {\n          notify(\"Loan Not Found\", \"error\");\n          history.push(\"/pages/loanMan\");\n          return;\n        }\n\n        const userId = loanApp === null || loanApp === void 0 ? void 0 : (_loanApp$data = loanApp.data) === null || _loanApp$data === void 0 ? void 0 : (_loanApp$data$loanApp = _loanApp$data.loanApp) === null || _loanApp$data$loanApp === void 0 ? void 0 : _loanApp$data$loanApp.customer_id;\n        const loanUser = await getCustomer(userId);\n        if (loanUser === null || loanUser === void 0 ? void 0 : loanUser.error) return notify(loanUser === null || loanUser === void 0 ? void 0 : loanUser.message, \"error\");\n\n        if ((loanUser === null || loanUser === void 0 ? void 0 : loanUser.result) === null) {\n          notify(\"Customer Not Found\", \"error\");\n          history.push(\"/pages/loanMan\");\n          return;\n        }\n\n        const loanAppId = loanApp === null || loanApp === void 0 ? void 0 : (_loanApp$data2 = loanApp.data) === null || _loanApp$data2 === void 0 ? void 0 : (_loanApp$data2$loanAp = _loanApp$data2.loanApp) === null || _loanApp$data2$loanAp === void 0 ? void 0 : _loanApp$data2$loanAp.id;\n        const loanScore = await getLoanScore(loanAppId);\n        if (loanScore === null || loanScore === void 0 ? void 0 : loanScore.error) return notify(loanScore === null || loanScore === void 0 ? void 0 : loanScore.message, \"error\");\n\n        if (loanScore.data === null) {\n          notify(\"LoanScore Not Found\", \"error\");\n          return;\n        }\n\n        const adminLoanScore = await adminGetLoanScore(loanAppId);\n        console.log(adminLoanScore);\n        const customerFiles = await getFiles(loanAppId);\n        if (customerFiles === null || customerFiles === void 0 ? void 0 : customerFiles.error) return notify(customerFiles === null || customerFiles === void 0 ? void 0 : customerFiles.message, \"error\");\n\n        if ((customerFiles === null || customerFiles === void 0 ? void 0 : customerFiles.data) === null) {\n          notify(\"Files Not Found\", \"error\");\n          return;\n        }\n\n        setLoan(prev => ({ ...prev,\n          ...loanApp.data,\n          loanScore: loanScore === null || loanScore === void 0 ? void 0 : loanScore.data,\n          adminLoanScore: adminLoanScore === null || adminLoanScore === void 0 ? void 0 : adminLoanScore.data,\n          fileUpload: customerFiles === null || customerFiles === void 0 ? void 0 : customerFiles.data\n        }));\n        setCustomer(prev => ({ ...prev,\n          ...(loanUser === null || loanUser === void 0 ? void 0 : loanUser.result)\n        }));\n        const roles = await getRoles();\n        const loanRoles = getLoanRoles();\n        const testRole = [];\n        testRole.push(loanRoles);\n        console.log(testRole);\n        const formatLoanRoles = loanRoles.replace(/,/g, \"\");\n        roles.data.forEach(role => {\n          if (role.code === formatLoanRoles) {\n            setAdminWorkFlowLevel(role.workFlowLevel);\n          }\n        });\n        handleChangeLoading(\"loadPage\", false);\n      } catch (error) {\n        handleError(error, notify, () => handleChangeLoading(\"userFull\", false));\n      }\n    }\n\n    handleFetchSingleLoan(loanCustomerId); // console.log(loan.loanApp.workFlowLevel);\n  }, [handleError, history]);\n  useEffect(() => {\n    const loadBaseInfos = () => {\n      loan.loanApp.baseInfoValues && loan.loanApp.baseInfoValues.forEach(info => {\n        console.log(info.value);\n\n        if (info.baseInfo.name.includes(\"maritalStatus\")) {\n          setMaritalStatus(info.value);\n        }\n\n        if (info.baseInfo.name.includes(\"residentialAddress\")) {\n          setResidentialAddress(info.value);\n        }\n\n        if (info.baseInfo.name.includes(\"lengthOfStayAtAddress\")) {\n          setLengthOfStayAtAddress(info.value);\n        }\n\n        if (info.baseInfo.name.includes(\"engagingBusiness\")) {\n          setEngagingBusiness(info.value);\n        }\n\n        if (info.baseInfo.name.includes(\"yearsInBusiness\")) {\n          setYearsInBusiness(info.value);\n        }\n\n        if (info.baseInfo.name.includes(\"businessAddress\")) {\n          setBusinessAddress(info.value);\n        }\n      });\n    };\n\n    loadBaseInfos();\n  }, [loan.loanApp.baseInfoValues]);\n\n  const handleChangeLoading = (name, value) => setLoading(prev => ({ ...prev,\n    [name]: value\n  }));\n\n  const totalScore = loan.loanApp.loanTotalScore && Array.from(new Set(loan.loanApp.loanTotalScore.map(item => item.score_type === \"OverAll\" ? item.totalScore : 0)));\n  const displayScore = totalScore && totalScore.length > 0 ? totalScore[1] : 0;\n  const systemScore = loan.loanApp.loanTotalScore && Array.from(new Set(loan.loanApp.loanTotalScore.map(item => item.score_type === \"System\" ? item.totalScore : 0)));\n  const displaySystemScore = systemScore && systemScore.length > 0 ? systemScore[0] : 0;\n  const adminScore = loan.loanApp.loanTotalScore && Array.from(new Set(loan.loanApp.loanTotalScore.map(item => item.score_type === \"Admin\" ? item.totalScore : 0)));\n  const displayAdminScore = adminScore && adminScore.length > 0 ? adminScore[1] : 0;\n\n  const displayAppLoanScore = () => {\n    return loan.loanScore.map(scx => {\n      const {\n        id,\n        requirement,\n        value,\n        score\n      } = scx;\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-6 mb-1\",\n            children: [requirement, \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: [value, \" \\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"color-sec-green\",\n              children: [\"Score: \", score === null ? \"N/A\" : `${score}%`]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 15\n            }, this)]\n          }, scx.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 13\n          }, this)]\n        }, id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 11\n        }, this)\n      }, void 0, false);\n    });\n  };\n\n  const displayAdminLoanScore = () => {\n    return loan.adminLoanScore.map(scx => {\n      const {\n        id,\n        requirement,\n        value,\n        score\n      } = scx;\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-6 mb-1\",\n            children: [requirement, \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: [value, \" \\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"color-sec-green\",\n              children: [\"Score: \", score === null ? \"N/A\" : `${score}%`]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 15\n            }, this)]\n          }, scx.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 13\n          }, this)]\n        }, id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 11\n        }, this)\n      }, void 0, false);\n    });\n  };\n\n  console.log(loan);\n\n  const displayBehLoanScore = () => {\n    return loan.loanApp.loanProduct.loanProductCategory.criterias.map(criteria => {\n      const {\n        id,\n        requirements,\n        scoreType\n      } = criteria;\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: scoreType === \"Behavioural\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-6 mb-1\",\n            children: [requirements, \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: [\"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"color-sec-green\",\n              children: \"Score: No Score\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 17\n          }, this)]\n        }, id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 15\n        }, this) : \"\"\n      }, void 0, false);\n    });\n  };\n\n  const loadFiles = () => {\n    if (loan.loanApp.baseInfoValues && loan.loanApp.baseInfoValues.length > 0) {}\n\n    const allCriteriaFiles = [];\n    loan.fileUpload && loan.fileUpload.forEach(file => {\n      allCriteriaFiles.push(file.fileName);\n      const newFiles = [...new Set(allCriteriaFiles)];\n      setCriteriaFiles(newFiles);\n      console.log(criteriaFiles);\n    });\n  };\n\n  const handleCriteriaFiles = () => {\n    console.log(criteriaFiles);\n    return loan.fileUpload && criteriaFiles.length > 0 && criteriaFiles.map((file, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-3 document-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: file,\n        target: \"_blank\",\n        rel: \"noreferrer\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: file,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"document-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: /*#__PURE__*/_jsxDEV(FileEarmarkImage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n          children: file.includes(\"guarantor\") ? `Guarantor's Form ${idx + 1}` : `Criteria File ${idx - 1}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"scored-div\",\n          children: [/*#__PURE__*/_jsxDEV(CheckCircleFill, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 15\n          }, this), \" Scored: YES\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 11\n      }, this)]\n    }, idx, true, {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 9\n    }, this));\n  };\n\n  const handleApprovalModal = () => {\n    return /*#__PURE__*/_jsxDEV(ApprovalModal, {\n      approveModalBtn: approveModalBtn,\n      setApproveModalBtn: setApproveModalBtn,\n      approveData: approveData,\n      setApproveData: setApproveData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 7\n    }, this);\n  };\n\n  const handleRejectModal = () => {\n    return /*#__PURE__*/_jsxDEV(NarrativeModal, {\n      narrativeModalBtn: narrativeModalBtn,\n      setNarrativeModalBtn: setNarrativeModalBtn,\n      approveData: approveData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 7\n    }, this);\n  };\n\n  const handleAcceptLoanModal = () => {\n    return /*#__PURE__*/_jsxDEV(AcceptLoanModal, {\n      acceptLoanModalBtn: acceptLoanModalBtn,\n      setAcceptLoanModalBtn: setAcceptLoanModalBtn,\n      approveData: approveData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 509,\n      columnNumber: 7\n    }, this);\n  };\n\n  const handleCommentModel = () => {\n    return /*#__PURE__*/_jsxDEV(CommentModal, {\n      commentModalBtn: commentModalBtn,\n      setCommentModalBtn: setCommentModalBtn,\n      commentData: commentData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 519,\n      columnNumber: 7\n    }, this);\n  };\n\n  const name = loan.name.split(\" \");\n\n  const checkApprovalModal = () => {\n    setApproveModalBtn(prev => !prev);\n    var data = {\n      status: \"APPROVE\",\n      narrative: \"\",\n      isWithinLimit: true,\n      email: loan.email,\n      firstname: name[0],\n      lastname: name[1],\n      productName: loan.loanApp.loanProduct.name,\n      loanAppId: loan.loan_app_id,\n      limit: loan.loanApp.loanProduct.limit,\n      maxTerm: loan.loanApp.loanProduct.maxTerm,\n      applicationDate: loan.loanApp.createdAt,\n      customerId: customer.id,\n      work_flow_level: adminWorkFlowLevel - 1\n    };\n    setApproveData(data);\n    console.log(approveData);\n  };\n\n  const checkRejectModal = () => {\n    setNarrativeModalBtn(prev => !prev);\n    var data = {\n      status: \"REJECT\",\n      narrative: \"\",\n      isWithinLimit: true,\n      email: loan.email,\n      firstname: name[0],\n      lastname: name[1],\n      productName: loan.loanApp.loanProduct.name,\n      loanAppId: loan.loan_app_id\n    };\n    setApproveData(data);\n  };\n\n  const checkAcceptModal = () => {\n    setAcceptLoanModalBtn(prev => !prev);\n    var data = {\n      loanAppId: loan.loan_app_id\n    };\n    setApproveData(data);\n  };\n\n  const checkCommentModal = () => {\n    setCommentModalBtn(prev => !prev);\n    var data = {\n      status: \"REJECT\",\n      narrative: \"\",\n      isWithinLimit: true,\n      email: loan.email,\n      firstname: name[0],\n      lastname: name[1],\n      productName: loan.loanApp.loanProduct.name,\n      loanAppId: loan.loan_app_id\n    };\n    setCommentData(data);\n  };\n\n  console.log(adminWorkFlowLevel, loan.loanApp.workFlowLevel);\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setValues(prev => ({ ...prev,\n      [name]: name === \"document_number\" ? value.trim() : value\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => history.goBack(),\n            className: \"btn btn-primary back-btn\",\n            children: /*#__PURE__*/_jsxDEV(ArrowRightShort, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 616,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 612,\n            columnNumber: 13\n          }, this), \"Loan Application Details\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            className: showSection === \"all\" ? \"active\" : \"\",\n            onClick: e => setShowSection(\"all\"),\n            children: \"Overview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 622,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            className: showSection === \"loan-appraisal-scoring\" ? \"active\" : \"\",\n            onClick: e => {\n              setShowSection(\"loan-appraisal-scoring\");\n              loadFiles();\n            },\n            children: \"Loan appraisal scoring\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 629,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            className: showSection === \"documents\" ? \"active\" : \"\",\n            onClick: e => {\n              setShowSection(\"documents\");\n              loadFiles();\n            },\n            children: \"Documents\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 641,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 620,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 610,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"small-admin-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: face,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 655,\n            columnNumber: 13\n          }, this), adminName || `NPF Admin`, /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"arrow down\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 657,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"some-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `btn approve-loan-btn ${isLoading.approveApplication ? \"loading disabled\" : \"\"}`,\n            onClick: checkCommentModal,\n            children: isLoading.approveApplication ? /*#__PURE__*/_jsxDEV(SpinnerIcon, {\n              className: \"rotating\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 667,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(PenFill, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 670,\n                columnNumber: 19\n              }, this), \" Add Comment\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 660,\n            columnNumber: 13\n          }, this), handleCommentModel(), roles !== \"AUDIT\" && /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: adminWorkFlowLevel >= loan.loanApp.workFlowLevel ? false : true,\n            className: `btn approve-loan-btn ${isLoading.approveApplication ? \"loading disabled\" : \"\"}`,\n            onClick: loan.loanApp.workFlowLevel > 1 ? checkApprovalModal : checkAcceptModal,\n            children: isLoading.approveApplication ? /*#__PURE__*/_jsxDEV(SpinnerIcon, {\n              className: \"rotating\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 692,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(CheckCircleFill, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 695,\n                columnNumber: 21\n              }, this), \" \", loan.loanApp.workFlowLevel > 1 ? \"Approve\" : \"Accept\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 676,\n            columnNumber: 15\n          }, this), handleApprovalModal(), handleAcceptLoanModal(), roles !== \"AUDIT\" && showSection === \"loan-appraisal-scoring\" && !displayAdminScore && /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: adminWorkFlowLevel >= loan.loanApp.workFlowLevel ? false : true,\n            className: `btn accept-loan-btn ${isLoading.acceptApplication ? \"loading disabled\" : \"\"}`,\n            onClick: () => showSection === \"documents\" ? setScoreDoc(false) : setScore(true),\n            children: isLoading.acceptApplication ? /*#__PURE__*/_jsxDEV(SpinnerIcon, {\n              className: \"rotating\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 722,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(CheckCircleFill, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 725,\n                columnNumber: 23\n              }, this), \" Admin Score\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 706,\n            columnNumber: 17\n          }, this), roles !== \"AUDIT\" && /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: adminWorkFlowLevel >= loan.loanApp.workFlowLevel ? false : true,\n            className: `btn reject-loan-btn ${isLoading.rejectApplication ? \"loading disabled\" : \"\"}`,\n            onClick: checkRejectModal,\n            children: isLoading.rejectApplication ? /*#__PURE__*/_jsxDEV(SpinnerIcon, {\n              className: \"rotating\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 743,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(TimesCircleFill, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 746,\n                columnNumber: 21\n              }, this), \" Decline\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 731,\n            columnNumber: 15\n          }, this), handleRejectModal()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 659,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 653,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 609,\n      columnNumber: 7\n    }, this), isLoading.loadPage ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"searching-block\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"svg-holder\",\n        children: /*#__PURE__*/_jsxDEV(SpinnerIcon, {\n          className: \"rotating\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 759,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 758,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 757,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"loan-inprocess-page\",\n      children: [isLoading.userFull && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"searching-block\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"svg-holder\",\n          children: /*#__PURE__*/_jsxDEV(SpinnerIcon, {\n            className: \"rotating\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 767,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 766,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 765,\n        columnNumber: 13\n      }, this), !isLoading.userFull && showSection === \"all\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"customer-details row animated fadeIn delay-05s\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loan-details col\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"details-header\",\n            children: \"Loan Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 774,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 mb-1\",\n              children: \"Requested by:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 776,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: loan.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 777,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 775,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 mb-1\",\n              children: \"Loan Type:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 780,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: loan.loanApp.criteria_purpose\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 781,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 779,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 mb-1\",\n              children: \"Amount Requested:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 784,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: [\"\\u20A6 \", numeral(loan.loanApp.amount).format(\"0,0\")]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 785,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 783,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 mb-1\",\n              children: \"Amount Offered:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 790,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: [\"\\u20A6 \", numeral(loan.loanApp.approvedAmount).format(\"0,0\")]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 791,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 789,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 mb-1\",\n              children: \"Tenor Requested:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 796,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: [loan.loanApp.requested_loan_tenure, \" Months\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 797,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 795,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 mb-1\",\n              children: \"Tenor Offered:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 802,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: [loan.loanApp.approvedTenure, \" Months\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 803,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 801,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 773,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"personal-details col\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"details-header\",\n            children: \"Personal Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 809,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-5\",\n              children: \"Customer Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 811,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: loan.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 812,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 810,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-5\",\n              children: \"Customer Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 815,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: loan.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 816,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 814,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-5\",\n              children: \"Customer phone:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 819,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: loan.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 820,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 818,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-5\",\n              children: \"Date of birth:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 823,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: moment(customer.dob).format(\"DD/MM/YYYY\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 824,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 822,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-5\",\n              children: \"Marital Status:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 829,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: maritalStatus || \"N/A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 830,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 828,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-5\",\n              children: \"Residential Address:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 833,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: residentialAddress || \"N/A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 834,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 832,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-5\",\n              children: \"Length of Stay in Address:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 837,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: lengthOfStayAtAddress || \"N/A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 838,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 836,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-5\",\n              children: \"Business Engaged in:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 841,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: engagingBusiness || \"N/A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 842,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 840,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-5\",\n              children: \"Years in Business:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 845,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: yearsInBusiness || \"N/A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 846,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 844,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-5\",\n              children: \"Business Address:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 849,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: businessAddress || \"N/A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 850,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 848,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 808,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center total-credit-score-div color-sec-green mt-5\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"svg-holder\",\n              children: /*#__PURE__*/_jsxDEV(CircularProgressbar, {\n                value: displayScore || 0,\n                text: `${displayScore || 0}%`,\n                styles: buildStyles({\n                  textColor: displayScore < 50 || undefined ? \"red\" : \"#2DBE7E\",\n                  pathColor: displayScore < 50 || undefined ? \"red\" : \"#2DBE7E\"\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 856,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 855,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-weight-bold mb-5\",\n              style: {\n                fontSize: \"24px\"\n              },\n              children: \"Total Credit Score\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 867,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-weight-bold mb-5\",\n              style: {\n                fontSize: \"20px\",\n                color: displaySystemScore < 50 || undefined ? \"red\" : \"#2DBE7E\"\n              },\n              children: `System Score: ${displaySystemScore || 0}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 873,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-weight-bold mb-5\",\n              style: {\n                fontSize: \"20px\",\n                color: Number(displayAdminScore) < 50 || undefined ? \"red\" : \"#2DBE7E\"\n              },\n              children: `Admin Score: ${displayAdminScore || 0}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 885,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-5\",\n              children: \"Click the button below to individual scoring details for loan application\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 897,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn export-ifrs-btn\",\n                onClick: e => setShowSection(\"loan-appraisal-scoring\"),\n                children: [\"View Score\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"pl-2\",\n                  children: /*#__PURE__*/_jsxDEV(ArrowRightCircle, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 908,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 907,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 902,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 901,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 854,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 853,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 772,\n        columnNumber: 13\n      }, this), !isLoading.userFull && showSection === \"loan-appraisal-scoring\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"appraisal-scoring-page row animated fadeIn delay-05s\",\n        children: score === true ? /*#__PURE__*/_jsxDEV(UpdateScore, {\n          adminWorkFlowLevel: adminWorkFlowLevel,\n          loan: loan\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 919,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center total-credit-score-div color-sec-green mt-5\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"svg-holder\",\n                children: /*#__PURE__*/_jsxDEV(CircularProgressbar, {\n                  value: displayScore || 0,\n                  text: `${displayScore || 0}%`,\n                  styles: buildStyles({\n                    textColor: displayScore < 50 || undefined ? \"red\" : \"#2DBE7E\",\n                    pathColor: displayScore < 50 || undefined ? \"red\" : \"#2DBE7E\"\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 928,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 927,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-weight-bold mb-5\",\n                style: {\n                  fontSize: \"24px\"\n                },\n                children: \"Total Credit Score\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 943,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-weight-bold mb-5\",\n                style: {\n                  fontSize: \"20px\",\n                  color: displaySystemScore < 50 || undefined ? \"red\" : \"#2DBE7E\"\n                },\n                children: `System Score: ${displaySystemScore || 0}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 949,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-weight-bold mb-5\",\n                style: {\n                  fontSize: \"20px\",\n                  color: Number(displayAdminScore) < 50 || undefined ? \"red\" : \"#2DBE7E\"\n                },\n                children: `Admin Score: ${displayAdminScore || 0}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 961,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 977,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 926,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loan-details col\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-5\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"details-header\",\n                  children: \"Loan Requirement Score Breakdown\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 993,\n                  columnNumber: 25\n                }, this), displayAppLoanScore()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 992,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 991,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 925,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loan-details col\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-5\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"details-header\",\n                children: \" Admin Score\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1002,\n                columnNumber: 23\n              }, this), loan.adminLoanScore.length > 0 ? displayAdminLoanScore() : displayBehLoanScore()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1001,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1000,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 917,\n        columnNumber: 13\n      }, this), !isLoading.userFull && showSection === \"documents\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"customer-documents-page animated fadeIn delay-05s\",\n        children: scoreDoc === true ? /*#__PURE__*/_jsxDEV(UpdateDoc, {\n          loan: loan\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1015,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            style: {\n              gap: \"140px\"\n            },\n            children: handleCriteriaFiles()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1018,\n            columnNumber: 19\n          }, this)\n        }, void 0, false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1013,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(LoanComments, {\n          loanAppId: loan.loan_app_id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1026,\n          columnNumber: 13\n        }, this)\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 763,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(InProcessCustomer, \"c5fsNOTDkw1j0k2NYv5zVaNxjOk=\", false, function () {\n  return [useHistory, useLocation, useLocation, useAuth];\n});\n\n_c = InProcessCustomer;\n\nconst ExportInProcessCustomer = () => {\n  return /*#__PURE__*/_jsxDEV(InProcessCustomer, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1035,\n    columnNumber: 10\n  }, this);\n};\n\n_c2 = ExportInProcessCustomer;\nexport default ExportInProcessCustomer;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"InProcessCustomer\");\n$RefreshReg$(_c2, \"ExportInProcessCustomer\");","map":{"version":3,"sources":["/Users/xerde2/Downloads/npf-admin-web/src/components/loanManagement/customer/inProcess.js"],"names":["React","Fragment","useCallback","useState","useEffect","face","placeholderImg","useHistory","useLocation","useRouteMatch","useParams","moment","jwt_decode","useAuth","errorHandler","validateToken","notify","LoanRightOptions","CircularProgressbar","buildStyles","UpdateScore","UpdateDoc","getCustomer","adminGetLoanScore","getCustomerById","getFiles","getLoanScore","getRoles","AcceptLoanModal","ApprovalModal","NarrativeModal","CommentModal","getLoanRoles","getAdminName","getAccessToken","getAdminRoles","numeral","LoanComments","InProcessCustomer","props","score","setScore","scoreDoc","setScoreDoc","history","location","adminName","roles","url","params","state","locationState","pathname","search","auth","handleError","errorObject","cb","customer","setCustomer","PND","account_status","address","bucket","bvnhash","companyCode","createdAt","customerNumber","dob","document_key","document_location","document_number","document_type_id","email","enabled","firstname","force_number","has_pin","id","ippis_number","isnewbankcustomer","document_issue_date","document_expiry_date","photostatus","documentstatus","signaturestatus","livelinesschecked","isotpverified","lastname","middlename","otpstatus","phone","photo_key","photo_location","photo_number","pob","registration_channel","salary_officer","signature_key","signature_location","simswapstatus","updatedAt","user","video_key","video_location","signup_incomplete","accounts","loan","setLoan","name","bvn","profilecomplete","dti","loan_app_id","createdBy","loanApp","loan_product_id","amount","workFlowLevel","approvalBranch_id","monthlyIncome","approvedAmount","approvedTenure","loan_purpose","creditRptRequested","status","narrative","date_completed","customer_id","requested_loan_tenure","loanProduct","productType","creditScoringType","interestRate","maxTerm","maxTermUnit","limit","repaymentReqmt","guarantorsCnt","loanProductCategory","description","categoryType","fileUpload","adminLoanScore","loanScore","showSection","setShowSection","isLoading","setLoading","userFull","acceptApplication","rejectApplication","approveApplication","printApplication","loadPage","isScoringActive","setIsScoringActive","values","setValues","approveModalBtn","setApproveModalBtn","approveData","setApproveData","narrativeModalBtn","setNarrativeModalBtn","acceptLoanModalBtn","setAcceptLoanModalBtn","adminWorkFlowLevel","setAdminWorkFlowLevel","maritalStatus","setMaritalStatus","residentialAddress","setResidentialAddress","lengthOfStayAtAddress","setLengthOfStayAtAddress","engagingBusiness","setEngagingBusiness","yearsInBusiness","setYearsInBusiness","businessAddress","setBusinessAddress","criteriaFiles","setCriteriaFiles","commentModalBtn","setCommentModalBtn","commentData","setCommentData","searchParams","URLSearchParams","loanCustomerId","get","token","handleFetchSingleLoan","handleChangeLoading","error","data","push","userId","loanUser","message","result","loanAppId","console","log","customerFiles","prev","loanRoles","testRole","formatLoanRoles","replace","forEach","role","code","loadBaseInfos","baseInfoValues","info","value","baseInfo","includes","totalScore","loanTotalScore","Array","from","Set","map","item","score_type","displayScore","length","systemScore","displaySystemScore","adminScore","displayAdminScore","displayAppLoanScore","scx","requirement","displayAdminLoanScore","displayBehLoanScore","criterias","criteria","requirements","scoreType","loadFiles","allCriteriaFiles","file","fileName","newFiles","handleCriteriaFiles","idx","handleApprovalModal","handleRejectModal","handleAcceptLoanModal","handleCommentModel","split","checkApprovalModal","isWithinLimit","productName","applicationDate","customerId","work_flow_level","checkRejectModal","checkAcceptModal","checkCommentModal","handleChange","e","target","trim","goBack","criteria_purpose","format","textColor","undefined","pathColor","fontSize","color","Number","gap","ExportInProcessCustomer"],"mappings":"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","sourcesContent":["import React, { Fragment, useCallback, useState, useEffect } from \"react\";\nimport face from \"../../../assets/img/placeholder-img.png\";\nimport placeholderImg from \"../../../assets/img/placeholder-img.png\";\nimport { ReactComponent as ArrowRightCircle } from \"../../../assets/icons/arrow-right-circle.svg\";\nimport { ReactComponent as CheckCircleFill } from \"../../../assets/icons/check-circle-fill.svg\";\nimport { ReactComponent as TimesCircleFill } from \"../../../assets/icons/times-circle-fill.svg\";\nimport { ReactComponent as ArrowRightShort } from \"../../../assets/icons/arrow-right-short.svg\";\nimport { ReactComponent as FileEarmarkImage } from \"../../../assets/icons/file-earmark-image.svg\";\nimport { ReactComponent as PenFill } from \"../../../assets/icons/pen.svg\";\nimport { ReactComponent as CloudDownloadIcon } from \"../../../assets/icons/cloud-computing-download.svg\";\nimport { ReactComponent as PrintIcon } from \"../../../assets/icons/print-icon.svg\";\nimport { ReactComponent as SpinnerIcon } from \"../../../assets/icons/spinner.svg\";\nimport {\n  useHistory,\n  useLocation,\n  useRouteMatch,\n  useParams,\n} from \"react-router-dom\";\nimport moment from \"moment\";\nimport jwt_decode from \"jwt-decode\";\nimport { useAuth } from \"../../utilities\";\nimport errorHandler, { validateToken } from \"../../../utils/errorHandler\";\nimport notify from \"../../../utils/notification\";\nimport LoanRightOptions from \"../loanRightOptions\";\nimport { CircularProgressbar, buildStyles } from \"react-circular-progressbar\";\nimport \"react-circular-progressbar/dist/styles.css\";\nimport UpdateScore from \"./UpdateScore\";\nimport UpdateDoc from \"./UpdateDoc\";\nimport { getCustomer } from \"../../../services/customerService\";\n// import { useEffect } from \"react/cjs/react.development\";\nimport {\n  adminGetLoanScore,\n  getCustomerById,\n  getFiles,\n  getLoanScore,\n  getRoles,\n} from \"../../../services/loanService\";\nimport {\n  AcceptLoanModal,\n  ApprovalModal,\n  NarrativeModal,\n  CommentModal,\n} from \"./approvalModal\";\n\nimport {\n  getLoanRoles,\n  getAdminName,\n  getAccessToken,\n  getRoles as getAdminRoles,\n} from \"../../../utils/localStorageService\";\nimport numeral from \"numeral\";\nimport LoanComments from \"../loanComment\";\n\nconst InProcessCustomer = (props) => {\n  const [score, setScore] = useState(false);\n  const [scoreDoc, setScoreDoc] = useState(false);\n  const history = useHistory();\n  const location = useLocation();\n  const adminName = getAdminName();\n  const roles = getAdminRoles();\n  const { url, params } = useLocation();\n  const { state: locationState, pathname, search } = location;\n\n  const auth = useAuth();\n  // useCallback ensures that handle error function isn't recreated on every render\n  const handleError = useCallback(\n    (errorObject, notify, cb) => errorHandler(auth)(errorObject, notify, cb),\n    [auth]\n  );\n\n  const [customer, setCustomer] = useState({\n    PND: false,\n    account_status: null,\n    address: \"N/A\",\n    bucket: \"npf-mfb\",\n    bvnhash: \"\",\n    companyCode: null,\n    createdAt: \"\",\n    customerNumber: \"\",\n    dob: \"\",\n    document_key: \"\",\n    document_location: face,\n    document_number: \"\",\n    document_type_id: 0,\n    email: \"thatguy@everyone.me\",\n    enabled: true,\n    firstname: \"Janet\",\n    force_number: \"\",\n    has_pin: false,\n    id: 0,\n    ippis_number: \"\",\n    isnewbankcustomer: null,\n    document_issue_date: \"\",\n    document_expiry_date: \"\",\n    photostatus: \"PENDING\",\n    documentstatus: \"PENDING\",\n    signaturestatus: \"PENDING\",\n    livelinesschecked: \"PENDING\",\n    isotpverified: true,\n    lastname: \"Montoya\",\n    middlename: \"N/A\",\n    otpstatus: null,\n    phone: \"\",\n    photo_key: \"\",\n    photo_location: \"\",\n    photo_number: null,\n    pob: null,\n    registration_channel: \"\",\n    salary_officer: true,\n    signature_key: \"\",\n    signature_location: \"\",\n    simswapstatus: null,\n    updatedAt: \"\",\n    user: 0,\n    video_key: \"\",\n    video_location: \"\",\n    signup_incomplete: true,\n    accounts: [],\n  });\n\n  const [loan, setLoan] = useState({\n    name: \"\",\n    email: \"\",\n    photo_location: \"\",\n    bvn: null,\n    phone: \"\",\n    profilecomplete: \"\",\n    livelinesschecked: \"\",\n    dti: 0,\n    loan_app_id: 0,\n    createdBy: 0,\n    createdAt: \"\",\n    updatedAt: \"\",\n    loanApp: {\n      name: \"\",\n      loan_product_id: 0,\n      amount: 0,\n      workFlowLevel: 1,\n      approvalBranch_id: 0,\n      monthlyIncome: 0,\n      approvedAmount: 0,\n      approvedTenure: 0,\n      loan_purpose: \"\",\n      creditRptRequested: false,\n      status: \"\",\n      narrative: \"\",\n      date_completed: null,\n      customer_id: 0,\n      requested_loan_tenure: 0,\n      createdAt: \"\",\n      updatedAt: \"\",\n      loanProduct: {\n        name: \"\",\n        productType: \"\",\n        creditScoringType: \"\",\n        interestRate: 0,\n        maxTerm: 0,\n        maxTermUnit: \"\",\n        limit: 0,\n        repaymentReqmt: \"\",\n        guarantorsCnt: 0,\n        createdAt: \"\",\n        updatedAt: \"\",\n\n        loanProductCategory: {\n          name: \"\",\n          description: \"\",\n          categoryType: \"\",\n          createdAt: \"\",\n          updatedAt: \"\",\n        },\n        fileUpload: [],\n        adminLoanScore: [],\n        loanScore: [],\n      },\n    },\n  });\n\n  const [showSection, setShowSection] = useState(\"all\");\n  // const [showAuditHistory, setShowAuditHistory] = useState(\"all\");\n  const [isLoading, setLoading] = useState({\n    userFull: false,\n    acceptApplication: false,\n    rejectApplication: false,\n    approveApplication: false,\n    printApplication: false,\n    loadPage: false,\n  });\n\n  const [isScoringActive, setIsScoringActive] = useState(false);\n  const [values, setValues] = useState({});\n  const [approveModalBtn, setApproveModalBtn] = useState(false);\n  const [approveData, setApproveData] = useState({});\n  const [narrativeModalBtn, setNarrativeModalBtn] = useState(false);\n  const [acceptLoanModalBtn, setAcceptLoanModalBtn] = useState(false);\n  const [adminWorkFlowLevel, setAdminWorkFlowLevel] = useState(0);\n  const [maritalStatus, setMaritalStatus] = useState(\"\");\n  const [residentialAddress, setResidentialAddress] = useState(\"\");\n  const [lengthOfStayAtAddress, setLengthOfStayAtAddress] = useState(\"\");\n  const [engagingBusiness, setEngagingBusiness] = useState(\"\");\n  const [yearsInBusiness, setYearsInBusiness] = useState(\"\");\n  const [businessAddress, setBusinessAddress] = useState(\"\");\n  const [criteriaFiles, setCriteriaFiles] = useState([]);\n  const [commentModalBtn, setCommentModalBtn] = useState(false);\n  const [commentData, setCommentData] = useState({});\n\n  const searchParams = new URLSearchParams(search);\n  const loanCustomerId = searchParams.get(\"id\");\n  const token = getAccessToken();\n\n  useEffect(() => {\n    validateToken(token, history, jwt_decode, auth, notify);\n  }, [auth, history, token]);\n\n  useEffect(() => {\n    async function handleFetchSingleLoan(loanCustomerId) {\n      try {\n        handleChangeLoading(\"loadPage\", true);\n        setApproveModalBtn(false);\n        setNarrativeModalBtn(false);\n        setAcceptLoanModalBtn(false);\n\n        const loanApp = await getCustomerById(loanCustomerId);\n\n        if (loanApp?.error) return notify(loanApp?.data, \"error\");\n        if (loanApp?.data === null) {\n          notify(\"Loan Not Found\", \"error\");\n          history.push(\"/pages/loanMan\");\n          return;\n        }\n        const userId = loanApp?.data?.loanApp?.customer_id;\n        const loanUser = await getCustomer(userId);\n        if (loanUser?.error) return notify(loanUser?.message, \"error\");\n        if (loanUser?.result === null) {\n          notify(\"Customer Not Found\", \"error\");\n          history.push(\"/pages/loanMan\");\n          return;\n        }\n\n        const loanAppId = loanApp?.data?.loanApp?.id;\n\n        const loanScore = await getLoanScore(loanAppId);\n        if (loanScore?.error) return notify(loanScore?.message, \"error\");\n        if (loanScore.data === null) {\n          notify(\"LoanScore Not Found\", \"error\");\n          return;\n        }\n\n        const adminLoanScore = await adminGetLoanScore(loanAppId);\n\n        console.log(adminLoanScore);\n\n        const customerFiles = await getFiles(loanAppId);\n        if (customerFiles?.error)\n          return notify(customerFiles?.message, \"error\");\n        if (customerFiles?.data === null) {\n          notify(\"Files Not Found\", \"error\");\n          return;\n        }\n\n        setLoan((prev) => ({\n          ...prev,\n          ...loanApp.data,\n          loanScore: loanScore?.data,\n          adminLoanScore: adminLoanScore?.data,\n          fileUpload: customerFiles?.data,\n        }));\n\n        setCustomer((prev) => ({\n          ...prev,\n          ...loanUser?.result,\n        }));\n\n        const roles = await getRoles();\n\n        const loanRoles = getLoanRoles();\n\n        const testRole = [];\n\n        testRole.push(loanRoles);\n        console.log(testRole);\n\n        const formatLoanRoles = loanRoles.replace(/,/g, \"\");\n        roles.data.forEach((role) => {\n          if (role.code === formatLoanRoles) {\n            setAdminWorkFlowLevel(role.workFlowLevel);\n          }\n        });\n\n        handleChangeLoading(\"loadPage\", false);\n      } catch (error) {\n        handleError(error, notify, () =>\n          handleChangeLoading(\"userFull\", false)\n        );\n      }\n    }\n    handleFetchSingleLoan(loanCustomerId);\n\n    // console.log(loan.loanApp.workFlowLevel);\n  }, [handleError, history]);\n\n  useEffect(() => {\n    const loadBaseInfos = () => {\n      loan.loanApp.baseInfoValues &&\n        loan.loanApp.baseInfoValues.forEach((info) => {\n          console.log(info.value);\n          if (info.baseInfo.name.includes(\"maritalStatus\")) {\n            setMaritalStatus(info.value);\n          }\n\n          if (info.baseInfo.name.includes(\"residentialAddress\")) {\n            setResidentialAddress(info.value);\n          }\n\n          if (info.baseInfo.name.includes(\"lengthOfStayAtAddress\")) {\n            setLengthOfStayAtAddress(info.value);\n          }\n\n          if (info.baseInfo.name.includes(\"engagingBusiness\")) {\n            setEngagingBusiness(info.value);\n          }\n\n          if (info.baseInfo.name.includes(\"yearsInBusiness\")) {\n            setYearsInBusiness(info.value);\n          }\n\n          if (info.baseInfo.name.includes(\"businessAddress\")) {\n            setBusinessAddress(info.value);\n          }\n        });\n    };\n    loadBaseInfos();\n  }, [loan.loanApp.baseInfoValues]);\n\n  const handleChangeLoading = (name, value) =>\n    setLoading((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n\n  const totalScore =\n    loan.loanApp.loanTotalScore &&\n    Array.from(\n      new Set(\n        loan.loanApp.loanTotalScore.map((item) =>\n          item.score_type === \"OverAll\" ? item.totalScore : 0\n        )\n      )\n    );\n\n  const displayScore = totalScore && totalScore.length > 0 ? totalScore[1] : 0;\n\n  const systemScore =\n    loan.loanApp.loanTotalScore &&\n    Array.from(\n      new Set(\n        loan.loanApp.loanTotalScore.map((item) =>\n          item.score_type === \"System\" ? item.totalScore : 0\n        )\n      )\n    );\n\n  const displaySystemScore =\n    systemScore && systemScore.length > 0 ? systemScore[0] : 0;\n\n  const adminScore =\n    loan.loanApp.loanTotalScore &&\n    Array.from(\n      new Set(\n        loan.loanApp.loanTotalScore.map((item) =>\n          item.score_type === \"Admin\" ? item.totalScore : 0\n        )\n      )\n    );\n\n  const displayAdminScore =\n    adminScore && adminScore.length > 0 ? adminScore[1] : 0;\n\n  const displayAppLoanScore = () => {\n    return loan.loanScore.map((scx) => {\n      const { id, requirement, value, score } = scx;\n      return (\n        <>\n          <div className=\"row\" key={id}>\n            <div className=\"col-6 mb-1\">{requirement}:</div>\n            <div key={scx.id} className=\"col\">\n              {value} &nbsp;&nbsp;\n              <span className=\"color-sec-green\">\n                Score: {score === null ? \"N/A\" : `${score}%`}\n              </span>\n            </div>\n          </div>\n        </>\n      );\n    });\n  };\n\n  const displayAdminLoanScore = () => {\n    return loan.adminLoanScore.map((scx) => {\n      const { id, requirement, value, score } = scx;\n      return (\n        <>\n          <div className=\"row\" key={id}>\n            <div className=\"col-6 mb-1\">{requirement}:</div>\n            <div key={scx.id} className=\"col\">\n              {value} &nbsp;&nbsp;\n              <span className=\"color-sec-green\">\n                Score: {score === null ? \"N/A\" : `${score}%`}\n              </span>\n            </div>\n          </div>\n        </>\n      );\n    });\n  };\n\n  console.log(loan);\n\n  const displayBehLoanScore = () => {\n    return loan.loanApp.loanProduct.loanProductCategory.criterias.map(\n      (criteria) => {\n        const { id, requirements, scoreType } = criteria;\n        return (\n          <>\n            {scoreType === \"Behavioural\" ? (\n              <div className=\"row\" key={id}>\n                <div className=\"col-6 mb-1\">{requirements}:</div>\n                <div className=\"col\">\n                  &nbsp;&nbsp;\n                  <span className=\"color-sec-green\">Score: No Score</span>\n                </div>\n              </div>\n            ) : (\n              \"\"\n            )}\n          </>\n        );\n      }\n    );\n  };\n\n  const loadFiles = () => {\n    if (loan.loanApp.baseInfoValues && loan.loanApp.baseInfoValues.length > 0) {\n    }\n    const allCriteriaFiles = [];\n\n    loan.fileUpload &&\n      loan.fileUpload.forEach((file) => {\n        allCriteriaFiles.push(file.fileName);\n\n        const newFiles = [...new Set(allCriteriaFiles)];\n        setCriteriaFiles(newFiles);\n        console.log(criteriaFiles);\n      });\n  };\n\n  const handleCriteriaFiles = () => {\n    console.log(criteriaFiles);\n\n    return (\n      loan.fileUpload &&\n      criteriaFiles.length > 0 &&\n      criteriaFiles.map((file, idx) => (\n        <div key={idx} className=\"col-3 document-card\">\n          <a href={file} target=\"_blank\" rel=\"noreferrer\">\n            <img src={file} alt=\"\" />\n          </a>\n          <div className=\"document-info\">\n            <span>\n              <FileEarmarkImage />\n            </span>\n            <b>\n              {file.includes(\"guarantor\")\n                ? `Guarantor's Form ${idx + 1}`\n                : `Criteria File ${idx - 1}`}\n            </b>\n            <div className=\"scored-div\">\n              <CheckCircleFill /> Scored: YES\n            </div>\n          </div>\n        </div>\n      ))\n    );\n  };\n\n  const handleApprovalModal = () => {\n    return (\n      <ApprovalModal\n        approveModalBtn={approveModalBtn}\n        setApproveModalBtn={setApproveModalBtn}\n        approveData={approveData}\n        setApproveData={setApproveData}\n      />\n    );\n  };\n\n  const handleRejectModal = () => {\n    return (\n      <NarrativeModal\n        narrativeModalBtn={narrativeModalBtn}\n        setNarrativeModalBtn={setNarrativeModalBtn}\n        approveData={approveData}\n      />\n    );\n  };\n\n  const handleAcceptLoanModal = () => {\n    return (\n      <AcceptLoanModal\n        acceptLoanModalBtn={acceptLoanModalBtn}\n        setAcceptLoanModalBtn={setAcceptLoanModalBtn}\n        approveData={approveData}\n      />\n    );\n  };\n\n  const handleCommentModel = () => {\n    return (\n      <CommentModal\n        commentModalBtn={commentModalBtn}\n        setCommentModalBtn={setCommentModalBtn}\n        commentData={commentData}\n      />\n    );\n  };\n\n  const name = loan.name.split(\" \");\n\n  const checkApprovalModal = () => {\n    setApproveModalBtn((prev) => !prev);\n\n    var data = {\n      status: \"APPROVE\",\n      narrative: \"\",\n      isWithinLimit: true,\n      email: loan.email,\n      firstname: name[0],\n      lastname: name[1],\n      productName: loan.loanApp.loanProduct.name,\n      loanAppId: loan.loan_app_id,\n      limit: loan.loanApp.loanProduct.limit,\n      maxTerm: loan.loanApp.loanProduct.maxTerm,\n      applicationDate: loan.loanApp.createdAt,\n      customerId: customer.id,\n      work_flow_level: adminWorkFlowLevel - 1,\n    };\n\n    setApproveData(data);\n\n    console.log(approveData);\n  };\n\n  const checkRejectModal = () => {\n    setNarrativeModalBtn((prev) => !prev);\n\n    var data = {\n      status: \"REJECT\",\n      narrative: \"\",\n      isWithinLimit: true,\n      email: loan.email,\n      firstname: name[0],\n      lastname: name[1],\n      productName: loan.loanApp.loanProduct.name,\n      loanAppId: loan.loan_app_id,\n    };\n\n    setApproveData(data);\n  };\n\n  const checkAcceptModal = () => {\n    setAcceptLoanModalBtn((prev) => !prev);\n\n    var data = {\n      loanAppId: loan.loan_app_id,\n    };\n\n    setApproveData(data);\n  };\n\n  const checkCommentModal = () => {\n    setCommentModalBtn((prev) => !prev);\n\n    var data = {\n      status: \"REJECT\",\n      narrative: \"\",\n      isWithinLimit: true,\n      email: loan.email,\n      firstname: name[0],\n      lastname: name[1],\n      productName: loan.loanApp.loanProduct.name,\n      loanAppId: loan.loan_app_id,\n    };\n\n    setCommentData(data);\n  };\n\n  console.log(adminWorkFlowLevel, loan.loanApp.workFlowLevel);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setValues((prev) => ({\n      ...prev,\n      [name]: name === \"document_number\" ? value.trim() : value,\n    }));\n  };\n\n  return (\n    <>\n      <header>\n        <div>\n          <h1>\n            <button\n              onClick={(e) => history.goBack()}\n              className=\"btn btn-primary back-btn\"\n            >\n              <ArrowRightShort />\n            </button>\n            Loan Application Details\n          </h1>\n          <nav>\n            {/* eslint-disable jsx-a11y/anchor-is-valid */}\n            <a\n              className={showSection === \"all\" ? \"active\" : \"\"}\n              onClick={(e) => setShowSection(\"all\")}\n            >\n              Overview\n            </a>\n            {\n              <a\n                className={\n                  showSection === \"loan-appraisal-scoring\" ? \"active\" : \"\"\n                }\n                onClick={(e) => {\n                  setShowSection(\"loan-appraisal-scoring\");\n                  loadFiles();\n                }}\n              >\n                Loan appraisal scoring\n              </a>\n            }\n            <a\n              className={showSection === \"documents\" ? \"active\" : \"\"}\n              onClick={(e) => {\n                setShowSection(\"documents\");\n                loadFiles();\n              }}\n            >\n              Documents\n            </a>\n            {/* eslint-enable */}\n          </nav>\n        </div>\n        <div>\n          <div className=\"small-admin-details\">\n            <img src={face} alt=\"\" />\n            {adminName || `NPF Admin`}\n            <i className=\"arrow down\"></i>\n          </div>\n          <div className=\"some-container\">\n            <button\n              className={`btn approve-loan-btn ${\n                isLoading.approveApplication ? \"loading disabled\" : \"\"\n              }`}\n              onClick={checkCommentModal}\n            >\n              {isLoading.approveApplication ? (\n                <SpinnerIcon className=\"rotating\" />\n              ) : (\n                <>\n                  <PenFill /> Add Comment\n                </>\n              )}\n            </button>\n            {handleCommentModel()}\n            {roles !== \"AUDIT\" && (\n              <button\n                disabled={\n                  adminWorkFlowLevel >= loan.loanApp.workFlowLevel\n                    ? false\n                    : true\n                }\n                className={`btn approve-loan-btn ${\n                  isLoading.approveApplication ? \"loading disabled\" : \"\"\n                }`}\n                onClick={\n                  loan.loanApp.workFlowLevel > 1\n                    ? checkApprovalModal\n                    : checkAcceptModal\n                }\n              >\n                {isLoading.approveApplication ? (\n                  <SpinnerIcon className=\"rotating\" />\n                ) : (\n                  <>\n                    <CheckCircleFill />{\" \"}\n                    {loan.loanApp.workFlowLevel > 1 ? \"Approve\" : \"Accept\"}\n                  </>\n                )}\n              </button>\n            )}\n            {handleApprovalModal()}\n            {handleAcceptLoanModal()}\n            {roles !== \"AUDIT\" &&\n              showSection === \"loan-appraisal-scoring\" &&\n              !displayAdminScore && (\n                <button\n                  disabled={\n                    adminWorkFlowLevel >= loan.loanApp.workFlowLevel\n                      ? false\n                      : true\n                  }\n                  className={`btn accept-loan-btn ${\n                    isLoading.acceptApplication ? \"loading disabled\" : \"\"\n                  }`}\n                  onClick={() =>\n                    showSection === \"documents\"\n                      ? setScoreDoc(false)\n                      : setScore(true)\n                  }\n                >\n                  {isLoading.acceptApplication ? (\n                    <SpinnerIcon className=\"rotating\" />\n                  ) : (\n                    <>\n                      <CheckCircleFill /> Admin Score\n                    </>\n                  )}\n                </button>\n              )}\n            {roles !== \"AUDIT\" && (\n              <button\n                disabled={\n                  adminWorkFlowLevel >= loan.loanApp.workFlowLevel\n                    ? false\n                    : true\n                }\n                className={`btn reject-loan-btn ${\n                  isLoading.rejectApplication ? \"loading disabled\" : \"\"\n                }`}\n                onClick={checkRejectModal}\n              >\n                {isLoading.rejectApplication ? (\n                  <SpinnerIcon className=\"rotating\" />\n                ) : (\n                  <>\n                    <TimesCircleFill /> Decline\n                  </>\n                )}\n              </button>\n            )}\n            {handleRejectModal()}\n          </div>\n        </div>\n      </header>\n\n      {isLoading.loadPage ? (\n        <div className=\"searching-block\">\n          <div className=\"svg-holder\">\n            <SpinnerIcon className=\"rotating\" />\n          </div>\n        </div>\n      ) : (\n        <main className=\"loan-inprocess-page\">\n          {isLoading.userFull && (\n            <div className=\"searching-block\">\n              <div className=\"svg-holder\">\n                <SpinnerIcon className=\"rotating\" />\n              </div>\n            </div>\n          )}\n          {!isLoading.userFull && showSection === \"all\" && (\n            <div className=\"customer-details row animated fadeIn delay-05s\">\n              <div className=\"loan-details col\">\n                <div className=\"details-header\">Loan Details</div>\n                <div className=\"row\">\n                  <div className=\"col-12 mb-1\">Requested by:</div>\n                  <div className=\"col\">{loan.name}</div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-12 mb-1\">Loan Type:</div>\n                  <div className=\"col\">{loan.loanApp.criteria_purpose}</div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-12 mb-1\">Amount Requested:</div>\n                  <div className=\"col\">\n                    &#8358; {numeral(loan.loanApp.amount).format(\"0,0\")}\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-12 mb-1\">Amount Offered:</div>\n                  <div className=\"col\">\n                    &#8358; {numeral(loan.loanApp.approvedAmount).format(\"0,0\")}\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-12 mb-1\">Tenor Requested:</div>\n                  <div className=\"col\">\n                    {loan.loanApp.requested_loan_tenure} Months\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-12 mb-1\">Tenor Offered:</div>\n                  <div className=\"col\">\n                    {loan.loanApp.approvedTenure} Months\n                  </div>\n                </div>\n              </div>\n              <div className=\"personal-details col\">\n                <div className=\"details-header\">Personal Details</div>\n                <div className=\"row\">\n                  <div className=\"col-5\">Customer Name:</div>\n                  <div className=\"col\">{loan.name}</div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-5\">Customer Email:</div>\n                  <div className=\"col\">{loan.email}</div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-5\">Customer phone:</div>\n                  <div className=\"col\">{loan.phone}</div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-5\">Date of birth:</div>\n                  <div className=\"col\">\n                    {moment(customer.dob).format(\"DD/MM/YYYY\")}\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-5\">Marital Status:</div>\n                  <div className=\"col\">{maritalStatus || \"N/A\"}</div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-5\">Residential Address:</div>\n                  <div className=\"col\">{residentialAddress || \"N/A\"}</div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-5\">Length of Stay in Address:</div>\n                  <div className=\"col\">{lengthOfStayAtAddress || \"N/A\"}</div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-5\">Business Engaged in:</div>\n                  <div className=\"col\">{engagingBusiness || \"N/A\"}</div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-5\">Years in Business:</div>\n                  <div className=\"col\">{yearsInBusiness || \"N/A\"}</div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-5\">Business Address:</div>\n                  <div className=\"col\">{businessAddress || \"N/A\"}</div>\n                </div>\n              </div>\n              <div className=\"col\">\n                <div className=\"text-center total-credit-score-div color-sec-green mt-5\">\n                  <div className=\"svg-holder\">\n                    <CircularProgressbar\n                      value={displayScore || 0}\n                      text={`${displayScore || 0}%`}\n                      styles={buildStyles({\n                        textColor:\n                          displayScore < 50 || undefined ? \"red\" : \"#2DBE7E\",\n                        pathColor:\n                          displayScore < 50 || undefined ? \"red\" : \"#2DBE7E\",\n                      })}\n                    />\n                  </div>\n                  <p\n                    className=\"font-weight-bold mb-5\"\n                    style={{ fontSize: \"24px\" }}\n                  >\n                    Total Credit Score\n                  </p>\n                  <p\n                    className=\"font-weight-bold mb-5\"\n                    style={{\n                      fontSize: \"20px\",\n                      color:\n                        displaySystemScore < 50 || undefined\n                          ? \"red\"\n                          : \"#2DBE7E\",\n                    }}\n                  >\n                    {`System Score: ${displaySystemScore || 0}`}\n                  </p>\n                  <p\n                    className=\"font-weight-bold mb-5\"\n                    style={{\n                      fontSize: \"20px\",\n                      color:\n                        Number(displayAdminScore) < 50 || undefined\n                          ? \"red\"\n                          : \"#2DBE7E\",\n                    }}\n                  >\n                    {`Admin Score: ${displayAdminScore || 0}`}\n                  </p>\n                  <p className=\"mb-5\">\n                    Click the button below to individual scoring details for\n                    loan application\n                  </p>\n                  <p>\n                    <button\n                      className=\"btn export-ifrs-btn\"\n                      onClick={(e) => setShowSection(\"loan-appraisal-scoring\")}\n                    >\n                      View Score{\" \"}\n                      <span className=\"pl-2\">\n                        <ArrowRightCircle />\n                      </span>\n                    </button>\n                  </p>\n                </div>\n              </div>\n            </div>\n          )}\n          {!isLoading.userFull && showSection === \"loan-appraisal-scoring\" && (\n            <div className=\"appraisal-scoring-page row animated fadeIn delay-05s\">\n              {score === true ? (\n                <UpdateScore\n                  adminWorkFlowLevel={adminWorkFlowLevel}\n                  loan={loan}\n                />\n              ) : (\n                <>\n                  <div className=\"col\">\n                    <div className=\"text-center total-credit-score-div color-sec-green mt-5\">\n                      <div className=\"svg-holder\">\n                        <CircularProgressbar\n                          value={displayScore || 0}\n                          text={`${displayScore || 0}%`}\n                          styles={buildStyles({\n                            textColor:\n                              displayScore < 50 || undefined\n                                ? \"red\"\n                                : \"#2DBE7E\",\n                            pathColor:\n                              displayScore < 50 || undefined\n                                ? \"red\"\n                                : \"#2DBE7E\",\n                          })}\n                        />\n                      </div>\n                      <p\n                        className=\"font-weight-bold mb-5\"\n                        style={{ fontSize: \"24px\" }}\n                      >\n                        Total Credit Score\n                      </p>\n                      <p\n                        className=\"font-weight-bold mb-5\"\n                        style={{\n                          fontSize: \"20px\",\n                          color:\n                            displaySystemScore < 50 || undefined\n                              ? \"red\"\n                              : \"#2DBE7E\",\n                        }}\n                      >\n                        {`System Score: ${displaySystemScore || 0}`}\n                      </p>\n                      <p\n                        className=\"font-weight-bold mb-5\"\n                        style={{\n                          fontSize: \"20px\",\n                          color:\n                            Number(displayAdminScore) < 50 || undefined\n                              ? \"red\"\n                              : \"#2DBE7E\",\n                        }}\n                      >\n                        {`Admin Score: ${displayAdminScore || 0}`}\n                      </p>\n                      {/* <p className=\"mb-5\">\n                        Click the button below to individual scoring details for\n                        loan application\n                      </p> */}\n                      <p>\n                        {/* <button\n                          className=\"btn export-ifrs-btn\"\n                          onClick={(e) =>\n                            setShowSection(\"loan-appraisal-scoring\")\n                          }\n                        >\n                          View Score{\" \"}\n                          <span className=\"pl-2\">\n                            <ArrowRightCircle />\n                          </span>\n                        </button> */}\n                      </p>\n                    </div>\n                    <div className=\"loan-details col\">\n                      <div className=\"mb-5\">\n                        <div className=\"details-header\">\n                          Loan Requirement Score Breakdown\n                        </div>\n                        {displayAppLoanScore()}\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"loan-details col\">\n                    <div className=\"mb-5\">\n                      <div className=\"details-header\"> Admin Score</div>\n                      {loan.adminLoanScore.length > 0\n                        ? displayAdminLoanScore()\n                        : displayBehLoanScore()}\n                    </div>\n                  </div>\n                </>\n              )}\n            </div>\n          )}\n          {!isLoading.userFull && showSection === \"documents\" && (\n            <div className=\"customer-documents-page animated fadeIn delay-05s\">\n              {scoreDoc === true ? (\n                <UpdateDoc loan={loan} />\n              ) : (\n                <>\n                  <div className=\"row\" style={{ gap: \"140px\" }}>\n                    {handleCriteriaFiles()}\n                  </div>\n                </>\n              )}\n            </div>\n          )}\n          <>\n            <LoanComments loanAppId={loan.loan_app_id} />\n          </>\n        </main>\n      )}\n    </>\n  );\n};\n\nconst ExportInProcessCustomer = () => {\n  return <InProcessCustomer />;\n};\n\nexport default ExportInProcessCustomer;\n"]},"metadata":{},"sourceType":"module"}