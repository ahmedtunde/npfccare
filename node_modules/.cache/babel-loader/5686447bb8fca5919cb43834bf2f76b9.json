{"ast":null,"code":"import _defineProperty from\"/Users/xerde2/Downloads/npf-admin-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/xerde2/Downloads/npf-admin-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/Users/xerde2/Downloads/npf-admin-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/xerde2/Downloads/npf-admin-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/Users/xerde2/Downloads/npf-admin-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/xerde2/Downloads/npf-admin-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Fragment,useCallback,useState,useEffect,useRef}from\"react\";import{addMonths}from\"date-fns\";import{useReactToPrint}from\"react-to-print\";import face from\"../../../assets/img/placeholder-img.png\";import placeholderImg from\"../../../assets/img/placeholder-img.png\";import{ReactComponent as PenFill}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/icons/pen.svg\";import{ReactComponent as CheckCircleFill}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/icons/check-circle-fill.svg\";import{ReactComponent as TimesCircleFill}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/icons/times-circle-fill.svg\";import{ReactComponent as ArrowRightShort}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/icons/arrow-right-short.svg\";import{ReactComponent as FileEarmarkImage}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/icons/file-earmark-image.svg\";import{ReactComponent as CloudDownloadIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/icons/cloud-computing-download.svg\";import{ReactComponent as PrintIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/icons/print-icon.svg\";import{ReactComponent as SpinnerIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/icons/spinner.svg\";import{useHistory,useLocation,useRouteMatch}from\"react-router-dom\";import moment from\"moment\";import numeral from\"numeral\";import{useAuth}from\"../../utilities\";import errorHandler from\"../../../utils/errorHandler\";import notify from\"../../../utils/notification\";import LoanRightOptions from\"../loanRightOptions\";import{disburseLoan,getCustomerById,getLoanScore,getFiles,getBranchById}from\"../../../services/loanService\";import{ApprovalModal,BookAndAcceptLoanModal,CommentModal,DisburseModal,NarrativeModal}from\"./approvalModal\";import{getAdminName,getRoles as getAdminRoles}from\"../../../utils/localStorageService\";import{getCustomer}from\"../../../services/customerService\";import LoanComments from\"../loanComment\";var Customer=function Customer(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),score=_useState2[0],setScore=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),scoreDoc=_useState4[0],setScoreDoc=_useState4[1];var history=useHistory();var _useRouteMatch=useRouteMatch(),url=_useRouteMatch.url,params=_useRouteMatch.params;var location=useLocation();var locationState=location.state,pathname=location.pathname,search=location.search;var auth=useAuth();var adminName=getAdminName();var roles=getAdminRoles();// useCallback ensures that handle error function isn't recreated on every render\nvar handleError=useCallback(function(errorObject,notify,cb){return errorHandler(auth)(errorObject,notify,cb);},[auth]);var _useState5=useState({PND:false,account_status:null,address:\"N/A\",bucket:\"npf-mfb\",bvnhash:\"\",companyCode:null,createdAt:\"\",customerNumber:\"\",dob:\"\",document_key:\"\",document_location:\"\",document_number:\"\",document_type_id:0,email:\"thatguy@everyone.me\",enabled:true,firstname:\"Janet\",force_number:\"\",has_pin:false,id:0,ippis_number:\"\",isnewbankcustomer:null,document_issue_date:\"\",document_expiry_date:\"\",photostatus:\"PENDING\",documentstatus:\"PENDING\",signaturestatus:\"PENDING\",livelinesschecked:\"PENDING\",isotpverified:true,lastname:\"Montoya\",middlename:\"N/A\",otpstatus:null,phone:\"\",photo_key:\"\",photo_location:\"\",photo_number:null,pob:null,registration_channel:\"\",salary_officer:true,signature_key:\"\",signature_location:\"\",simswapstatus:null,updatedAt:\"\",user:0,video_key:\"\",video_location:\"\",signup_incomplete:true,accounts:[]}),_useState6=_slicedToArray(_useState5,2),customer=_useState6[0],setCustomer=_useState6[1];var _useState7=useState({name:\"\",email:\"\",photo_location:\"\",bvn:null,phone:\"\",profilecomplete:\"\",livelinesschecked:\"\",dti:0,loan_app_id:0,createdBy:0,createdAt:\"\",updatedAt:\"\",loanApp:{name:\"\",loan_product_id:0,amount:0,workFlowLevel:1,approvalBranch_id:0,monthlyIncome:0,approvedAmount:0,approvedTenure:0,loan_purpose:\"\",creditRptRequested:false,status:\"\",narrative:\"\",date_completed:null,customer_id:0,requested_loan_tenure:0,createdAt:\"\",updatedAt:\"\",loanProduct:{name:\"\",productType:\"\",creditScoringType:\"\",interestRate:0,maxTerm:0,maxTermUnit:\"\",limit:0,repaymentReqmt:\"\",guarantorsCnt:0,createdAt:\"\",updatedAt:\"\",loanProductCategory:{name:\"\",description:\"\",categoryType:\"\",createdAt:\"\",updatedAt:\"\"},fileUpload:[]}}}),_useState8=_slicedToArray(_useState7,2),loan=_useState8[0],setLoan=_useState8[1];var _useState9=useState(\"all\"),_useState10=_slicedToArray(_useState9,2),showSection=_useState10[0],setSection=_useState10[1];// const [showAuditHistory, setShowAuditHistory] = useState(\"all\");\nvar _useState11=useState({userFull:false,acceptApplication:false,rejectApplication:false,approveApplication:false,printApplication:false,loadPage:false}),_useState12=_slicedToArray(_useState11,2),isLoading=_useState12[0],setLoading=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isScoringActive=_useState14[0],setScoringActive=_useState14[1];var _useState15=useState({}),_useState16=_slicedToArray(_useState15,2),values=_useState16[0],setValues=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),approveModalBtn=_useState18[0],setApproveModalBtn=_useState18[1];var _useState19=useState({}),_useState20=_slicedToArray(_useState19,2),approveData=_useState20[0],setApproveData=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),narrativeModalBtn=_useState22[0],setNarrativeModalBtn=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),acceptModalBtn=_useState24[0],setAcceptModalBtn=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),disburseModalBtn=_useState26[0],setDisburseModalBtn=_useState26[1];var _useState27=useState([]),_useState28=_slicedToArray(_useState27,2),guarantorFiles=_useState28[0],setGuarantorFiles=_useState28[1];var _useState29=useState([]),_useState30=_slicedToArray(_useState29,2),criteriaFiles=_useState30[0],setCriteriaFiles=_useState30[1];var _useState31=useState(\"\"),_useState32=_slicedToArray(_useState31,2),userBranch=_useState32[0],setUserBranch=_useState32[1];var _useState33=useState(\"\"),_useState34=_slicedToArray(_useState33,2),maritalStatus=_useState34[0],setMaritalStatus=_useState34[1];var _useState35=useState(\"\"),_useState36=_slicedToArray(_useState35,2),residentialAddress=_useState36[0],setResidentialAddress=_useState36[1];var _useState37=useState(\"\"),_useState38=_slicedToArray(_useState37,2),lengthOfStayAtAddress=_useState38[0],setLengthOfStayAtAddress=_useState38[1];var _useState39=useState(\"\"),_useState40=_slicedToArray(_useState39,2),engagingBusiness=_useState40[0],setEngagingBusiness=_useState40[1];var _useState41=useState(\"\"),_useState42=_slicedToArray(_useState41,2),yearsInBusiness=_useState42[0],setYearsInBusiness=_useState42[1];var _useState43=useState(\"\"),_useState44=_slicedToArray(_useState43,2),businessAddress=_useState44[0],setBusinessAddress=_useState44[1];var _useState45=useState(false),_useState46=_slicedToArray(_useState45,2),commentModalBtn=_useState46[0],setCommentModalBtn=_useState46[1];var _useState47=useState({}),_useState48=_slicedToArray(_useState47,2),commentData=_useState48[0],setCommentData=_useState48[1];var searchParams=new URLSearchParams(search);var loanCustomerId=searchParams.get(\"id\");useEffect(function(){function handleFetchSingleLoan(_x){return _handleFetchSingleLoan.apply(this,arguments);}function _handleFetchSingleLoan(){_handleFetchSingleLoan=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(loanCustomerId){var loanApp,userId,loanUser,loanAppId,loanScore,customerFiles,allCriteriaFiles,id,branch;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;handleChangeLoading(\"loadPage\",true);setApproveModalBtn(false);setNarrativeModalBtn(false);setAcceptModalBtn(false);setDisburseModalBtn(false);_context.next=8;return getCustomerById(loanCustomerId);case 8:loanApp=_context.sent;if(!loanApp.error){_context.next=11;break;}return _context.abrupt(\"return\",notify(loanApp.data,\"error\"));case 11:if(!(loanApp.data===null)){_context.next=15;break;}notify(\"Loan Not Found\",\"error\");history.push(\"/pages/loanMan\");return _context.abrupt(\"return\");case 15:userId=loanApp.data.loanApp.customer_id;_context.next=18;return getCustomer(userId);case 18:loanUser=_context.sent;if(!loanUser.error){_context.next=21;break;}return _context.abrupt(\"return\",notify(loanUser.message,\"error\"));case 21:if(!(loanUser.result===null)){_context.next=25;break;}notify(\"Customer Not Found\",\"error\");history.push(\"/pages/loanMan\");return _context.abrupt(\"return\");case 25:loanAppId=loanApp.data.loanApp.id;_context.next=28;return getLoanScore(loanAppId);case 28:loanScore=_context.sent;if(!loanScore.error){_context.next=31;break;}return _context.abrupt(\"return\",notify(loanScore.message,\"error\"));case 31:if(!(loanScore.data===null)){_context.next=34;break;}notify(\"LoanScore Not Found\",\"error\");return _context.abrupt(\"return\");case 34:_context.next=36;return getFiles(loanAppId);case 36:customerFiles=_context.sent;if(!customerFiles.error){_context.next=39;break;}return _context.abrupt(\"return\",notify(customerFiles.message,\"error\"));case 39:if(!(customerFiles.data===null)){_context.next=42;break;}notify(\"Files Not Found\",\"error\");return _context.abrupt(\"return\");case 42:setLoan(function(prev){return _objectSpread(_objectSpread(_objectSpread({},prev),loanApp.data),{},{loanScore:loanScore.data,fileUpload:customerFiles.data});});setCustomer(function(prev){return _objectSpread(_objectSpread({},prev),loanUser.result);});allCriteriaFiles=[];loan.fileUpload&&loan.fileUpload.map(function(file){if(!file.fileName.includes(\"guarantor\")&&!file.fileName.includes(\"pdf\")){allCriteriaFiles.push(file.fileName);var newFiles=_toConsumableArray(new Set(allCriteriaFiles));setCriteriaFiles(newFiles);// console.log(file);\n}if(file.fileName.includes(\"guarantor\")){setGuarantorFiles([file]);}});loan.loanApp.baseInfoValues&&loan.loanApp.baseInfoValues.map(function(info){if(info.baseInfo.name.includes(\"maritalStatus\")){setMaritalStatus(info.value);}if(info.baseInfo.name.includes(\"residentialAddress\")){setResidentialAddress(info.value);}if(info.baseInfo.name.includes(\"lengthOfStayAtAddress\")){setLengthOfStayAtAddress(info.value);}if(info.baseInfo.name.includes(\"engagingBusiness\")){setEngagingBusiness(info.value);}if(info.baseInfo.name.includes(\"yearsInBusiness\")){setYearsInBusiness(info.value);}if(info.baseInfo.name.includes(\"businessAddress\")){setBusinessAddress(info.value);}});// if(criteriaFiles.length > 0){\n// }\nif(!(loan.loanApp.approvalBranch_id>0)){_context.next=53;break;}id=loan.loanApp.approvalBranch_id;_context.next=51;return getBranchById(id);case 51:branch=_context.sent;setUserBranch(branch.data.name);case 53:handleChangeLoading(\"loadPage\",false);_context.next=59;break;case 56:_context.prev=56;_context.t0=_context[\"catch\"](0);handleError(_context.t0,notify,function(){return handleChangeLoading(\"userFull\",false);});case 59:case\"end\":return _context.stop();}}},_callee,null,[[0,56]]);}));return _handleFetchSingleLoan.apply(this,arguments);}handleFetchSingleLoan(loanCustomerId);},[history,loanCustomerId,handleError,loan.loanApp.approvalBranch_id]);var handleChangeLoading=function handleChangeLoading(name,value){return setLoading(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},name,value));});};var handleApprovalModal=function handleApprovalModal(){return/*#__PURE__*/_jsx(ApprovalModal,{approveModalBtn:approveModalBtn,setApproveModalBtn:setApproveModalBtn,approveData:approveData,setApproveData:setApproveData});};var handleRejectModal=function handleRejectModal(){return/*#__PURE__*/_jsx(NarrativeModal,{narrativeModalBtn:narrativeModalBtn,setNarrativeModalBtn:setNarrativeModalBtn,approveData:approveData});};var handleDisburseModal=function handleDisburseModal(){return/*#__PURE__*/_jsx(DisburseModal,{disburseModalBtn:disburseModalBtn,setDisburseModalBtn:setDisburseModalBtn,approveData:approveData});};var handleCommentModel=function handleCommentModel(){return/*#__PURE__*/_jsx(CommentModal,{commentModalBtn:commentModalBtn,setCommentModalBtn:setCommentModalBtn,commentData:commentData});};var name=loan.name.split(\" \");var checkDisburseModal=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var guarantorId,today,expiryDate,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setDisburseModalBtn(function(prev){return!prev;});guarantorId=loan.loanApp.guarantors&&loan.loanApp.guarantors.map(function(file,idx){console.log(file);var ids=[];ids.push(file.id);return ids;});today=new Date();expiryDate=addMonths(today,Number(loan.loanApp.approvedTenure));data={email:loan.email,firstname:name[0],lastname:name[1],customerId:customer.customerNumber,productName:loan.loanApp.loanProduct.name,productId:loan.loanApp.loanProduct.id,loanAppId:loan.loan_app_id,approvedAmount:loan.loanApp.approvedAmount,approvedTenure:loan.loanApp.approvedTenure,interestRate:loan.loanApp.loanProduct.interestRate,guarantorId:\"\".concat(guarantorId.join(\"&\")),sn:loan.loan_app_id,accountNo:loan.loanApp.account_no,settlementAccount:loan.loanApp.account_no,customerName:\"\".concat(name[0],\" \").concat(name[1]),productType:loan.loanApp.loanProduct.loanProductCategory.categoryType,customerType:\"N/A\",sector:\"N/A\",expiryDate:\"\".concat(expiryDate),tenorInDays:loan.loanApp.approvedTenure*30,legacyID:0,authorizedLimit:loan.loanApp.loanProduct.limit,arrangementFee:0,riskRating:\"N/A\",numberOfPaymentsOutstanding:0,daysPastDue:0,pastDueObligationInterest:0,subStatus:\"N/A\",status:loan.loanApp.status,contratualIntRate:0,annualEffectiveInterestRate:0,restructure:\"N/A\",paymentFrequencyPrincipal:\"N/A\",paymentFreqInterest:\"N/A\",collateralStatus:\"N/A\",collateralType:\"N/A\",otherCollateral:\"N/A\",collateralvalue:\"N/A\",daysToRealization:0};setApproveData(data);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function checkDisburseModal(){return _ref.apply(this,arguments);};}();var checkApprovalModal=function checkApprovalModal(){setApproveModalBtn(function(prev){return!prev;});var data={status:\"APPROVE\",narrative:\"\",isWithinLimit:true,email:loan.email,firstname:name[0],lastname:name[1],productName:loan.loanApp.loanProduct.name,loanAppId:loan.loan_app_id,limit:loan.loanApp.loanProduct.limit,maxTerm:loan.loanApp.loanProduct.maxTerm,applicationDate:loan.loanApp.createdAt,customerId:customer.id};setApproveData(data);};var checkRejectModal=function checkRejectModal(){setNarrativeModalBtn(function(prev){return!prev;});var data={status:\"REJECT\",narrative:\"\",isWithinLimit:true,email:loan.email,firstname:name[0],lastname:name[1],productName:loan.loanApp.loanProduct.name,loanAppId:loan.loan_app_id};setApproveData(data);};var checkCommentModal=function checkCommentModal(){setCommentModalBtn(function(prev){return!prev;});var data={loanAppId:loan.loan_app_id};setCommentData(data);};var handleCriteriaFiles=function handleCriteriaFiles(){return criteriaFiles&&criteriaFiles.map(function(file,idx){return/*#__PURE__*/_jsxs(\"div\",{className:\"col-5 document-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:file,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"document-info\",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(FileEarmarkImage,{})}),/*#__PURE__*/_jsxs(\"b\",{children:[\"Document \",\"\".concat(idx+1)]}),/*#__PURE__*/_jsx(\"div\",{className:\"file-action-icons\",children:/*#__PURE__*/_jsx(\"span\",{\"data-toggle\":\"tooltip\",\"data-placement\":\"bottom\",title:\"Download signature\",children:/*#__PURE__*/_jsx(\"a\",{href:file,target:\"_blank\",rel:\"noreferrer\",download:\"\".concat(customer.firstname,\"-signature\"),children:/*#__PURE__*/_jsx(CloudDownloadIcon,{})})})})]})]},file);});};var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setValues(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},name,name===\"document_number\"?value.trim():value));});};var componentRef=useRef();var handlePrint=useReactToPrint({content:function content(){return componentRef.current;}});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return history.goBack();},className:\"btn btn-primary back-btn\",children:/*#__PURE__*/_jsx(ArrowRightShort,{})}),\"Loan Application Details\"]}),/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(\"a\",{className:showSection===\"all\"?\"active\":\"\",onClick:function onClick(e){return setSection(\"all\");},children:\"Customer Details\"}),/*#__PURE__*/_jsx(\"a\",{className:showSection===\"loan-details\"?\"active\":\"\",onClick:function onClick(e){return setSection(\"loan-details\");},children:\"Loan Details\"}),/*#__PURE__*/_jsx(\"a\",{className:showSection===\"documents\"?\"active\":\"\",onClick:function onClick(e){return setSection(\"documents\");},children:\"Documents\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"small-admin-details\",children:[/*#__PURE__*/_jsx(\"img\",{src:face,alt:\"\"}),adminName||\"NPF Admin\",/*#__PURE__*/_jsx(\"i\",{className:\"arrow down\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"some-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn approve-loan-btn \".concat(isLoading.approveApplication?\"loading disabled\":\"\"),onClick:checkCommentModal,children:isLoading.approveApplication?/*#__PURE__*/_jsx(SpinnerIcon,{className:\"rotating\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PenFill,{}),\" Add Comment\"]})}),handleCommentModel(),roles!==\"AUDIT\"&&loan.loanApp.status===\"APPROVE\"&&/*#__PURE__*/_jsx(\"button\",{className:\"btn accept-loan-btn \".concat(isLoading.acceptApplication?\"loading disabled\":\"\"),onClick:checkDisburseModal,children:isLoading.acceptApplication?/*#__PURE__*/_jsx(SpinnerIcon,{className:\"rotating\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CheckCircleFill,{}),\" Disburse\"]})}),handleDisburseModal(),roles!==\"AUDIT\"&&loan.loanApp.status===\"APPROVE\"&&/*#__PURE__*/_jsx(\"button\",{className:\"btn reject-loan-btn \".concat(isLoading.rejectApplication?\"loading disabled\":\"\"),onClick:checkRejectModal,children:isLoading.rejectApplication?/*#__PURE__*/_jsx(SpinnerIcon,{className:\"rotating\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TimesCircleFill,{}),\" Decline\"]})}),handleRejectModal(),roles!==\"AUDIT\"&&loan.loanApp.status===\"REJECT\"&&/*#__PURE__*/_jsx(\"button\",{className:\"btn approve-loan-btn \".concat(isLoading.approveApplication?\"loading disabled\":\"\"),onClick:checkApprovalModal,children:isLoading.approveApplication?/*#__PURE__*/_jsx(SpinnerIcon,{className:\"rotating\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CheckCircleFill,{}),\" Approve\"]})}),handleApprovalModal(),/*#__PURE__*/_jsx(\"button\",{onClick:handlePrint,className:\"btn print-loan-btn \".concat(isLoading.printApplication?\"loading disabled\":\"\"),children:isLoading.printApplication?/*#__PURE__*/_jsx(SpinnerIcon,{className:\"rotating\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PrintIcon,{}),\" Print\"]})})]})]})]}),isLoading.loadPage?/*#__PURE__*/_jsx(\"div\",{className:\"searching-block\",children:/*#__PURE__*/_jsx(\"div\",{className:\"svg-holder\",children:/*#__PURE__*/_jsx(SpinnerIcon,{className:\"rotating\"})})}):/*#__PURE__*/_jsxs(\"main\",{ref:componentRef,className:\"customers-page\",children:[isLoading.userFull&&/*#__PURE__*/_jsx(\"div\",{className:\"searching-block\",children:/*#__PURE__*/_jsx(\"div\",{className:\"svg-holder\",children:/*#__PURE__*/_jsx(SpinnerIcon,{className:\"rotating\"})})}),!isLoading.userFull&&showSection===\"all\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"customer-details row animated fadeIn delay-05s\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"left-side col-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"img-holder\",children:/*#__PURE__*/_jsx(\"img\",{src:customer.photo_location||placeholderImg,alt:customer.firstname})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"right-side col row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"personal-details col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"details-header\",children:\"Personal Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Customer Name:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[customer.firstname,\" \",customer.lastname]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Customer Email:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:customer.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Customer phone:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:customer.phone})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Date of birth:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:moment(customer.dob).format(\"DD/MM/YYYY\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Marital Status:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:maritalStatus||\"N/A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Residential Address:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:residentialAddress||\"N/A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Length of Stay in Address:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:lengthOfStayAtAddress||\"N/A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Business Engaged in:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:engagingBusiness||\"N/A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Years in Business:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:yearsInBusiness||\"N/A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Business Address:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:businessAddress||\"N/A\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"other-details col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bank-details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"details-header\",children:\"Bank Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Bank Account No:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:loan.loanApp.account_no||\"N/A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"BVN Number:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:customer.bvnhash||\"N/A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Customer branch:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:userBranch||\"E-channels\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kin-details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"details-header\",children:\"Next of Kin Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Next of Kin:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:customer.kin_name||\"N/A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Relationship:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:customer.kin_relationship||\"N/A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Phone Number:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:customer.kin_phone||\"N/A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Business:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:customer.kin_business||\"N/A\"})]})]})]})]})]}),!isLoading.userFull&&showSection===\"loan-details\"&&/*#__PURE__*/_jsx(\"div\",{className:\"customer-documents-page animated fadeIn delay-05s\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loan-details-container col-9\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"left-side col row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"other-details col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"loan-customer-details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"details-header\",children:\"Customer\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Customer Type\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:\"Regular Customer\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Customer ID:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:customer.id})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Customer phone:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:customer.phone||\"N/A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Group ID Asset Class:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:\"N/A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Marital Status:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:maritalStatus})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"DTI Ratio:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsxs(\"span\",{className:loan.dti<50?\"dti negative\":\"dti positive\",children:[loan.dti,\"%\"]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"repay-details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"details-header\",children:\"Repayment Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Interest Rate:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[loan.loanApp.loanProduct.interestRate,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Tenor Requested:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[loan.loanApp.requested_loan_tenure,\" Months\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Tenor Offered:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[loan.loanApp.approvedTenure,\" Months\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Payment Frequency:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:\"Monthly\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Repayment Start:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:moment(loan.loanApp.createdAt).format(\"DD/MM/YYYY\")})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"loan-main-details col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"details-header\",children:\"Loan Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Loan Product:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:loan.loanApp.loanProduct.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Classification:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:loan.loanApp.loanProduct.loanProductCategory.categoryType})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Date of Application:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:moment(loan.loanApp.createdAt).format(\"DD/MM/YYYY\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Date of Approval:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:moment(loan.loanApp.updatedAt).format(\"DD/MM/YYYY\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Currency:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:\"Nigerian Naira (NGN)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Amount Requested:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[\"\\u20A6\",\" \",numeral(loan.loanApp.amount).format(\"0,0\")||0.0]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Amount Offered:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[\"\\u20A6\",\" \",numeral(loan.loanApp.approvedAmount).format(\"0,0\")||0.0]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Purpose:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:loan.loanApp.loan_purpose})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Source of funds:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:loan.loanApp.loanApp_repayment||\"N/A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Average Salary:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[\"\\u20A6\",\" \",numeral(loan.loanApp.monthlyIncome).format(\"0,0\")]})]})]})]})}),/*#__PURE__*/_jsx(LoanRightOptions,{isScoringActive:isScoringActive,setScoringActive:setScoringActive,loan:loan})]})}),!isLoading.userFull&&showSection===\"documents\"&&/*#__PURE__*/_jsx(\"div\",{className:\"customer-documents-page animated fadeIn delay-05s\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"loan-documents-container col-9\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"id-document-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"details-header\",children:\"Guarantor Details\"}),loan.loanApp.guarantors.map(function(data,idx){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"scoring-opt-div\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[guarantorFiles.map(function(file,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"col-5 document-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:file.fileName,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"document-info\",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(FileEarmarkImage,{})}),/*#__PURE__*/_jsxs(\"b\",{children:[\"Guarantor Form \",idx+1]}),/*#__PURE__*/_jsx(\"div\",{className:\"file-action-icons\",children:/*#__PURE__*/_jsx(\"span\",{\"data-toggle\":\"tooltip\",\"data-placement\":\"bottom\",title:\"Download ID\",children:/*#__PURE__*/_jsx(\"a\",{href:file.fileName,target:\"_blank\",rel:\"noreferrer\",download:\"\".concat(customer.firstname,\"-ID\"),children:/*#__PURE__*/_jsx(CloudDownloadIcon,{})})})})]})]},file.id);}),/*#__PURE__*/_jsxs(\"div\",{className:\"col id-document-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Guarantor Name:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:data.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Guarantor ID:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:data.id})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Account Number:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:data.accountNumber})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Bank Name:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:data.bankName||\"N/A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-5\",children:\"Status:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(data.status===\"Verified\"?\"verified\":\"not-verified\",\" col\"),children:data.status||\"Not Verified\"})]})]})]},data.id)]});})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"other-documents\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"details-header\",children:\"Other Documents\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:handleCriteriaFiles()})]})]}),/*#__PURE__*/_jsx(LoanRightOptions,{isScoringActive:isScoringActive,setScoringActive:setScoringActive,loan:loan})]})}),/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(LoanComments,{loanAppId:loan.loan_app_id})})]})]});};export default Customer;","map":{"version":3,"sources":["/Users/xerde2/Downloads/npf-admin-web/src/components/loanManagement/customer/index.js"],"names":["React","Fragment","useCallback","useState","useEffect","useRef","addMonths","useReactToPrint","face","placeholderImg","useHistory","useLocation","useRouteMatch","moment","numeral","useAuth","errorHandler","notify","LoanRightOptions","disburseLoan","getCustomerById","getLoanScore","getFiles","getBranchById","ApprovalModal","BookAndAcceptLoanModal","CommentModal","DisburseModal","NarrativeModal","getAdminName","getRoles","getAdminRoles","getCustomer","LoanComments","Customer","props","score","setScore","scoreDoc","setScoreDoc","history","url","params","location","locationState","state","pathname","search","auth","adminName","roles","handleError","errorObject","cb","PND","account_status","address","bucket","bvnhash","companyCode","createdAt","customerNumber","dob","document_key","document_location","document_number","document_type_id","email","enabled","firstname","force_number","has_pin","id","ippis_number","isnewbankcustomer","document_issue_date","document_expiry_date","photostatus","documentstatus","signaturestatus","livelinesschecked","isotpverified","lastname","middlename","otpstatus","phone","photo_key","photo_location","photo_number","pob","registration_channel","salary_officer","signature_key","signature_location","simswapstatus","updatedAt","user","video_key","video_location","signup_incomplete","accounts","customer","setCustomer","name","bvn","profilecomplete","dti","loan_app_id","createdBy","loanApp","loan_product_id","amount","workFlowLevel","approvalBranch_id","monthlyIncome","approvedAmount","approvedTenure","loan_purpose","creditRptRequested","status","narrative","date_completed","customer_id","requested_loan_tenure","loanProduct","productType","creditScoringType","interestRate","maxTerm","maxTermUnit","limit","repaymentReqmt","guarantorsCnt","loanProductCategory","description","categoryType","fileUpload","loan","setLoan","showSection","setSection","userFull","acceptApplication","rejectApplication","approveApplication","printApplication","loadPage","isLoading","setLoading","isScoringActive","setScoringActive","values","setValues","approveModalBtn","setApproveModalBtn","approveData","setApproveData","narrativeModalBtn","setNarrativeModalBtn","acceptModalBtn","setAcceptModalBtn","disburseModalBtn","setDisburseModalBtn","guarantorFiles","setGuarantorFiles","criteriaFiles","setCriteriaFiles","userBranch","setUserBranch","maritalStatus","setMaritalStatus","residentialAddress","setResidentialAddress","lengthOfStayAtAddress","setLengthOfStayAtAddress","engagingBusiness","setEngagingBusiness","yearsInBusiness","setYearsInBusiness","businessAddress","setBusinessAddress","commentModalBtn","setCommentModalBtn","commentData","setCommentData","searchParams","URLSearchParams","loanCustomerId","get","handleFetchSingleLoan","handleChangeLoading","error","data","push","userId","loanUser","message","result","loanAppId","loanScore","customerFiles","prev","allCriteriaFiles","map","file","fileName","includes","newFiles","Set","baseInfoValues","info","baseInfo","value","branch","handleApprovalModal","handleRejectModal","handleDisburseModal","handleCommentModel","split","checkDisburseModal","guarantorId","guarantors","idx","console","log","ids","today","Date","expiryDate","Number","customerId","productName","productId","join","sn","accountNo","account_no","settlementAccount","customerName","customerType","sector","tenorInDays","legacyID","authorizedLimit","arrangementFee","riskRating","numberOfPaymentsOutstanding","daysPastDue","pastDueObligationInterest","subStatus","contratualIntRate","annualEffectiveInterestRate","restructure","paymentFrequencyPrincipal","paymentFreqInterest","collateralStatus","collateralType","otherCollateral","collateralvalue","daysToRealization","checkApprovalModal","isWithinLimit","applicationDate","checkRejectModal","checkCommentModal","handleCriteriaFiles","handleChange","e","target","trim","componentRef","handlePrint","content","current","goBack","format","kin_name","kin_relationship","kin_phone","kin_business","loanApp_repayment","i","accountNumber","bankName"],"mappings":"2jCAAA,MAAOA,CAAAA,KAAP,EACEC,QADF,CAEEC,WAFF,CAGEC,QAHF,CAIEC,SAJF,CAKEC,MALF,KAMO,OANP,CAOA,OAASC,SAAT,KAA0B,UAA1B,CACA,OAASC,eAAT,KAAgC,gBAAhC,CACA,MAAOC,CAAAA,IAAP,KAAiB,yCAAjB,CACA,MAAOC,CAAAA,cAAP,KAA2B,yCAA3B,C,k9BASA,OAASC,UAAT,CAAqBC,WAArB,CAAkCC,aAAlC,KAAuD,kBAAvD,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,SAApB,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,MAAOC,CAAAA,YAAP,KAAyB,6BAAzB,CACA,MAAOC,CAAAA,MAAP,KAAmB,6BAAnB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,qBAA7B,CACA,OACEC,YADF,CAEEC,eAFF,CAGEC,YAHF,CAIEC,QAJF,CAKEC,aALF,KAMO,+BANP,CAOA,OACEC,aADF,CAEEC,sBAFF,CAGEC,YAHF,CAIEC,aAJF,CAKEC,cALF,KAMO,iBANP,CAOA,OACEC,YADF,CAEEC,QAAQ,GAAIC,CAAAA,aAFd,KAGO,oCAHP,CAIA,OAASC,WAAT,KAA4B,mCAA5B,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAW,eACAhC,QAAQ,CAAC,KAAD,CADR,wCACnBiC,KADmB,eACZC,QADY,8BAEMlC,QAAQ,CAAC,KAAD,CAFd,yCAEnBmC,QAFmB,eAETC,WAFS,eAG1B,GAAMC,CAAAA,OAAO,CAAG9B,UAAU,EAA1B,CAH0B,mBAIFE,aAAa,EAJX,CAIlB6B,GAJkB,gBAIlBA,GAJkB,CAIbC,MAJa,gBAIbA,MAJa,CAK1B,GAAMC,CAAAA,QAAQ,CAAGhC,WAAW,EAA5B,CAL0B,GAMXiC,CAAAA,aANW,CAMyBD,QANzB,CAMlBE,KANkB,CAMIC,QANJ,CAMyBH,QANzB,CAMIG,QANJ,CAMcC,MANd,CAMyBJ,QANzB,CAMcI,MANd,CAO1B,GAAMC,CAAAA,IAAI,CAAGjC,OAAO,EAApB,CACA,GAAMkC,CAAAA,SAAS,CAAGpB,YAAY,EAA9B,CACA,GAAMqB,CAAAA,KAAK,CAAGnB,aAAa,EAA3B,CACA;AACA,GAAMoB,CAAAA,WAAW,CAAGjD,WAAW,CAC7B,SAACkD,WAAD,CAAcnC,MAAd,CAAsBoC,EAAtB,QAA6BrC,CAAAA,YAAY,CAACgC,IAAD,CAAZ,CAAmBI,WAAnB,CAAgCnC,MAAhC,CAAwCoC,EAAxC,CAA7B,EAD6B,CAE7B,CAACL,IAAD,CAF6B,CAA/B,CAX0B,eAgBM7C,QAAQ,CAAC,CACvCmD,GAAG,CAAE,KADkC,CAEvCC,cAAc,CAAE,IAFuB,CAGvCC,OAAO,CAAE,KAH8B,CAIvCC,MAAM,CAAE,SAJ+B,CAKvCC,OAAO,CAAE,EAL8B,CAMvCC,WAAW,CAAE,IAN0B,CAOvCC,SAAS,CAAE,EAP4B,CAQvCC,cAAc,CAAE,EARuB,CASvCC,GAAG,CAAE,EATkC,CAUvCC,YAAY,CAAE,EAVyB,CAWvCC,iBAAiB,CAAE,EAXoB,CAYvCC,eAAe,CAAE,EAZsB,CAavCC,gBAAgB,CAAE,CAbqB,CAcvCC,KAAK,CAAE,qBAdgC,CAevCC,OAAO,CAAE,IAf8B,CAgBvCC,SAAS,CAAE,OAhB4B,CAiBvCC,YAAY,CAAE,EAjByB,CAkBvCC,OAAO,CAAE,KAlB8B,CAmBvCC,EAAE,CAAE,CAnBmC,CAoBvCC,YAAY,CAAE,EApByB,CAqBvCC,iBAAiB,CAAE,IArBoB,CAsBvCC,mBAAmB,CAAE,EAtBkB,CAuBvCC,oBAAoB,CAAE,EAvBiB,CAwBvCC,WAAW,CAAE,SAxB0B,CAyBvCC,cAAc,CAAE,SAzBuB,CA0BvCC,eAAe,CAAE,SA1BsB,CA2BvCC,iBAAiB,CAAE,SA3BoB,CA4BvCC,aAAa,CAAE,IA5BwB,CA6BvCC,QAAQ,CAAE,SA7B6B,CA8BvCC,UAAU,CAAE,KA9B2B,CA+BvCC,SAAS,CAAE,IA/B4B,CAgCvCC,KAAK,CAAE,EAhCgC,CAiCvCC,SAAS,CAAE,EAjC4B,CAkCvCC,cAAc,CAAE,EAlCuB,CAmCvCC,YAAY,CAAE,IAnCyB,CAoCvCC,GAAG,CAAE,IApCkC,CAqCvCC,oBAAoB,CAAE,EArCiB,CAsCvCC,cAAc,CAAE,IAtCuB,CAuCvCC,aAAa,CAAE,EAvCwB,CAwCvCC,kBAAkB,CAAE,EAxCmB,CAyCvCC,aAAa,CAAE,IAzCwB,CA0CvCC,SAAS,CAAE,EA1C4B,CA2CvCC,IAAI,CAAE,CA3CiC,CA4CvCC,SAAS,CAAE,EA5C4B,CA6CvCC,cAAc,CAAE,EA7CuB,CA8CvCC,iBAAiB,CAAE,IA9CoB,CA+CvCC,QAAQ,CAAE,EA/C6B,CAAD,CAhBd,yCAgBnBC,QAhBmB,eAgBTC,WAhBS,8BAkEFnG,QAAQ,CAAC,CAC/BoG,IAAI,CAAE,EADyB,CAE/BpC,KAAK,CAAE,EAFwB,CAG/BoB,cAAc,CAAE,EAHe,CAI/BiB,GAAG,CAAE,IAJ0B,CAK/BnB,KAAK,CAAE,EALwB,CAM/BoB,eAAe,CAAE,EANc,CAO/BzB,iBAAiB,CAAE,EAPY,CAQ/B0B,GAAG,CAAE,CAR0B,CAS/BC,WAAW,CAAE,CATkB,CAU/BC,SAAS,CAAE,CAVoB,CAW/BhD,SAAS,CAAE,EAXoB,CAY/BmC,SAAS,CAAE,EAZoB,CAa/Bc,OAAO,CAAE,CACPN,IAAI,CAAE,EADC,CAEPO,eAAe,CAAE,CAFV,CAGPC,MAAM,CAAE,CAHD,CAIPC,aAAa,CAAE,CAJR,CAKPC,iBAAiB,CAAE,CALZ,CAMPC,aAAa,CAAE,CANR,CAOPC,cAAc,CAAE,CAPT,CAQPC,cAAc,CAAE,CART,CASPC,YAAY,CAAE,EATP,CAUPC,kBAAkB,CAAE,KAVb,CAWPC,MAAM,CAAE,EAXD,CAYPC,SAAS,CAAE,EAZJ,CAaPC,cAAc,CAAE,IAbT,CAcPC,WAAW,CAAE,CAdN,CAePC,qBAAqB,CAAE,CAfhB,CAgBP/D,SAAS,CAAE,EAhBJ,CAiBPmC,SAAS,CAAE,EAjBJ,CAkBP6B,WAAW,CAAE,CACXrB,IAAI,CAAE,EADK,CAEXsB,WAAW,CAAE,EAFF,CAGXC,iBAAiB,CAAE,EAHR,CAIXC,YAAY,CAAE,CAJH,CAKXC,OAAO,CAAE,CALE,CAMXC,WAAW,CAAE,EANF,CAOXC,KAAK,CAAE,CAPI,CAQXC,cAAc,CAAE,EARL,CASXC,aAAa,CAAE,CATJ,CAUXxE,SAAS,CAAE,EAVA,CAWXmC,SAAS,CAAE,EAXA,CAaXsC,mBAAmB,CAAE,CACnB9B,IAAI,CAAE,EADa,CAEnB+B,WAAW,CAAE,EAFM,CAGnBC,YAAY,CAAE,EAHK,CAInB3E,SAAS,CAAE,EAJQ,CAKnBmC,SAAS,CAAE,EALQ,CAbV,CAoBXyC,UAAU,CAAE,EApBD,CAlBN,CAbsB,CAAD,CAlEN,yCAkEnBC,IAlEmB,eAkEbC,OAlEa,8BA0HQvI,QAAQ,CAAC,KAAD,CA1HhB,0CA0HnBwI,WA1HmB,gBA0HNC,UA1HM,gBA2H1B;AA3H0B,gBA4HMzI,QAAQ,CAAC,CACvC0I,QAAQ,CAAE,KAD6B,CAEvCC,iBAAiB,CAAE,KAFoB,CAGvCC,iBAAiB,CAAE,KAHoB,CAIvCC,kBAAkB,CAAE,KAJmB,CAKvCC,gBAAgB,CAAE,KALqB,CAMvCC,QAAQ,CAAE,KAN6B,CAAD,CA5Hd,2CA4HnBC,SA5HmB,gBA4HRC,UA5HQ,gCAqIkBjJ,QAAQ,CAAC,KAAD,CArI1B,2CAqInBkJ,eArImB,gBAqIFC,gBArIE,gCAsIEnJ,QAAQ,CAAC,EAAD,CAtIV,2CAsInBoJ,MAtImB,gBAsIXC,SAtIW,gCAuIoBrJ,QAAQ,CAAC,KAAD,CAvI5B,2CAuInBsJ,eAvImB,gBAuIFC,kBAvIE,gCAwIYvJ,QAAQ,CAAC,EAAD,CAxIpB,2CAwInBwJ,WAxImB,gBAwINC,cAxIM,gCAyIwBzJ,QAAQ,CAAC,KAAD,CAzIhC,2CAyInB0J,iBAzImB,gBAyIAC,oBAzIA,gCA0IkB3J,QAAQ,CAAC,KAAD,CA1I1B,2CA0InB4J,cA1ImB,gBA0IHC,iBA1IG,gCA2IsB7J,QAAQ,CAAC,KAAD,CA3I9B,2CA2InB8J,gBA3ImB,gBA2IDC,mBA3IC,gCA4IkB/J,QAAQ,CAAC,EAAD,CA5I1B,2CA4InBgK,cA5ImB,gBA4IHC,iBA5IG,gCA6IgBjK,QAAQ,CAAC,EAAD,CA7IxB,2CA6InBkK,aA7ImB,gBA6IJC,gBA7II,gCA8IUnK,QAAQ,CAAC,EAAD,CA9IlB,2CA8InBoK,UA9ImB,gBA8IPC,aA9IO,gCA+IgBrK,QAAQ,CAAC,EAAD,CA/IxB,2CA+InBsK,aA/ImB,gBA+IJC,gBA/II,gCAgJ0BvK,QAAQ,CAAC,EAAD,CAhJlC,2CAgJnBwK,kBAhJmB,gBAgJCC,qBAhJD,gCAiJgCzK,QAAQ,CAAC,EAAD,CAjJxC,2CAiJnB0K,qBAjJmB,gBAiJIC,wBAjJJ,gCAkJsB3K,QAAQ,CAAC,EAAD,CAlJ9B,2CAkJnB4K,gBAlJmB,gBAkJDC,mBAlJC,gCAmJoB7K,QAAQ,CAAC,EAAD,CAnJ5B,2CAmJnB8K,eAnJmB,gBAmJFC,kBAnJE,gCAoJoB/K,QAAQ,CAAC,EAAD,CApJ5B,2CAoJnBgL,eApJmB,gBAoJFC,kBApJE,gCAqJoBjL,QAAQ,CAAC,KAAD,CArJ5B,2CAqJnBkL,eArJmB,gBAqJFC,kBArJE,gCAsJYnL,QAAQ,CAAC,EAAD,CAtJpB,2CAsJnBoL,WAtJmB,gBAsJNC,cAtJM,gBAwJ1B,GAAMC,CAAAA,YAAY,CAAG,GAAIC,CAAAA,eAAJ,CAAoB3I,MAApB,CAArB,CACA,GAAM4I,CAAAA,cAAc,CAAGF,YAAY,CAACG,GAAb,CAAiB,IAAjB,CAAvB,CAEAxL,SAAS,CAAC,UAAM,SACCyL,CAAAA,qBADD,2KACd,iBAAqCF,cAArC,2NAEIG,mBAAmB,CAAC,UAAD,CAAa,IAAb,CAAnB,CACApC,kBAAkB,CAAC,KAAD,CAAlB,CACAI,oBAAoB,CAAC,KAAD,CAApB,CACAE,iBAAiB,CAAC,KAAD,CAAjB,CACAE,mBAAmB,CAAC,KAAD,CAAnB,CANJ,sBAQ0B9I,CAAAA,eAAe,CAACuK,cAAD,CARzC,QAQU9E,OARV,mBAUQA,OAAO,CAACkF,KAVhB,0DAU8B9K,MAAM,CAAC4F,OAAO,CAACmF,IAAT,CAAe,OAAf,CAVpC,eAWQnF,OAAO,CAACmF,IAAR,GAAiB,IAXzB,2BAYM/K,MAAM,CAAC,gBAAD,CAAmB,OAAnB,CAAN,CACAuB,OAAO,CAACyJ,IAAR,CAAa,gBAAb,EAbN,yCAgBUC,MAhBV,CAgBmBrF,OAAO,CAACmF,IAAR,CAAanF,OAAb,CAAqBa,WAhBxC,wBAiB2B1F,CAAAA,WAAW,CAACkK,MAAD,CAjBtC,SAiBUC,QAjBV,mBAkBQA,QAAQ,CAACJ,KAlBjB,0DAkB+B9K,MAAM,CAACkL,QAAQ,CAACC,OAAV,CAAmB,OAAnB,CAlBrC,eAmBQD,QAAQ,CAACE,MAAT,GAAoB,IAnB5B,2BAoBMpL,MAAM,CAAC,oBAAD,CAAuB,OAAvB,CAAN,CACAuB,OAAO,CAACyJ,IAAR,CAAa,gBAAb,EArBN,yCAyBUK,SAzBV,CAyBsBzF,OAAO,CAACmF,IAAR,CAAanF,OAAb,CAAqBrC,EAzB3C,wBA2B4BnD,CAAAA,YAAY,CAACiL,SAAD,CA3BxC,SA2BUC,SA3BV,mBA4BQA,SAAS,CAACR,KA5BlB,0DA4BgC9K,MAAM,CAACsL,SAAS,CAACH,OAAX,CAAoB,OAApB,CA5BtC,eA6BQG,SAAS,CAACP,IAAV,GAAmB,IA7B3B,2BA8BM/K,MAAM,CAAC,qBAAD,CAAwB,OAAxB,CAAN,CA9BN,gEAkCgCK,CAAAA,QAAQ,CAACgL,SAAD,CAlCxC,SAkCUE,aAlCV,mBAmCQA,aAAa,CAACT,KAnCtB,0DAmCoC9K,MAAM,CAACuL,aAAa,CAACJ,OAAf,CAAwB,OAAxB,CAnC1C,eAoCQI,aAAa,CAACR,IAAd,GAAuB,IApC/B,2BAqCM/K,MAAM,CAAC,iBAAD,CAAoB,OAApB,CAAN,CArCN,yCAyCIyH,OAAO,CAAC,SAAC+D,IAAD,sDACHA,IADG,EAEH5F,OAAO,CAACmF,IAFL,MAGNO,SAAS,CAAEA,SAAS,CAACP,IAHf,CAINxD,UAAU,CAAEgE,aAAa,CAACR,IAJpB,IAAD,CAAP,CAOA1F,WAAW,CAAC,SAACmG,IAAD,wCACPA,IADO,EAEPN,QAAQ,CAACE,MAFF,GAAD,CAAX,CAKMK,gBArDV,CAqD6B,EArD7B,CAuDIjE,IAAI,CAACD,UAAL,EACEC,IAAI,CAACD,UAAL,CAAgBmE,GAAhB,CAAoB,SAACC,IAAD,CAAU,CAC5B,GACE,CAACA,IAAI,CAACC,QAAL,CAAcC,QAAd,CAAuB,WAAvB,CAAD,EACA,CAACF,IAAI,CAACC,QAAL,CAAcC,QAAd,CAAuB,KAAvB,CAFH,CAGE,CACAJ,gBAAgB,CAACT,IAAjB,CAAsBW,IAAI,CAACC,QAA3B,EACA,GAAME,CAAAA,QAAQ,oBAAO,GAAIC,CAAAA,GAAJ,CAAQN,gBAAR,CAAP,CAAd,CACApC,gBAAgB,CAACyC,QAAD,CAAhB,CACA;AACD,CAED,GAAIH,IAAI,CAACC,QAAL,CAAcC,QAAd,CAAuB,WAAvB,CAAJ,CAAyC,CACvC1C,iBAAiB,CAAC,CAACwC,IAAD,CAAD,CAAjB,CACD,CACF,CAdD,CADF,CAiBAnE,IAAI,CAAC5B,OAAL,CAAaoG,cAAb,EACExE,IAAI,CAAC5B,OAAL,CAAaoG,cAAb,CAA4BN,GAA5B,CAAgC,SAACO,IAAD,CAAU,CACxC,GAAIA,IAAI,CAACC,QAAL,CAAc5G,IAAd,CAAmBuG,QAAnB,CAA4B,eAA5B,CAAJ,CAAkD,CAChDpC,gBAAgB,CAACwC,IAAI,CAACE,KAAN,CAAhB,CACD,CAED,GAAIF,IAAI,CAACC,QAAL,CAAc5G,IAAd,CAAmBuG,QAAnB,CAA4B,oBAA5B,CAAJ,CAAuD,CACrDlC,qBAAqB,CAACsC,IAAI,CAACE,KAAN,CAArB,CACD,CAED,GAAIF,IAAI,CAACC,QAAL,CAAc5G,IAAd,CAAmBuG,QAAnB,CAA4B,uBAA5B,CAAJ,CAA0D,CACxDhC,wBAAwB,CAACoC,IAAI,CAACE,KAAN,CAAxB,CACD,CAED,GAAIF,IAAI,CAACC,QAAL,CAAc5G,IAAd,CAAmBuG,QAAnB,CAA4B,kBAA5B,CAAJ,CAAqD,CACnD9B,mBAAmB,CAACkC,IAAI,CAACE,KAAN,CAAnB,CACD,CAED,GAAIF,IAAI,CAACC,QAAL,CAAc5G,IAAd,CAAmBuG,QAAnB,CAA4B,iBAA5B,CAAJ,CAAoD,CAClD5B,kBAAkB,CAACgC,IAAI,CAACE,KAAN,CAAlB,CACD,CAED,GAAIF,IAAI,CAACC,QAAL,CAAc5G,IAAd,CAAmBuG,QAAnB,CAA4B,iBAA5B,CAAJ,CAAoD,CAClD1B,kBAAkB,CAAC8B,IAAI,CAACE,KAAN,CAAlB,CACD,CACF,CAxBD,CADF,CA2BA;AAEA;AArGJ,KAuGQ3E,IAAI,CAAC5B,OAAL,CAAaI,iBAAb,CAAiC,CAvGzC,2BAwGYzC,EAxGZ,CAwGiBiE,IAAI,CAAC5B,OAAL,CAAaI,iBAxG9B,wBAyG2B1F,CAAAA,aAAa,CAACiD,EAAD,CAzGxC,SAyGY6I,MAzGZ,eA0GM7C,aAAa,CAAC6C,MAAM,CAACrB,IAAP,CAAYzF,IAAb,CAAb,CA1GN,QA6GIuF,mBAAmB,CAAC,UAAD,CAAa,KAAb,CAAnB,CA7GJ,iFA+GI3I,WAAW,aAAQlC,MAAR,CAAgB,iBACzB6K,CAAAA,mBAAmB,CAAC,UAAD,CAAa,KAAb,CADM,EAAhB,CAAX,CA/GJ,qEADc,wDAqHdD,qBAAqB,CAACF,cAAD,CAArB,CACD,CAtHQ,CAsHN,CAACnJ,OAAD,CAAUmJ,cAAV,CAA0BxI,WAA1B,CAAuCsF,IAAI,CAAC5B,OAAL,CAAaI,iBAApD,CAtHM,CAAT,CAwHA,GAAM6E,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACvF,IAAD,CAAO6G,KAAP,QAC1BhE,CAAAA,UAAU,CAAC,SAACqD,IAAD,wCACNA,IADM,wBAERlG,IAFQ,CAED6G,KAFC,IAAD,CADgB,EAA5B,CAMA,GAAME,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAM,CAChC,mBACE,KAAC,aAAD,EACE,eAAe,CAAE7D,eADnB,CAEE,kBAAkB,CAAEC,kBAFtB,CAGE,WAAW,CAAEC,WAHf,CAIE,cAAc,CAAEC,cAJlB,EADF,CAQD,CATD,CAWA,GAAM2D,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,CAC9B,mBACE,KAAC,cAAD,EACE,iBAAiB,CAAE1D,iBADrB,CAEE,oBAAoB,CAAEC,oBAFxB,CAGE,WAAW,CAAEH,WAHf,EADF,CAOD,CARD,CAUA,GAAM6D,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAM,CAChC,mBACE,KAAC,aAAD,EACE,gBAAgB,CAAEvD,gBADpB,CAEE,mBAAmB,CAAEC,mBAFvB,CAGE,WAAW,CAAEP,WAHf,EADF,CAOD,CARD,CAUA,GAAM8D,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,CAC/B,mBACE,KAAC,YAAD,EACE,eAAe,CAAEpC,eADnB,CAEE,kBAAkB,CAAEC,kBAFtB,CAGE,WAAW,CAAEC,WAHf,EADF,CAOD,CARD,CAUA,GAAMhF,CAAAA,IAAI,CAAGkC,IAAI,CAAClC,IAAL,CAAUmH,KAAV,CAAgB,GAAhB,CAAb,CAEA,GAAMC,CAAAA,kBAAkB,0FAAG,8KACzBzD,mBAAmB,CAAC,SAACuC,IAAD,QAAU,CAACA,IAAX,EAAD,CAAnB,CAEMmB,WAHmB,CAIvBnF,IAAI,CAAC5B,OAAL,CAAagH,UAAb,EACApF,IAAI,CAAC5B,OAAL,CAAagH,UAAb,CAAwBlB,GAAxB,CAA4B,SAACC,IAAD,CAAOkB,GAAP,CAAe,CACzCC,OAAO,CAACC,GAAR,CAAYpB,IAAZ,EACA,GAAMqB,CAAAA,GAAG,CAAG,EAAZ,CACAA,GAAG,CAAChC,IAAJ,CAASW,IAAI,CAACpI,EAAd,EACA,MAAOyJ,CAAAA,GAAP,CACD,CALD,CALuB,CAYnBC,KAZmB,CAYX,GAAIC,CAAAA,IAAJ,EAZW,CAcnBC,UAdmB,CAcN9N,SAAS,CAAC4N,KAAD,CAAQG,MAAM,CAAC5F,IAAI,CAAC5B,OAAL,CAAaO,cAAd,CAAd,CAdH,CAgBrB4E,IAhBqB,CAgBd,CACT7H,KAAK,CAAEsE,IAAI,CAACtE,KADH,CAETE,SAAS,CAAEkC,IAAI,CAAC,CAAD,CAFN,CAGTrB,QAAQ,CAAEqB,IAAI,CAAC,CAAD,CAHL,CAIT+H,UAAU,CAAEjI,QAAQ,CAACxC,cAJZ,CAKT0K,WAAW,CAAE9F,IAAI,CAAC5B,OAAL,CAAae,WAAb,CAAyBrB,IAL7B,CAMTiI,SAAS,CAAE/F,IAAI,CAAC5B,OAAL,CAAae,WAAb,CAAyBpD,EAN3B,CAOT8H,SAAS,CAAE7D,IAAI,CAAC9B,WAPP,CAQTQ,cAAc,CAAEsB,IAAI,CAAC5B,OAAL,CAAaM,cARpB,CASTC,cAAc,CAAEqB,IAAI,CAAC5B,OAAL,CAAaO,cATpB,CAUTW,YAAY,CAAEU,IAAI,CAAC5B,OAAL,CAAae,WAAb,CAAyBG,YAV9B,CAWT6F,WAAW,WAAKA,WAAW,CAACa,IAAZ,CAAiB,GAAjB,CAAL,CAXF,CAYTC,EAAE,CAAEjG,IAAI,CAAC9B,WAZA,CAaTgI,SAAS,CAAElG,IAAI,CAAC5B,OAAL,CAAa+H,UAbf,CAcTC,iBAAiB,CAAEpG,IAAI,CAAC5B,OAAL,CAAa+H,UAdvB,CAeTE,YAAY,WAAKvI,IAAI,CAAC,CAAD,CAAT,aAAgBA,IAAI,CAAC,CAAD,CAApB,CAfH,CAgBTsB,WAAW,CAAEY,IAAI,CAAC5B,OAAL,CAAae,WAAb,CAAyBS,mBAAzB,CAA6CE,YAhBjD,CAiBTwG,YAAY,CAAE,KAjBL,CAkBTC,MAAM,CAAE,KAlBC,CAmBTZ,UAAU,WAAKA,UAAL,CAnBD,CAoBTa,WAAW,CAAExG,IAAI,CAAC5B,OAAL,CAAaO,cAAb,CAA8B,EApBlC,CAqBT8H,QAAQ,CAAE,CArBD,CAsBTC,eAAe,CAAE1G,IAAI,CAAC5B,OAAL,CAAae,WAAb,CAAyBM,KAtBjC,CAuBTkH,cAAc,CAAE,CAvBP,CAwBTC,UAAU,CAAE,KAxBH,CAyBTC,2BAA2B,CAAE,CAzBpB,CA0BTC,WAAW,CAAE,CA1BJ,CA2BTC,yBAAyB,CAAE,CA3BlB,CA4BTC,SAAS,CAAE,KA5BF,CA6BTlI,MAAM,CAAEkB,IAAI,CAAC5B,OAAL,CAAaU,MA7BZ,CA8BTmI,iBAAiB,CAAE,CA9BV,CA+BTC,2BAA2B,CAAE,CA/BpB,CAgCTC,WAAW,CAAE,KAhCJ,CAiCTC,yBAAyB,CAAE,KAjClB,CAkCTC,mBAAmB,CAAE,KAlCZ,CAmCTC,gBAAgB,CAAE,KAnCT,CAoCTC,cAAc,CAAE,KApCP,CAqCTC,eAAe,CAAE,KArCR,CAsCTC,eAAe,CAAE,KAtCR,CAuCTC,iBAAiB,CAAE,CAvCV,CAhBc,CAyDzBvG,cAAc,CAACoC,IAAD,CAAd,CAzDyB,wDAAH,kBAAlB2B,CAAAA,kBAAkB,0CAAxB,CA4DA,GAAMyC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,CAC/B1G,kBAAkB,CAAC,SAAC+C,IAAD,QAAU,CAACA,IAAX,EAAD,CAAlB,CAEA,GAAIT,CAAAA,IAAI,CAAG,CACTzE,MAAM,CAAE,SADC,CAETC,SAAS,CAAE,EAFF,CAGT6I,aAAa,CAAE,IAHN,CAITlM,KAAK,CAAEsE,IAAI,CAACtE,KAJH,CAKTE,SAAS,CAAEkC,IAAI,CAAC,CAAD,CALN,CAMTrB,QAAQ,CAAEqB,IAAI,CAAC,CAAD,CANL,CAOTgI,WAAW,CAAE9F,IAAI,CAAC5B,OAAL,CAAae,WAAb,CAAyBrB,IAP7B,CAQT+F,SAAS,CAAE7D,IAAI,CAAC9B,WARP,CASTuB,KAAK,CAAEO,IAAI,CAAC5B,OAAL,CAAae,WAAb,CAAyBM,KATvB,CAUTF,OAAO,CAAES,IAAI,CAAC5B,OAAL,CAAae,WAAb,CAAyBI,OAVzB,CAWTsI,eAAe,CAAE7H,IAAI,CAAC5B,OAAL,CAAajD,SAXrB,CAYT0K,UAAU,CAAEjI,QAAQ,CAAC7B,EAZZ,CAAX,CAeAoF,cAAc,CAACoC,IAAD,CAAd,CACD,CAnBD,CAqBA,GAAMuE,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC7BzG,oBAAoB,CAAC,SAAC2C,IAAD,QAAU,CAACA,IAAX,EAAD,CAApB,CAEA,GAAIT,CAAAA,IAAI,CAAG,CACTzE,MAAM,CAAE,QADC,CAETC,SAAS,CAAE,EAFF,CAGT6I,aAAa,CAAE,IAHN,CAITlM,KAAK,CAAEsE,IAAI,CAACtE,KAJH,CAKTE,SAAS,CAAEkC,IAAI,CAAC,CAAD,CALN,CAMTrB,QAAQ,CAAEqB,IAAI,CAAC,CAAD,CANL,CAOTgI,WAAW,CAAE9F,IAAI,CAAC5B,OAAL,CAAae,WAAb,CAAyBrB,IAP7B,CAQT+F,SAAS,CAAE7D,IAAI,CAAC9B,WARP,CAAX,CAWAiD,cAAc,CAACoC,IAAD,CAAd,CACD,CAfD,CAiBA,GAAMwE,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,CAC9BlF,kBAAkB,CAAC,SAACmB,IAAD,QAAU,CAACA,IAAX,EAAD,CAAlB,CAEA,GAAIT,CAAAA,IAAI,CAAG,CACTM,SAAS,CAAE7D,IAAI,CAAC9B,WADP,CAAX,CAIA6E,cAAc,CAACQ,IAAD,CAAd,CACD,CARD,CAUA,GAAMyE,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAM,CAChC,MACEpG,CAAAA,aAAa,EACbA,aAAa,CAACsC,GAAd,CAAkB,SAACC,IAAD,CAAOkB,GAAP,qBAChB,aAAgB,SAAS,CAAC,qBAA1B,wBACE,YAAK,GAAG,CAAElB,IAAV,CAAgB,GAAG,CAAC,EAApB,EADF,cAEE,aAAK,SAAS,CAAC,eAAf,wBACE,mCACE,KAAC,gBAAD,IADF,EADF,cAIE,2CAAgBkB,GAAG,CAAG,CAAtB,IAJF,cAKE,YAAK,SAAS,CAAC,mBAAf,uBACE,aACE,cAAY,SADd,CAEE,iBAAe,QAFjB,CAGE,KAAK,CAAC,oBAHR,uBAKE,UACE,IAAI,CAAElB,IADR,CAEE,MAAM,CAAC,QAFT,CAGE,GAAG,CAAC,YAHN,CAIE,QAAQ,WAAKvG,QAAQ,CAAChC,SAAd,cAJV,uBAME,KAAC,iBAAD,IANF,EALF,EADF,EALF,GAFF,GAAUuI,IAAV,CADgB,EAAlB,CAFF,CA8BD,CA/BD,CAiCA,GAAM8D,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,eACFA,CAAC,CAACC,MADA,CAClBrK,IADkB,WAClBA,IADkB,CACZ6G,KADY,WACZA,KADY,CAE1B5D,SAAS,CAAC,SAACiD,IAAD,wCACLA,IADK,wBAEPlG,IAFO,CAEAA,IAAI,GAAK,iBAAT,CAA6B6G,KAAK,CAACyD,IAAN,EAA7B,CAA4CzD,KAF5C,IAAD,CAAT,CAID,CAND,CAQA,GAAM0D,CAAAA,YAAY,CAAGzQ,MAAM,EAA3B,CAEA,GAAM0Q,CAAAA,WAAW,CAAGxQ,eAAe,CAAC,CAClCyQ,OAAO,CAAE,yBAAMF,CAAAA,YAAY,CAACG,OAAnB,EADyB,CAAD,CAAnC,CAIA,mBACE,wCACE,uCACE,oCACE,mCACE,eACE,OAAO,CAAE,iBAACN,CAAD,QAAOnO,CAAAA,OAAO,CAAC0O,MAAR,EAAP,EADX,CAEE,SAAS,CAAC,0BAFZ,uBAIE,KAAC,eAAD,IAJF,EADF,8BADF,cAUE,oCAEE,UACE,SAAS,CAAEvI,WAAW,GAAK,KAAhB,CAAwB,QAAxB,CAAmC,EADhD,CAEE,OAAO,CAAE,iBAACgI,CAAD,QAAO/H,CAAAA,UAAU,CAAC,KAAD,CAAjB,EAFX,8BAFF,cAQE,UACE,SAAS,CAAED,WAAW,GAAK,cAAhB,CAAiC,QAAjC,CAA4C,EADzD,CAEE,OAAO,CAAE,iBAACgI,CAAD,QAAO/H,CAAAA,UAAU,CAAC,cAAD,CAAjB,EAFX,0BARF,cAcE,UACE,SAAS,CAAED,WAAW,GAAK,WAAhB,CAA8B,QAA9B,CAAyC,EADtD,CAEE,OAAO,CAAE,iBAACgI,CAAD,QAAO/H,CAAAA,UAAU,CAAC,WAAD,CAAjB,EAFX,uBAdF,GAVF,GADF,cAkCE,oCACE,aAAK,SAAS,CAAC,qBAAf,wBACE,YAAK,GAAG,CAAEpI,IAAV,CAAgB,GAAG,CAAC,EAApB,EADF,CAEGyC,SAAS,aAFZ,cAGE,UAAG,SAAS,CAAC,YAAb,EAHF,GADF,cAME,aAAK,SAAS,CAAC,gBAAf,wBACE,eACE,SAAS,gCACPkG,SAAS,CAACH,kBAAV,CAA+B,kBAA/B,CAAoD,EAD7C,CADX,CAIE,OAAO,CAAEwH,iBAJX,UAMGrH,SAAS,CAACH,kBAAV,cACC,KAAC,WAAD,EAAa,SAAS,CAAC,UAAvB,EADD,cAGC,wCACE,KAAC,OAAD,IADF,kBATJ,EADF,CAeGyE,kBAAkB,EAfrB,CAgBGvK,KAAK,GAAK,OAAV,EAAqBuF,IAAI,CAAC5B,OAAL,CAAaU,MAAb,GAAwB,SAA7C,eACC,eACE,SAAS,+BACP4B,SAAS,CAACL,iBAAV,CAA8B,kBAA9B,CAAmD,EAD5C,CADX,CAIE,OAAO,CAAE6E,kBAJX,UAMGxE,SAAS,CAACL,iBAAV,cACC,KAAC,WAAD,EAAa,SAAS,CAAC,UAAvB,EADD,cAGC,wCACE,KAAC,eAAD,IADF,eATJ,EAjBJ,CAgCG0E,mBAAmB,EAhCtB,CAkCGtK,KAAK,GAAK,OAAV,EAAqBuF,IAAI,CAAC5B,OAAL,CAAaU,MAAb,GAAwB,SAA7C,eACC,eACE,SAAS,+BACP4B,SAAS,CAACJ,iBAAV,CAA8B,kBAA9B,CAAmD,EAD5C,CADX,CAIE,OAAO,CAAEwH,gBAJX,UAMGpH,SAAS,CAACJ,iBAAV,cACC,KAAC,WAAD,EAAa,SAAS,CAAC,UAAvB,EADD,cAGC,wCACE,KAAC,eAAD,IADF,cATJ,EAnCJ,CAkDGwE,iBAAiB,EAlDpB,CAmDGrK,KAAK,GAAK,OAAV,EAAqBuF,IAAI,CAAC5B,OAAL,CAAaU,MAAb,GAAwB,QAA7C,eACC,eACE,SAAS,gCACP4B,SAAS,CAACH,kBAAV,CAA+B,kBAA/B,CAAoD,EAD7C,CADX,CAIE,OAAO,CAAEoH,kBAJX,UAMGjH,SAAS,CAACH,kBAAV,cACC,KAAC,WAAD,EAAa,SAAS,CAAC,UAAvB,EADD,cAGC,wCACE,KAAC,eAAD,IADF,cATJ,EApDJ,CAmEGsE,mBAAmB,EAnEtB,cAoEE,eACE,OAAO,CAAEyD,WADX,CAEE,SAAS,8BACP5H,SAAS,CAACF,gBAAV,CAA6B,kBAA7B,CAAkD,EAD3C,CAFX,UAMGE,SAAS,CAACF,gBAAV,cACC,KAAC,WAAD,EAAa,SAAS,CAAC,UAAvB,EADD,cAGC,wCACE,KAAC,SAAD,IADF,YATJ,EApEF,GANF,GAlCF,GADF,CA8HGE,SAAS,CAACD,QAAV,cACC,YAAK,SAAS,CAAC,iBAAf,uBACE,YAAK,SAAS,CAAC,YAAf,uBACE,KAAC,WAAD,EAAa,SAAS,CAAC,UAAvB,EADF,EADF,EADD,cAOC,cAAM,GAAG,CAAE4H,YAAX,CAAyB,SAAS,CAAC,gBAAnC,WACG3H,SAAS,CAACN,QAAV,eACC,YAAK,SAAS,CAAC,iBAAf,uBACE,YAAK,SAAS,CAAC,YAAf,uBACE,KAAC,WAAD,EAAa,SAAS,CAAC,UAAvB,EADF,EADF,EAFJ,CAQG,CAACM,SAAS,CAACN,QAAX,EAAuBF,WAAW,GAAK,KAAvC,eACC,aAAK,SAAS,CAAC,gDAAf,wBACE,YAAK,SAAS,CAAC,iBAAf,uBACE,YAAK,SAAS,CAAC,YAAf,uBACE,YACE,GAAG,CAAEtC,QAAQ,CAACd,cAAT,EAA2B9E,cADlC,CAEE,GAAG,CAAE4F,QAAQ,CAAChC,SAFhB,EADF,EADF,EADF,cASE,aAAK,SAAS,CAAC,oBAAf,wBACE,aAAK,SAAS,CAAC,sBAAf,wBACE,YAAK,SAAS,CAAC,gBAAf,8BADF,cAEE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,4BADF,cAEE,aAAK,SAAS,CAAC,KAAf,WACGgC,QAAQ,CAAChC,SADZ,KACwBgC,QAAQ,CAACnB,QADjC,GAFF,GAFF,cAQE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,6BADF,cAEE,YAAK,SAAS,CAAC,KAAf,UAAsBmB,QAAQ,CAAClC,KAA/B,EAFF,GARF,cAYE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,6BADF,cAEE,YAAK,SAAS,CAAC,KAAf,UAAsBkC,QAAQ,CAAChB,KAA/B,EAFF,GAZF,cAgBE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,4BADF,cAEE,YAAK,SAAS,CAAC,KAAf,UACGxE,MAAM,CAACwF,QAAQ,CAACvC,GAAV,CAAN,CAAqBqN,MAArB,CAA4B,YAA5B,CADH,EAFF,GAhBF,cAsBE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,6BADF,cAEE,YAAK,SAAS,CAAC,KAAf,UAAsB1G,aAAa,EAAI,KAAvC,EAFF,GAtBF,cA0BE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,kCADF,cAEE,YAAK,SAAS,CAAC,KAAf,UAAsBE,kBAAkB,EAAI,KAA5C,EAFF,GA1BF,cA8BE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,wCADF,cAEE,YAAK,SAAS,CAAC,KAAf,UAAsBE,qBAAqB,EAAI,KAA/C,EAFF,GA9BF,cAkCE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,kCADF,cAEE,YAAK,SAAS,CAAC,KAAf,UAAsBE,gBAAgB,EAAI,KAA1C,EAFF,GAlCF,cAsCE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,gCADF,cAEE,YAAK,SAAS,CAAC,KAAf,UAAsBE,eAAe,EAAI,KAAzC,EAFF,GAtCF,cA0CE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,+BADF,cAEE,YAAK,SAAS,CAAC,KAAf,UAAsBE,eAAe,EAAI,KAAzC,EAFF,GA1CF,GADF,cAgDE,aAAK,SAAS,CAAC,mBAAf,wBACE,aAAK,SAAS,CAAC,cAAf,wBACE,YAAK,SAAS,CAAC,gBAAf,0BADF,cAEE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,8BADF,cAEE,YAAK,SAAS,CAAC,KAAf,UACG1C,IAAI,CAAC5B,OAAL,CAAa+H,UAAb,EAA2B,KAD9B,EAFF,GAFF,cAQE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,yBADF,cAEE,YAAK,SAAS,CAAC,KAAf,UAAsBvI,QAAQ,CAAC3C,OAAT,EAAoB,KAA1C,EAFF,GARF,cAYE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,8BADF,cAEE,YAAK,SAAS,CAAC,KAAf,UAAsB6G,UAAU,EAAI,YAApC,EAFF,GAZF,GADF,cAkBE,aAAK,SAAS,CAAC,aAAf,wBACE,YAAK,SAAS,CAAC,gBAAf,iCADF,cAEE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,0BADF,cAEE,YAAK,SAAS,CAAC,KAAf,UAAsBlE,QAAQ,CAAC+K,QAAT,EAAqB,KAA3C,EAFF,GAFF,cAME,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,2BADF,cAEE,YAAK,SAAS,CAAC,KAAf,UACG/K,QAAQ,CAACgL,gBAAT,EAA6B,KADhC,EAFF,GANF,cAYE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,2BADF,cAEE,YAAK,SAAS,CAAC,KAAf,UAAsBhL,QAAQ,CAACiL,SAAT,EAAsB,KAA5C,EAFF,GAZF,cAgBE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,uBADF,cAEE,YAAK,SAAS,CAAC,KAAf,UACGjL,QAAQ,CAACkL,YAAT,EAAyB,KAD5B,EAFF,GAhBF,GAlBF,GAhDF,GATF,GATJ,CA+GG,CAACpI,SAAS,CAACN,QAAX,EAAuBF,WAAW,GAAK,cAAvC,eACC,YAAK,SAAS,CAAC,mDAAf,uBACE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,8BAAf,uBACE,aAAK,SAAS,CAAC,mBAAf,wBACE,aAAK,SAAS,CAAC,mBAAf,wBACE,aAAK,SAAS,CAAC,uBAAf,wBACE,YAAK,SAAS,CAAC,gBAAf,sBADF,cAEE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,2BADF,cAEE,YAAK,SAAS,CAAC,KAAf,8BAFF,GAFF,cAME,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,0BADF,cAEE,YAAK,SAAS,CAAC,KAAf,UAAsBtC,QAAQ,CAAC7B,EAA/B,EAFF,GANF,cAUE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,6BADF,cAEE,YAAK,SAAS,CAAC,KAAf,UAAsB6B,QAAQ,CAAChB,KAAT,EAAkB,KAAxC,EAFF,GAVF,cAcE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,mCADF,cAEE,YAAK,SAAS,CAAC,KAAf,UAAsB,KAAtB,EAFF,GAdF,cAkBE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,6BADF,cAEE,YAAK,SAAS,CAAC,KAAf,UAAsBoF,aAAtB,EAFF,GAlBF,cAsBE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,wBADF,cAEE,YAAK,SAAS,CAAC,KAAf,uBACE,cACE,SAAS,CACPhC,IAAI,CAAC/B,GAAL,CAAW,EAAX,CAAgB,cAAhB,CAAiC,cAFrC,WAKG+B,IAAI,CAAC/B,GALR,OADF,EAFF,GAtBF,GADF,cAoCE,aAAK,SAAS,CAAC,eAAf,wBACE,YAAK,SAAS,CAAC,gBAAf,+BADF,cAEE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,4BADF,cAEE,aAAK,SAAS,CAAC,KAAf,WACG+B,IAAI,CAAC5B,OAAL,CAAae,WAAb,CAAyBG,YAD5B,OAFF,GAFF,cAQE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,8BADF,cAEE,aAAK,SAAS,CAAC,KAAf,WACGU,IAAI,CAAC5B,OAAL,CAAac,qBADhB,aAFF,GARF,cAcE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,4BADF,cAEE,aAAK,SAAS,CAAC,KAAf,WACGc,IAAI,CAAC5B,OAAL,CAAaO,cADhB,aAFF,GAdF,cAoBE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,gCADF,cAEE,YAAK,SAAS,CAAC,KAAf,qBAFF,GApBF,cAwBE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,8BADF,cAEE,YAAK,SAAS,CAAC,KAAf,UACGvG,MAAM,CAAC4H,IAAI,CAAC5B,OAAL,CAAajD,SAAd,CAAN,CAA+BuN,MAA/B,CACC,YADD,CADH,EAFF,GAxBF,GApCF,GADF,cAwEE,aAAK,SAAS,CAAC,uBAAf,wBACE,YAAK,SAAS,CAAC,gBAAf,0BADF,cAEE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,2BADF,cAEE,YAAK,SAAS,CAAC,KAAf,UACG1I,IAAI,CAAC5B,OAAL,CAAae,WAAb,CAAyBrB,IAD5B,EAFF,GAFF,cAQE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,6BADF,cAEE,YAAK,SAAS,CAAC,KAAf,UAEIkC,IAAI,CAAC5B,OAAL,CAAae,WAAb,CAAyBS,mBAAzB,CACGE,YAHP,EAFF,GARF,cAiBE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,kCADF,cAEE,YAAK,SAAS,CAAC,KAAf,UACG1H,MAAM,CAAC4H,IAAI,CAAC5B,OAAL,CAAajD,SAAd,CAAN,CAA+BuN,MAA/B,CAAsC,YAAtC,CADH,EAFF,GAjBF,cAuBE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,+BADF,cAEE,YAAK,SAAS,CAAC,KAAf,UACGtQ,MAAM,CAAC4H,IAAI,CAAC5B,OAAL,CAAad,SAAd,CAAN,CAA+BoL,MAA/B,CAAsC,YAAtC,CADH,EAFF,GAvBF,cA6BE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,uBADF,cAEE,YAAK,SAAS,CAAC,KAAf,kCAFF,GA7BF,cAiCE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,+BADF,cAEE,aAAK,SAAS,CAAC,KAAf,oBACU,GADV,CAEGrQ,OAAO,CAAC2H,IAAI,CAAC5B,OAAL,CAAaE,MAAd,CAAP,CAA6BoK,MAA7B,CAAoC,KAApC,GAA8C,GAFjD,GAFF,GAjCF,cAwCE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,6BADF,cAEE,aAAK,SAAS,CAAC,KAAf,oBACU,GADV,CAEGrQ,OAAO,CAAC2H,IAAI,CAAC5B,OAAL,CAAaM,cAAd,CAAP,CAAqCgK,MAArC,CAA4C,KAA5C,GACC,GAHJ,GAFF,GAxCF,cAgDE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,sBADF,cAEE,YAAK,SAAS,CAAC,KAAf,UAAsB1I,IAAI,CAAC5B,OAAL,CAAaQ,YAAnC,EAFF,GAhDF,cAoDE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,8BADF,cAEE,YAAK,SAAS,CAAC,KAAf,UACGoB,IAAI,CAAC5B,OAAL,CAAa2K,iBAAb,EAAkC,KADrC,EAFF,GApDF,cA0DE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,6BADF,cAEE,aAAK,SAAS,CAAC,KAAf,oBACU,GADV,CAEG1Q,OAAO,CAAC2H,IAAI,CAAC5B,OAAL,CAAaK,aAAd,CAAP,CAAoCiK,MAApC,CAA2C,KAA3C,CAFH,GAFF,GA1DF,GAxEF,GADF,EADF,cA8IE,KAAC,gBAAD,EACE,eAAe,CAAE9H,eADnB,CAEE,gBAAgB,CAAEC,gBAFpB,CAGE,IAAI,CAAEb,IAHR,EA9IF,GADF,EAhHJ,CAuQG,CAACU,SAAS,CAACN,QAAX,EAAuBF,WAAW,GAAK,WAAvC,eACC,YAAK,SAAS,CAAC,mDAAf,uBACE,aAAK,SAAS,CAAC,KAAf,wBACE,aAAK,SAAS,CAAC,gCAAf,wBACE,aAAK,SAAS,CAAC,uBAAf,wBACE,YAAK,SAAS,CAAC,gBAAf,+BADF,CAEGF,IAAI,CAAC5B,OAAL,CAAagH,UAAb,CAAwBlB,GAAxB,CAA4B,SAACX,IAAD,CAAO8B,GAAP,qBAC3B,wCACE,YAAK,SAAS,CAAC,iBAAf,EADF,cASE,aAAmB,SAAS,CAAC,KAA7B,WACG3D,cAAc,CAACwC,GAAf,CAAmB,SAACC,IAAD,CAAO6E,CAAP,qBAClB,aAAmB,SAAS,CAAC,qBAA7B,wBACE,YAAK,GAAG,CAAE7E,IAAI,CAACC,QAAf,CAAyB,GAAG,CAAC,EAA7B,EADF,cAEE,aAAK,SAAS,CAAC,eAAf,wBACE,mCACE,KAAC,gBAAD,IADF,EADF,cAIE,uCAAmBiB,GAAG,CAAG,CAAzB,GAJF,cAKE,YAAK,SAAS,CAAC,mBAAf,uBACE,aACE,cAAY,SADd,CAEE,iBAAe,QAFjB,CAGE,KAAK,CAAC,aAHR,uBAKE,UACE,IAAI,CAAElB,IAAI,CAACC,QADb,CAEE,MAAM,CAAC,QAFT,CAGE,GAAG,CAAC,YAHN,CAIE,QAAQ,WAAKxG,QAAQ,CAAChC,SAAd,OAJV,uBAME,KAAC,iBAAD,IANF,EALF,EADF,EALF,GAFF,GAAUuI,IAAI,CAACpI,EAAf,CADkB,EAAnB,CADH,cA4BE,aAAK,SAAS,CAAC,yBAAf,wBACE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,6BADF,cAEE,YAAK,SAAS,CAAC,KAAf,UAAsBwH,IAAI,CAACzF,IAA3B,EAFF,GADF,cASE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,2BADF,cAEE,YAAK,SAAS,CAAC,KAAf,UAAsByF,IAAI,CAACxH,EAA3B,EAFF,GATF,cAaE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,6BADF,cAEE,YAAK,SAAS,CAAC,KAAf,UAAsBwH,IAAI,CAAC0F,aAA3B,EAFF,GAbF,cAiBE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,wBADF,cAEE,YAAK,SAAS,CAAC,KAAf,UACG1F,IAAI,CAAC2F,QAAL,EAAiB,KADpB,EAFF,GAjBF,cAuBE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,qBADF,cAEE,YACE,SAAS,WACP3F,IAAI,CAACzE,MAAL,GAAgB,UAAhB,CACI,UADJ,CAEI,cAHG,QADX,UAOGyE,IAAI,CAACzE,MAAL,EAAe,cAPlB,EAFF,GAvBF,GA5BF,GAAUyE,IAAI,CAACxH,EAAf,CATF,GAD2B,EAA5B,CAFH,GADF,cAiFE,aAAK,SAAS,CAAC,iBAAf,wBACE,YAAK,SAAS,CAAC,gBAAf,6BADF,cAEE,YAAK,SAAS,CAAC,KAAf,UAAsBiM,mBAAmB,EAAzC,EAFF,GAjFF,GADF,cAuFE,KAAC,gBAAD,EACE,eAAe,CAAEpH,eADnB,CAEE,gBAAgB,CAAEC,gBAFpB,CAGE,IAAI,CAAEb,IAHR,EAvFF,GADF,EAxQJ,cAwWE,sCACE,KAAC,YAAD,EAAc,SAAS,CAAEA,IAAI,CAAC9B,WAA9B,EADF,EAxWF,GArIJ,GADF,CAqfD,CAp9BD,CAq9BA,cAAezE,CAAAA,QAAf","sourcesContent":["import React, {\n  Fragment,\n  useCallback,\n  useState,\n  useEffect,\n  useRef,\n} from \"react\";\nimport { addMonths } from \"date-fns\";\nimport { useReactToPrint } from \"react-to-print\";\nimport face from \"../../../assets/img/placeholder-img.png\";\nimport placeholderImg from \"../../../assets/img/placeholder-img.png\";\nimport { ReactComponent as PenFill } from \"../../../assets/icons/pen.svg\";\nimport { ReactComponent as CheckCircleFill } from \"../../../assets/icons/check-circle-fill.svg\";\nimport { ReactComponent as TimesCircleFill } from \"../../../assets/icons/times-circle-fill.svg\";\nimport { ReactComponent as ArrowRightShort } from \"../../../assets/icons/arrow-right-short.svg\";\nimport { ReactComponent as FileEarmarkImage } from \"../../../assets/icons/file-earmark-image.svg\";\nimport { ReactComponent as CloudDownloadIcon } from \"../../../assets/icons/cloud-computing-download.svg\";\nimport { ReactComponent as PrintIcon } from \"../../../assets/icons/print-icon.svg\";\nimport { ReactComponent as SpinnerIcon } from \"../../../assets/icons/spinner.svg\";\nimport { useHistory, useLocation, useRouteMatch } from \"react-router-dom\";\nimport moment from \"moment\";\nimport numeral from \"numeral\";\nimport { useAuth } from \"../../utilities\";\nimport errorHandler from \"../../../utils/errorHandler\";\nimport notify from \"../../../utils/notification\";\nimport LoanRightOptions from \"../loanRightOptions\";\nimport {\n  disburseLoan,\n  getCustomerById,\n  getLoanScore,\n  getFiles,\n  getBranchById,\n} from \"../../../services/loanService\";\nimport {\n  ApprovalModal,\n  BookAndAcceptLoanModal,\n  CommentModal,\n  DisburseModal,\n  NarrativeModal,\n} from \"./approvalModal\";\nimport {\n  getAdminName,\n  getRoles as getAdminRoles,\n} from \"../../../utils/localStorageService\";\nimport { getCustomer } from \"../../../services/customerService\";\nimport LoanComments from \"../loanComment\";\n\nconst Customer = (props) => {\n  const [score, setScore] = useState(false);\n  const [scoreDoc, setScoreDoc] = useState(false);\n  const history = useHistory();\n  const { url, params } = useRouteMatch();\n  const location = useLocation();\n  const { state: locationState, pathname, search } = location;\n  const auth = useAuth();\n  const adminName = getAdminName();\n  const roles = getAdminRoles();\n  // useCallback ensures that handle error function isn't recreated on every render\n  const handleError = useCallback(\n    (errorObject, notify, cb) => errorHandler(auth)(errorObject, notify, cb),\n    [auth]\n  );\n\n  const [customer, setCustomer] = useState({\n    PND: false,\n    account_status: null,\n    address: \"N/A\",\n    bucket: \"npf-mfb\",\n    bvnhash: \"\",\n    companyCode: null,\n    createdAt: \"\",\n    customerNumber: \"\",\n    dob: \"\",\n    document_key: \"\",\n    document_location: \"\",\n    document_number: \"\",\n    document_type_id: 0,\n    email: \"thatguy@everyone.me\",\n    enabled: true,\n    firstname: \"Janet\",\n    force_number: \"\",\n    has_pin: false,\n    id: 0,\n    ippis_number: \"\",\n    isnewbankcustomer: null,\n    document_issue_date: \"\",\n    document_expiry_date: \"\",\n    photostatus: \"PENDING\",\n    documentstatus: \"PENDING\",\n    signaturestatus: \"PENDING\",\n    livelinesschecked: \"PENDING\",\n    isotpverified: true,\n    lastname: \"Montoya\",\n    middlename: \"N/A\",\n    otpstatus: null,\n    phone: \"\",\n    photo_key: \"\",\n    photo_location: \"\",\n    photo_number: null,\n    pob: null,\n    registration_channel: \"\",\n    salary_officer: true,\n    signature_key: \"\",\n    signature_location: \"\",\n    simswapstatus: null,\n    updatedAt: \"\",\n    user: 0,\n    video_key: \"\",\n    video_location: \"\",\n    signup_incomplete: true,\n    accounts: [],\n  });\n\n  const [loan, setLoan] = useState({\n    name: \"\",\n    email: \"\",\n    photo_location: \"\",\n    bvn: null,\n    phone: \"\",\n    profilecomplete: \"\",\n    livelinesschecked: \"\",\n    dti: 0,\n    loan_app_id: 0,\n    createdBy: 0,\n    createdAt: \"\",\n    updatedAt: \"\",\n    loanApp: {\n      name: \"\",\n      loan_product_id: 0,\n      amount: 0,\n      workFlowLevel: 1,\n      approvalBranch_id: 0,\n      monthlyIncome: 0,\n      approvedAmount: 0,\n      approvedTenure: 0,\n      loan_purpose: \"\",\n      creditRptRequested: false,\n      status: \"\",\n      narrative: \"\",\n      date_completed: null,\n      customer_id: 0,\n      requested_loan_tenure: 0,\n      createdAt: \"\",\n      updatedAt: \"\",\n      loanProduct: {\n        name: \"\",\n        productType: \"\",\n        creditScoringType: \"\",\n        interestRate: 0,\n        maxTerm: 0,\n        maxTermUnit: \"\",\n        limit: 0,\n        repaymentReqmt: \"\",\n        guarantorsCnt: 0,\n        createdAt: \"\",\n        updatedAt: \"\",\n\n        loanProductCategory: {\n          name: \"\",\n          description: \"\",\n          categoryType: \"\",\n          createdAt: \"\",\n          updatedAt: \"\",\n        },\n        fileUpload: [],\n      },\n    },\n  });\n\n  const [showSection, setSection] = useState(\"all\");\n  // const [showAuditHistory, setShowAuditHistory] = useState(\"all\");\n  const [isLoading, setLoading] = useState({\n    userFull: false,\n    acceptApplication: false,\n    rejectApplication: false,\n    approveApplication: false,\n    printApplication: false,\n    loadPage: false,\n  });\n\n  const [isScoringActive, setScoringActive] = useState(false);\n  const [values, setValues] = useState({});\n  const [approveModalBtn, setApproveModalBtn] = useState(false);\n  const [approveData, setApproveData] = useState({});\n  const [narrativeModalBtn, setNarrativeModalBtn] = useState(false);\n  const [acceptModalBtn, setAcceptModalBtn] = useState(false);\n  const [disburseModalBtn, setDisburseModalBtn] = useState(false);\n  const [guarantorFiles, setGuarantorFiles] = useState([]);\n  const [criteriaFiles, setCriteriaFiles] = useState([]);\n  const [userBranch, setUserBranch] = useState(\"\");\n  const [maritalStatus, setMaritalStatus] = useState(\"\");\n  const [residentialAddress, setResidentialAddress] = useState(\"\");\n  const [lengthOfStayAtAddress, setLengthOfStayAtAddress] = useState(\"\");\n  const [engagingBusiness, setEngagingBusiness] = useState(\"\");\n  const [yearsInBusiness, setYearsInBusiness] = useState(\"\");\n  const [businessAddress, setBusinessAddress] = useState(\"\");\n  const [commentModalBtn, setCommentModalBtn] = useState(false);\n  const [commentData, setCommentData] = useState({});\n\n  const searchParams = new URLSearchParams(search);\n  const loanCustomerId = searchParams.get(\"id\");\n\n  useEffect(() => {\n    async function handleFetchSingleLoan(loanCustomerId) {\n      try {\n        handleChangeLoading(\"loadPage\", true);\n        setApproveModalBtn(false);\n        setNarrativeModalBtn(false);\n        setAcceptModalBtn(false);\n        setDisburseModalBtn(false);\n\n        const loanApp = await getCustomerById(loanCustomerId);\n\n        if (loanApp.error) return notify(loanApp.data, \"error\");\n        if (loanApp.data === null) {\n          notify(\"Loan Not Found\", \"error\");\n          history.push(\"/pages/loanMan\");\n          return;\n        }\n        const userId = loanApp.data.loanApp.customer_id;\n        const loanUser = await getCustomer(userId);\n        if (loanUser.error) return notify(loanUser.message, \"error\");\n        if (loanUser.result === null) {\n          notify(\"Customer Not Found\", \"error\");\n          history.push(\"/pages/loanMan\");\n          return;\n        }\n\n        const loanAppId = loanApp.data.loanApp.id;\n\n        const loanScore = await getLoanScore(loanAppId);\n        if (loanScore.error) return notify(loanScore.message, \"error\");\n        if (loanScore.data === null) {\n          notify(\"LoanScore Not Found\", \"error\");\n          return;\n        }\n\n        const customerFiles = await getFiles(loanAppId);\n        if (customerFiles.error) return notify(customerFiles.message, \"error\");\n        if (customerFiles.data === null) {\n          notify(\"Files Not Found\", \"error\");\n          return;\n        }\n\n        setLoan((prev) => ({\n          ...prev,\n          ...loanApp.data,\n          loanScore: loanScore.data,\n          fileUpload: customerFiles.data,\n        }));\n\n        setCustomer((prev) => ({\n          ...prev,\n          ...loanUser.result,\n        }));\n\n        const allCriteriaFiles = [];\n\n        loan.fileUpload &&\n          loan.fileUpload.map((file) => {\n            if (\n              !file.fileName.includes(\"guarantor\") &&\n              !file.fileName.includes(\"pdf\")\n            ) {\n              allCriteriaFiles.push(file.fileName);\n              const newFiles = [...new Set(allCriteriaFiles)];\n              setCriteriaFiles(newFiles);\n              // console.log(file);\n            }\n\n            if (file.fileName.includes(\"guarantor\")) {\n              setGuarantorFiles([file]);\n            }\n          });\n\n        loan.loanApp.baseInfoValues &&\n          loan.loanApp.baseInfoValues.map((info) => {\n            if (info.baseInfo.name.includes(\"maritalStatus\")) {\n              setMaritalStatus(info.value);\n            }\n\n            if (info.baseInfo.name.includes(\"residentialAddress\")) {\n              setResidentialAddress(info.value);\n            }\n\n            if (info.baseInfo.name.includes(\"lengthOfStayAtAddress\")) {\n              setLengthOfStayAtAddress(info.value);\n            }\n\n            if (info.baseInfo.name.includes(\"engagingBusiness\")) {\n              setEngagingBusiness(info.value);\n            }\n\n            if (info.baseInfo.name.includes(\"yearsInBusiness\")) {\n              setYearsInBusiness(info.value);\n            }\n\n            if (info.baseInfo.name.includes(\"businessAddress\")) {\n              setBusinessAddress(info.value);\n            }\n          });\n\n        // if(criteriaFiles.length > 0){\n\n        // }\n\n        if (loan.loanApp.approvalBranch_id > 0) {\n          const id = loan.loanApp.approvalBranch_id;\n          const branch = await getBranchById(id);\n          setUserBranch(branch.data.name);\n        }\n\n        handleChangeLoading(\"loadPage\", false);\n      } catch (error) {\n        handleError(error, notify, () =>\n          handleChangeLoading(\"userFull\", false)\n        );\n      }\n    }\n    handleFetchSingleLoan(loanCustomerId);\n  }, [history, loanCustomerId, handleError, loan.loanApp.approvalBranch_id]);\n\n  const handleChangeLoading = (name, value) =>\n    setLoading((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n\n  const handleApprovalModal = () => {\n    return (\n      <ApprovalModal\n        approveModalBtn={approveModalBtn}\n        setApproveModalBtn={setApproveModalBtn}\n        approveData={approveData}\n        setApproveData={setApproveData}\n      />\n    );\n  };\n\n  const handleRejectModal = () => {\n    return (\n      <NarrativeModal\n        narrativeModalBtn={narrativeModalBtn}\n        setNarrativeModalBtn={setNarrativeModalBtn}\n        approveData={approveData}\n      />\n    );\n  };\n\n  const handleDisburseModal = () => {\n    return (\n      <DisburseModal\n        disburseModalBtn={disburseModalBtn}\n        setDisburseModalBtn={setDisburseModalBtn}\n        approveData={approveData}\n      />\n    );\n  };\n\n  const handleCommentModel = () => {\n    return (\n      <CommentModal\n        commentModalBtn={commentModalBtn}\n        setCommentModalBtn={setCommentModalBtn}\n        commentData={commentData}\n      />\n    );\n  };\n\n  const name = loan.name.split(\" \");\n\n  const checkDisburseModal = async () => {\n    setDisburseModalBtn((prev) => !prev);\n\n    const guarantorId =\n      loan.loanApp.guarantors &&\n      loan.loanApp.guarantors.map((file, idx) => {\n        console.log(file);\n        const ids = [];\n        ids.push(file.id);\n        return ids;\n      });\n\n    const today = new Date();\n\n    const expiryDate = addMonths(today, Number(loan.loanApp.approvedTenure));\n\n    var data = {\n      email: loan.email,\n      firstname: name[0],\n      lastname: name[1],\n      customerId: customer.customerNumber,\n      productName: loan.loanApp.loanProduct.name,\n      productId: loan.loanApp.loanProduct.id,\n      loanAppId: loan.loan_app_id,\n      approvedAmount: loan.loanApp.approvedAmount,\n      approvedTenure: loan.loanApp.approvedTenure,\n      interestRate: loan.loanApp.loanProduct.interestRate,\n      guarantorId: `${guarantorId.join(\"&\")}`,\n      sn: loan.loan_app_id,\n      accountNo: loan.loanApp.account_no,\n      settlementAccount: loan.loanApp.account_no,\n      customerName: `${name[0]} ${name[1]}`,\n      productType: loan.loanApp.loanProduct.loanProductCategory.categoryType,\n      customerType: \"N/A\",\n      sector: \"N/A\",\n      expiryDate: `${expiryDate}`,\n      tenorInDays: loan.loanApp.approvedTenure * 30,\n      legacyID: 0,\n      authorizedLimit: loan.loanApp.loanProduct.limit,\n      arrangementFee: 0,\n      riskRating: \"N/A\",\n      numberOfPaymentsOutstanding: 0,\n      daysPastDue: 0,\n      pastDueObligationInterest: 0,\n      subStatus: \"N/A\",\n      status: loan.loanApp.status,\n      contratualIntRate: 0,\n      annualEffectiveInterestRate: 0,\n      restructure: \"N/A\",\n      paymentFrequencyPrincipal: \"N/A\",\n      paymentFreqInterest: \"N/A\",\n      collateralStatus: \"N/A\",\n      collateralType: \"N/A\",\n      otherCollateral: \"N/A\",\n      collateralvalue: \"N/A\",\n      daysToRealization: 0,\n    };\n    setApproveData(data);\n  };\n\n  const checkApprovalModal = () => {\n    setApproveModalBtn((prev) => !prev);\n\n    var data = {\n      status: \"APPROVE\",\n      narrative: \"\",\n      isWithinLimit: true,\n      email: loan.email,\n      firstname: name[0],\n      lastname: name[1],\n      productName: loan.loanApp.loanProduct.name,\n      loanAppId: loan.loan_app_id,\n      limit: loan.loanApp.loanProduct.limit,\n      maxTerm: loan.loanApp.loanProduct.maxTerm,\n      applicationDate: loan.loanApp.createdAt,\n      customerId: customer.id,\n    };\n\n    setApproveData(data);\n  };\n\n  const checkRejectModal = () => {\n    setNarrativeModalBtn((prev) => !prev);\n\n    var data = {\n      status: \"REJECT\",\n      narrative: \"\",\n      isWithinLimit: true,\n      email: loan.email,\n      firstname: name[0],\n      lastname: name[1],\n      productName: loan.loanApp.loanProduct.name,\n      loanAppId: loan.loan_app_id,\n    };\n\n    setApproveData(data);\n  };\n\n  const checkCommentModal = () => {\n    setCommentModalBtn((prev) => !prev);\n\n    var data = {\n      loanAppId: loan.loan_app_id,\n    };\n\n    setCommentData(data);\n  };\n\n  const handleCriteriaFiles = () => {\n    return (\n      criteriaFiles &&\n      criteriaFiles.map((file, idx) => (\n        <div key={file} className=\"col-5 document-card\">\n          <img src={file} alt=\"\" />\n          <div className=\"document-info\">\n            <span>\n              <FileEarmarkImage />\n            </span>\n            <b>Document {`${idx + 1}`}</b>\n            <div className=\"file-action-icons\">\n              <span\n                data-toggle=\"tooltip\"\n                data-placement=\"bottom\"\n                title=\"Download signature\"\n              >\n                <a\n                  href={file}\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                  download={`${customer.firstname}-signature`}\n                >\n                  <CloudDownloadIcon />\n                </a>\n              </span>\n            </div>\n          </div>\n        </div>\n      ))\n    );\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setValues((prev) => ({\n      ...prev,\n      [name]: name === \"document_number\" ? value.trim() : value,\n    }));\n  };\n\n  const componentRef = useRef();\n\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n\n  return (\n    <>\n      <header>\n        <div>\n          <h1>\n            <button\n              onClick={(e) => history.goBack()}\n              className=\"btn btn-primary back-btn\"\n            >\n              <ArrowRightShort />\n            </button>\n            Loan Application Details\n          </h1>\n          <nav>\n            {/* eslint-disable jsx-a11y/anchor-is-valid */}\n            <a\n              className={showSection === \"all\" ? \"active\" : \"\"}\n              onClick={(e) => setSection(\"all\")}\n            >\n              Customer Details\n            </a>\n            <a\n              className={showSection === \"loan-details\" ? \"active\" : \"\"}\n              onClick={(e) => setSection(\"loan-details\")}\n            >\n              Loan Details\n            </a>\n            <a\n              className={showSection === \"documents\" ? \"active\" : \"\"}\n              onClick={(e) => setSection(\"documents\")}\n            >\n              Documents\n            </a>\n            {/* eslint-enable */}\n          </nav>\n        </div>\n        <div>\n          <div className=\"small-admin-details\">\n            <img src={face} alt=\"\" />\n            {adminName || `NPF Admin`}\n            <i className=\"arrow down\"></i>\n          </div>\n          <div className=\"some-container\">\n            <button\n              className={`btn approve-loan-btn ${\n                isLoading.approveApplication ? \"loading disabled\" : \"\"\n              }`}\n              onClick={checkCommentModal}\n            >\n              {isLoading.approveApplication ? (\n                <SpinnerIcon className=\"rotating\" />\n              ) : (\n                <>\n                  <PenFill /> Add Comment\n                </>\n              )}\n            </button>\n            {handleCommentModel()}\n            {roles !== \"AUDIT\" && loan.loanApp.status === \"APPROVE\" && (\n              <button\n                className={`btn accept-loan-btn ${\n                  isLoading.acceptApplication ? \"loading disabled\" : \"\"\n                }`}\n                onClick={checkDisburseModal}\n              >\n                {isLoading.acceptApplication ? (\n                  <SpinnerIcon className=\"rotating\" />\n                ) : (\n                  <>\n                    <CheckCircleFill /> Disburse\n                  </>\n                )}\n              </button>\n            )}\n            {handleDisburseModal()}\n\n            {roles !== \"AUDIT\" && loan.loanApp.status === \"APPROVE\" && (\n              <button\n                className={`btn reject-loan-btn ${\n                  isLoading.rejectApplication ? \"loading disabled\" : \"\"\n                }`}\n                onClick={checkRejectModal}\n              >\n                {isLoading.rejectApplication ? (\n                  <SpinnerIcon className=\"rotating\" />\n                ) : (\n                  <>\n                    <TimesCircleFill /> Decline\n                  </>\n                )}\n              </button>\n            )}\n            {handleRejectModal()}\n            {roles !== \"AUDIT\" && loan.loanApp.status === \"REJECT\" && (\n              <button\n                className={`btn approve-loan-btn ${\n                  isLoading.approveApplication ? \"loading disabled\" : \"\"\n                }`}\n                onClick={checkApprovalModal}\n              >\n                {isLoading.approveApplication ? (\n                  <SpinnerIcon className=\"rotating\" />\n                ) : (\n                  <>\n                    <CheckCircleFill /> Approve\n                  </>\n                )}\n              </button>\n            )}\n            {handleApprovalModal()}\n            <button\n              onClick={handlePrint}\n              className={`btn print-loan-btn ${\n                isLoading.printApplication ? \"loading disabled\" : \"\"\n              }`}\n            >\n              {isLoading.printApplication ? (\n                <SpinnerIcon className=\"rotating\" />\n              ) : (\n                <>\n                  <PrintIcon /> Print\n                </>\n              )}\n            </button>\n          </div>\n        </div>\n      </header>\n      {isLoading.loadPage ? (\n        <div className=\"searching-block\">\n          <div className=\"svg-holder\">\n            <SpinnerIcon className=\"rotating\" />\n          </div>\n        </div>\n      ) : (\n        <main ref={componentRef} className=\"customers-page\">\n          {isLoading.userFull && (\n            <div className=\"searching-block\">\n              <div className=\"svg-holder\">\n                <SpinnerIcon className=\"rotating\" />\n              </div>\n            </div>\n          )}\n          {!isLoading.userFull && showSection === \"all\" && (\n            <div className=\"customer-details row animated fadeIn delay-05s\">\n              <div className=\"left-side col-3\">\n                <div className=\"img-holder\">\n                  <img\n                    src={customer.photo_location || placeholderImg}\n                    alt={customer.firstname}\n                  />\n                </div>\n              </div>\n              <div className=\"right-side col row\">\n                <div className=\"personal-details col\">\n                  <div className=\"details-header\">Personal Details</div>\n                  <div className=\"row\">\n                    <div className=\"col-5\">Customer Name:</div>\n                    <div className=\"col\">\n                      {customer.firstname} {customer.lastname}\n                    </div>\n                  </div>\n                  <div className=\"row\">\n                    <div className=\"col-5\">Customer Email:</div>\n                    <div className=\"col\">{customer.email}</div>\n                  </div>\n                  <div className=\"row\">\n                    <div className=\"col-5\">Customer phone:</div>\n                    <div className=\"col\">{customer.phone}</div>\n                  </div>\n                  <div className=\"row\">\n                    <div className=\"col-5\">Date of birth:</div>\n                    <div className=\"col\">\n                      {moment(customer.dob).format(\"DD/MM/YYYY\")}\n                    </div>\n                  </div>\n                  <div className=\"row\">\n                    <div className=\"col-5\">Marital Status:</div>\n                    <div className=\"col\">{maritalStatus || \"N/A\"}</div>\n                  </div>\n                  <div className=\"row\">\n                    <div className=\"col-5\">Residential Address:</div>\n                    <div className=\"col\">{residentialAddress || \"N/A\"}</div>\n                  </div>\n                  <div className=\"row\">\n                    <div className=\"col-5\">Length of Stay in Address:</div>\n                    <div className=\"col\">{lengthOfStayAtAddress || \"N/A\"}</div>\n                  </div>\n                  <div className=\"row\">\n                    <div className=\"col-5\">Business Engaged in:</div>\n                    <div className=\"col\">{engagingBusiness || \"N/A\"}</div>\n                  </div>\n                  <div className=\"row\">\n                    <div className=\"col-5\">Years in Business:</div>\n                    <div className=\"col\">{yearsInBusiness || \"N/A\"}</div>\n                  </div>\n                  <div className=\"row\">\n                    <div className=\"col-5\">Business Address:</div>\n                    <div className=\"col\">{businessAddress || \"N/A\"}</div>\n                  </div>\n                </div>\n                <div className=\"other-details col\">\n                  <div className=\"bank-details\">\n                    <div className=\"details-header\">Bank Details</div>\n                    <div className=\"row\">\n                      <div className=\"col-5\">Bank Account No:</div>\n                      <div className=\"col\">\n                        {loan.loanApp.account_no || \"N/A\"}\n                      </div>\n                    </div>\n                    <div className=\"row\">\n                      <div className=\"col-5\">BVN Number:</div>\n                      <div className=\"col\">{customer.bvnhash || \"N/A\"}</div>\n                    </div>\n                    <div className=\"row\">\n                      <div className=\"col-5\">Customer branch:</div>\n                      <div className=\"col\">{userBranch || \"E-channels\"}</div>\n                    </div>\n                  </div>\n                  <div className=\"kin-details\">\n                    <div className=\"details-header\">Next of Kin Details</div>\n                    <div className=\"row\">\n                      <div className=\"col-5\">Next of Kin:</div>\n                      <div className=\"col\">{customer.kin_name || \"N/A\"}</div>\n                    </div>\n                    <div className=\"row\">\n                      <div className=\"col-5\">Relationship:</div>\n                      <div className=\"col\">\n                        {customer.kin_relationship || \"N/A\"}\n                      </div>\n                    </div>\n                    <div className=\"row\">\n                      <div className=\"col-5\">Phone Number:</div>\n                      <div className=\"col\">{customer.kin_phone || \"N/A\"}</div>\n                    </div>\n                    <div className=\"row\">\n                      <div className=\"col-5\">Business:</div>\n                      <div className=\"col\">\n                        {customer.kin_business || \"N/A\"}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n          {!isLoading.userFull && showSection === \"loan-details\" && (\n            <div className=\"customer-documents-page animated fadeIn delay-05s\">\n              <div className=\"row\">\n                <div className=\"loan-details-container col-9\">\n                  <div className=\"left-side col row\">\n                    <div className=\"other-details col\">\n                      <div className=\"loan-customer-details\">\n                        <div className=\"details-header\">Customer</div>\n                        <div className=\"row\">\n                          <div className=\"col-5\">Customer Type</div>\n                          <div className=\"col\">Regular Customer</div>\n                        </div>\n                        <div className=\"row\">\n                          <div className=\"col-5\">Customer ID:</div>\n                          <div className=\"col\">{customer.id}</div>\n                        </div>\n                        <div className=\"row\">\n                          <div className=\"col-5\">Customer phone:</div>\n                          <div className=\"col\">{customer.phone || \"N/A\"}</div>\n                        </div>\n                        <div className=\"row\">\n                          <div className=\"col-5\">Group ID Asset Class:</div>\n                          <div className=\"col\">{\"N/A\"}</div>\n                        </div>\n                        <div className=\"row\">\n                          <div className=\"col-5\">Marital Status:</div>\n                          <div className=\"col\">{maritalStatus}</div>\n                        </div>\n                        <div className=\"row\">\n                          <div className=\"col-5\">DTI Ratio:</div>\n                          <div className=\"col\">\n                            <span\n                              className={\n                                loan.dti < 50 ? \"dti negative\" : \"dti positive\"\n                              }\n                            >\n                              {loan.dti}%\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"repay-details\">\n                        <div className=\"details-header\">Repayment Details</div>\n                        <div className=\"row\">\n                          <div className=\"col-5\">Interest Rate:</div>\n                          <div className=\"col\">\n                            {loan.loanApp.loanProduct.interestRate}%\n                          </div>\n                        </div>\n                        <div className=\"row\">\n                          <div className=\"col-5\">Tenor Requested:</div>\n                          <div className=\"col\">\n                            {loan.loanApp.requested_loan_tenure} Months\n                          </div>\n                        </div>\n                        <div className=\"row\">\n                          <div className=\"col-5\">Tenor Offered:</div>\n                          <div className=\"col\">\n                            {loan.loanApp.approvedTenure} Months\n                          </div>\n                        </div>\n                        <div className=\"row\">\n                          <div className=\"col-5\">Payment Frequency:</div>\n                          <div className=\"col\">Monthly</div>\n                        </div>\n                        <div className=\"row\">\n                          <div className=\"col-5\">Repayment Start:</div>\n                          <div className=\"col\">\n                            {moment(loan.loanApp.createdAt).format(\n                              \"DD/MM/YYYY\"\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"loan-main-details col\">\n                      <div className=\"details-header\">Loan Details</div>\n                      <div className=\"row\">\n                        <div className=\"col-5\">Loan Product:</div>\n                        <div className=\"col\">\n                          {loan.loanApp.loanProduct.name}\n                        </div>\n                      </div>\n                      <div className=\"row\">\n                        <div className=\"col-5\">Classification:</div>\n                        <div className=\"col\">\n                          {\n                            loan.loanApp.loanProduct.loanProductCategory\n                              .categoryType\n                          }\n                        </div>\n                      </div>\n                      <div className=\"row\">\n                        <div className=\"col-5\">Date of Application:</div>\n                        <div className=\"col\">\n                          {moment(loan.loanApp.createdAt).format(\"DD/MM/YYYY\")}\n                        </div>\n                      </div>\n                      <div className=\"row\">\n                        <div className=\"col-5\">Date of Approval:</div>\n                        <div className=\"col\">\n                          {moment(loan.loanApp.updatedAt).format(\"DD/MM/YYYY\")}\n                        </div>\n                      </div>\n                      <div className=\"row\">\n                        <div className=\"col-5\">Currency:</div>\n                        <div className=\"col\">Nigerian Naira (NGN)</div>\n                      </div>\n                      <div className=\"row\">\n                        <div className=\"col-5\">Amount Requested:</div>\n                        <div className=\"col\">\n                          &#8358;{\" \"}\n                          {numeral(loan.loanApp.amount).format(\"0,0\") || 0.0}\n                        </div>\n                      </div>\n                      <div className=\"row\">\n                        <div className=\"col-5\">Amount Offered:</div>\n                        <div className=\"col\">\n                          &#8358;{\" \"}\n                          {numeral(loan.loanApp.approvedAmount).format(\"0,0\") ||\n                            0.0}\n                        </div>\n                      </div>\n                      <div className=\"row\">\n                        <div className=\"col-5\">Purpose:</div>\n                        <div className=\"col\">{loan.loanApp.loan_purpose}</div>\n                      </div>\n                      <div className=\"row\">\n                        <div className=\"col-5\">Source of funds:</div>\n                        <div className=\"col\">\n                          {loan.loanApp.loanApp_repayment || \"N/A\"}\n                        </div>\n                      </div>\n                      <div className=\"row\">\n                        <div className=\"col-5\">Average Salary:</div>\n                        <div className=\"col\">\n                          &#8358;{\" \"}\n                          {numeral(loan.loanApp.monthlyIncome).format(\"0,0\")}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <LoanRightOptions\n                  isScoringActive={isScoringActive}\n                  setScoringActive={setScoringActive}\n                  loan={loan}\n                />\n              </div>\n            </div>\n          )}\n          {!isLoading.userFull && showSection === \"documents\" && (\n            <div className=\"customer-documents-page animated fadeIn delay-05s\">\n              <div className=\"row\">\n                <div className=\"loan-documents-container col-9\">\n                  <div className=\"id-document-container\">\n                    <div className=\"details-header\">Guarantor Details</div>\n                    {loan.loanApp.guarantors.map((data, idx) => (\n                      <>\n                        <div className=\"scoring-opt-div\">\n                          {/* <button className={`btn approve-loan-btn first-btn`}>\n                            <CheckCircleFill /> Yes\n                          </button>\n                          <button className={`btn reject-loan-btn`}>\n                            <TimesCircleFill /> No\n                          </button> */}\n                        </div>\n                        <div key={data.id} className=\"row\">\n                          {guarantorFiles.map((file, i) => (\n                            <div key={file.id} className=\"col-5 document-card\">\n                              <img src={file.fileName} alt=\"\" />\n                              <div className=\"document-info\">\n                                <span>\n                                  <FileEarmarkImage />\n                                </span>\n                                <b>Guarantor Form {idx + 1}</b>\n                                <div className=\"file-action-icons\">\n                                  <span\n                                    data-toggle=\"tooltip\"\n                                    data-placement=\"bottom\"\n                                    title=\"Download ID\"\n                                  >\n                                    <a\n                                      href={file.fileName}\n                                      target=\"_blank\"\n                                      rel=\"noreferrer\"\n                                      download={`${customer.firstname}-ID`}\n                                    >\n                                      <CloudDownloadIcon />\n                                    </a>\n                                  </span>\n                                </div>\n                              </div>\n                            </div>\n                          ))}\n                          <div className=\"col id-document-details\">\n                            <div className=\"row\">\n                              <div className=\"col-5\">Guarantor Name:</div>\n                              <div className=\"col\">{data.name}</div>\n                            </div>\n                            {/* <div className=\"row\">\n                            <div className=\"col-5\">Phone Number:</div>\n                            <div className=\"col\">08023881233</div>\n                          </div> */}\n                            <div className=\"row\">\n                              <div className=\"col-5\">Guarantor ID:</div>\n                              <div className=\"col\">{data.id}</div>\n                            </div>\n                            <div className=\"row\">\n                              <div className=\"col-5\">Account Number:</div>\n                              <div className=\"col\">{data.accountNumber}</div>\n                            </div>\n                            <div className=\"row\">\n                              <div className=\"col-5\">Bank Name:</div>\n                              <div className=\"col\">\n                                {data.bankName || \"N/A\"}\n                              </div>\n                            </div>\n                            <div className=\"row\">\n                              <div className=\"col-5\">Status:</div>\n                              <div\n                                className={`${\n                                  data.status === \"Verified\"\n                                    ? \"verified\"\n                                    : \"not-verified\"\n                                } col`}\n                              >\n                                {data.status || \"Not Verified\"}\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </>\n                    ))}\n                  </div>\n                  <div className=\"other-documents\">\n                    <div className=\"details-header\">Other Documents</div>\n                    <div className=\"row\">{handleCriteriaFiles()}</div>\n                  </div>\n                </div>\n                <LoanRightOptions\n                  isScoringActive={isScoringActive}\n                  setScoringActive={setScoringActive}\n                  loan={loan}\n                />\n              </div>\n            </div>\n          )}\n          <>\n            <LoanComments loanAppId={loan.loan_app_id} />\n          </>\n        </main>\n      )}\n    </>\n  );\n};\nexport default Customer;\n"]},"metadata":{},"sourceType":"module"}